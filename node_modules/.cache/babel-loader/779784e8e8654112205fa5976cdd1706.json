{"ast":null,"code":"import _slicedToArray from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/BackToTop/back-to-top';\nimport { css } from '@patternfly/react-styles';\nimport AngleUpIcon from '@patternfly/react-icons/dist/esm/icons/angle-up-icon';\nimport { canUseDOM } from '../../helpers/util';\nimport { Button } from '../Button';\n\nvar BackToTopBase = function BackToTopBase(_a) {\n  var className = _a.className,\n      _a$title = _a.title,\n      title = _a$title === void 0 ? 'Back to top' : _a$title,\n      innerRef = _a.innerRef,\n      scrollableSelector = _a.scrollableSelector,\n      _a$isAlwaysVisible = _a.isAlwaysVisible,\n      isAlwaysVisible = _a$isAlwaysVisible === void 0 ? false : _a$isAlwaysVisible,\n      props = __rest(_a, [\"className\", \"title\", \"innerRef\", \"scrollableSelector\", \"isAlwaysVisible\"]);\n\n  var _React$useState = React.useState(isAlwaysVisible),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  React.useEffect(function () {\n    setVisible(isAlwaysVisible);\n  }, [isAlwaysVisible]);\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      scrollElement = _React$useState4[0],\n      setScrollElement = _React$useState4[1];\n\n  var toggleVisible = function toggleVisible() {\n    var scrolled = scrollElement.scrollY ? scrollElement.scrollY : scrollElement.scrollTop;\n\n    if (!isAlwaysVisible) {\n      if (scrolled > 400) {\n        setVisible(true);\n      } else {\n        setVisible(false);\n      }\n    }\n  };\n\n  React.useEffect(function () {\n    var hasScrollSpy = Boolean(scrollableSelector);\n\n    if (hasScrollSpy) {\n      var scrollEl = document.querySelector(scrollableSelector);\n\n      if (!canUseDOM || !(scrollEl instanceof HTMLElement)) {\n        return;\n      }\n\n      setScrollElement(scrollEl);\n      scrollEl.addEventListener('scroll', toggleVisible);\n      return function () {\n        scrollEl.removeEventListener('scroll', toggleVisible);\n      };\n    } else {\n      if (!canUseDOM) {\n        return;\n      }\n\n      var _scrollEl = window;\n      setScrollElement(_scrollEl);\n\n      _scrollEl.addEventListener('scroll', toggleVisible);\n\n      return function () {\n        _scrollEl.removeEventListener('scroll', toggleVisible);\n      };\n    }\n  }, [scrollableSelector, toggleVisible]);\n\n  var handleClick = function handleClick() {\n    scrollElement.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  return React.createElement(\"div\", Object.assign({\n    className: css(styles.backToTop, !visible && styles.modifiers.hidden, className),\n    ref: innerRef,\n    onClick: handleClick\n  }, props), React.createElement(Button, {\n    variant: \"primary\",\n    icon: React.createElement(AngleUpIcon, {\n      \"aria-hidden\": \"true\"\n    }),\n    iconPosition: \"right\"\n  }, title));\n};\n\nexport var BackToTop = React.forwardRef(function (props, ref) {\n  return React.createElement(BackToTopBase, Object.assign({\n    innerRef: ref\n  }, props));\n});\nBackToTop.displayName = 'BackToTop';","map":{"version":3,"mappings":"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","names":["React","styles","css","AngleUpIcon","canUseDOM","Button","BackToTopBase","_a","className","title","innerRef","scrollableSelector","isAlwaysVisible","props","__rest","useState","visible","setVisible","useEffect","scrollElement","setScrollElement","toggleVisible","scrolled","scrollY","scrollTop","hasScrollSpy","Boolean","scrollEl","document","querySelector","HTMLElement","addEventListener","removeEventListener","window","handleClick","scrollTo","top","behavior","backToTop","modifiers","hidden","ref","onClick","variant","icon","iconPosition","BackToTop","forwardRef","Object","displayName"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/BackToTop/BackToTop.tsx"],"sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/BackToTop/back-to-top';\nimport { css } from '@patternfly/react-styles';\nimport AngleUpIcon from '@patternfly/react-icons/dist/esm/icons/angle-up-icon';\nimport { canUseDOM } from '../../helpers/util';\nimport { Button } from '../Button';\n\ninterface BackToTopProps extends React.DetailedHTMLProps<React.HTMLProps<HTMLDivElement>, HTMLDivElement> {\n  /** Additional classes added to the back to top. */\n  className?: string;\n  /** Title to appear in back to top button. */\n  title?: string;\n  /** Forwarded ref */\n  innerRef?: React.Ref<any>;\n  /** Selector for the scrollable element to spy on. Not passing a selector defaults to spying on window scroll events. */\n  scrollableSelector?: string;\n  /** Flag to always show back to top button, defaults to false. */\n  isAlwaysVisible?: boolean;\n}\n\nconst BackToTopBase: React.FunctionComponent<BackToTopProps> = ({\n  className,\n  title = 'Back to top',\n  innerRef,\n  scrollableSelector,\n  isAlwaysVisible = false,\n  ...props\n}: BackToTopProps) => {\n  const [visible, setVisible] = React.useState(isAlwaysVisible);\n  React.useEffect(() => {\n    setVisible(isAlwaysVisible);\n  }, [isAlwaysVisible]);\n\n  const [scrollElement, setScrollElement] = React.useState(null);\n\n  const toggleVisible = () => {\n    const scrolled = scrollElement.scrollY ? scrollElement.scrollY : scrollElement.scrollTop;\n    if (!isAlwaysVisible) {\n      if (scrolled > 400) {\n        setVisible(true);\n      } else {\n        setVisible(false);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    const hasScrollSpy = Boolean(scrollableSelector);\n    if (hasScrollSpy) {\n      const scrollEl = document.querySelector(scrollableSelector) as HTMLElement;\n      if (!canUseDOM || !(scrollEl instanceof HTMLElement)) {\n        return;\n      }\n      setScrollElement(scrollEl);\n      scrollEl.addEventListener('scroll', toggleVisible);\n\n      return () => {\n        scrollEl.removeEventListener('scroll', toggleVisible);\n      };\n    } else {\n      if (!canUseDOM) {\n        return;\n      }\n      const scrollEl = window;\n      setScrollElement(scrollEl);\n      scrollEl.addEventListener('scroll', toggleVisible);\n\n      return () => {\n        scrollEl.removeEventListener('scroll', toggleVisible);\n      };\n    }\n  }, [scrollableSelector, toggleVisible]);\n\n  const handleClick = () => {\n    scrollElement.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  return (\n    <div\n      className={css(styles.backToTop, !visible && styles.modifiers.hidden, className)}\n      ref={innerRef}\n      onClick={handleClick}\n      {...props}\n    >\n      <Button variant=\"primary\" icon={<AngleUpIcon aria-hidden=\"true\" />} iconPosition=\"right\">\n        {title}\n      </Button>\n    </div>\n  );\n};\n\nexport const BackToTop = React.forwardRef((props: BackToTopProps, ref: React.Ref<any>) => (\n  <BackToTopBase innerRef={ref} {...props} />\n));\nBackToTop.displayName = 'BackToTop';\n"]},"metadata":{},"sourceType":"module"}
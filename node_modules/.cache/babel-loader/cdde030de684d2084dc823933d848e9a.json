{"ast":null,"code":"import _slicedToArray from\"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import ReactDOM from'react-dom';import'./index.css';import{AppLayout}from'./AppLayout';import{AppRoutes}from'./AppRoutes';import reportWebVitals from'./reportWebVitals';import{BrowserRouter}from'react-router-dom';import{ErrorBoundary}from'./components/ErrorBoundary/ErrorBoundary';import{keycloakService}from'./services/keycloakService';import{jsx as _jsx}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isKeycloakInitiated=_useState2[0],setIsKeycloakInitiated=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isKeycloakInitFail=_useState4[0],setIsKeycloakInitFail=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isKeycloakInitInProcess=_useState6[0],setIsKeycloakInitInProcess=_useState6[1];useEffect(function(){keycloakService.isInitialized().then(function(){setIsKeycloakInitiated(true);}).catch(function(){setIsKeycloakInitFail(true);}).finally(function(){setIsKeycloakInitInProcess(false);});},[]);if(isKeycloakInitiated){return/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(BrowserRouter,{basename:\"/pnc-web\",children:/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsx(AppRoutes,{})})})});}if(isKeycloakInitFail){return/*#__PURE__*/_jsx(\"div\",{children:\"Keycloak initialization failed\"});}if(isKeycloakInitInProcess){return/*#__PURE__*/_jsx(\"div\",{children:\"keycloak initialization\"});}throw new Error('Keycloak initialization state is invalid.');};ReactDOM.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","map":{"version":3,"names":["React","useEffect","useState","ReactDOM","AppLayout","AppRoutes","reportWebVitals","BrowserRouter","ErrorBoundary","keycloakService","App","isKeycloakInitiated","setIsKeycloakInitiated","isKeycloakInitFail","setIsKeycloakInitFail","isKeycloakInitInProcess","setIsKeycloakInitInProcess","isInitialized","then","catch","finally","Error","render","document","getElementById"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { AppLayout } from './AppLayout';\nimport { AppRoutes } from './AppRoutes';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ErrorBoundary } from './components/ErrorBoundary/ErrorBoundary';\nimport { keycloakService } from './services/keycloakService';\n\nconst App = () => {\n  const [isKeycloakInitiated, setIsKeycloakInitiated] = useState<boolean>(false);\n  const [isKeycloakInitFail, setIsKeycloakInitFail] = useState<boolean>(false);\n  const [isKeycloakInitInProcess, setIsKeycloakInitInProcess] = useState<boolean>(true);\n\n  useEffect(() => {\n    keycloakService\n      .isInitialized()\n      .then(() => {\n        setIsKeycloakInitiated(true);\n      })\n      .catch(() => {\n        setIsKeycloakInitFail(true);\n      })\n      .finally(() => {\n        setIsKeycloakInitInProcess(false);\n      });\n  }, []);\n\n  if (isKeycloakInitiated) {\n    return (\n      <ErrorBoundary>\n        <BrowserRouter basename=\"/pnc-web\">\n          <AppLayout>\n            <AppRoutes></AppRoutes>\n          </AppLayout>\n        </BrowserRouter>\n      </ErrorBoundary>\n    );\n  }\n\n  if (isKeycloakInitFail) {\n    return <div>Keycloak initialization failed</div>;\n  }\n\n  if (isKeycloakInitInProcess) {\n    return <div>keycloak initialization</div>;\n  }\n\n  throw new Error('Keycloak initialization state is invalid.');\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"mappings":"qIAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,SAAP,KAAqB,WAArB,CACA,MAAO,aAAP,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,OAASC,aAAT,KAA8B,0CAA9B,CACA,OAASC,eAAT,KAAgC,4BAAhC,C,2CAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAM,CAChB,cAAsDR,QAAQ,CAAU,KAAV,CAA9D,wCAAOS,mBAAP,eAA4BC,sBAA5B,eACA,eAAoDV,QAAQ,CAAU,KAAV,CAA5D,yCAAOW,kBAAP,eAA2BC,qBAA3B,eACA,eAA8DZ,QAAQ,CAAU,IAAV,CAAtE,yCAAOa,uBAAP,eAAgCC,0BAAhC,eAEAf,SAAS,CAAC,UAAM,CACdQ,eAAe,CACZQ,aADH,GAEGC,IAFH,CAEQ,UAAM,CACVN,sBAAsB,CAAC,IAAD,CAAtB,CACD,CAJH,EAKGO,KALH,CAKS,UAAM,CACXL,qBAAqB,CAAC,IAAD,CAArB,CACD,CAPH,EAQGM,OARH,CAQW,UAAM,CACbJ,0BAA0B,CAAC,KAAD,CAA1B,CACD,CAVH,EAWD,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAIL,mBAAJ,CAAyB,CACvB,mBACE,KAAC,aAAD,wBACE,KAAC,aAAD,EAAe,QAAQ,CAAC,UAAxB,uBACE,KAAC,SAAD,wBACE,KAAC,SAAD,IADF,EADF,EADF,EADF,CASD,CAED,GAAIE,kBAAJ,CAAwB,CACtB,mBAAO,uDAAP,CACD,CAED,GAAIE,uBAAJ,CAA6B,CAC3B,mBAAO,gDAAP,CACD,CAED,KAAM,IAAIM,MAAJ,CAAU,2CAAV,CAAN,CACD,CAxCD,CA0CAlB,QAAQ,CAACmB,MAAT,cACE,KAAC,KAAD,CAAO,UAAP,wBACE,KAAC,GAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAlB,eAAe"},"metadata":{},"sourceType":"module"}
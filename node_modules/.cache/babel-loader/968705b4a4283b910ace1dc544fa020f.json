{"ast":null,"code":"import * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nimport { CollapseColumn } from '../../CollapseColumn';\nimport { ExpandableRowContent } from '../../ExpandableRowContent';\nexport const collapsible = (value, _ref) => {\n  let {\n    rowIndex,\n    columnIndex,\n    rowData,\n    column,\n    property\n  } = _ref;\n  const {\n    extraParams: {\n      onCollapse,\n      rowLabeledBy = 'simple-node',\n      expandId = 'expand-toggle',\n      allRowsExpanded,\n      collapseAllAriaLabel\n    }\n  } = column;\n  const extraData = {\n    rowIndex,\n    columnIndex,\n    column,\n    property\n  };\n  const rowId = rowIndex !== undefined ? rowIndex : -1;\n  const customProps = Object.assign({}, rowId !== -1 ? {\n    isOpen: rowData === null || rowData === void 0 ? void 0 : rowData.isOpen,\n    'aria-labelledby': `${rowLabeledBy}${rowId} ${expandId}${rowId}`\n  } : {\n    isOpen: allRowsExpanded,\n    'aria-label': collapseAllAriaLabel || 'Expand all rows'\n  });\n  /**\n   * @param {React.MouseEvent} event - Mouse event\n   */\n\n  function onToggle(event) {\n    const open = rowData ? !rowData.isOpen : !allRowsExpanded; // tslint:disable-next-line:no-unused-expression\n\n    onCollapse && onCollapse(event, rowIndex, open, rowData, extraData);\n  }\n\n  return {\n    className: ((rowData === null || rowData === void 0 ? void 0 : rowData.isOpen) !== undefined || rowId === -1) && css(styles.tableToggle),\n    isVisible: !(rowData === null || rowData === void 0 ? void 0 : rowData.fullWidth),\n    children: React.createElement(CollapseColumn, Object.assign({\n      \"aria-labelledby\": `${rowLabeledBy}${rowId} ${expandId}${rowId}`,\n      onToggle: onToggle,\n      id: expandId + rowId\n    }, customProps), value)\n  };\n};\nexport const expandable = (value, _ref2) => {\n  let {\n    rowData\n  } = _ref2;\n  return rowData && rowData.hasOwnProperty('parent') ? React.createElement(ExpandableRowContent, null, value) : value;\n};\nexport const expandedRow = colSpan => {\n  const expandedRowFormatter = (value, _ref3) => {\n    let {\n      columnIndex,\n      rowIndex,\n      rowData,\n      column: {\n        extraParams: {\n          contentId = 'expanded-content'\n        }\n      }\n    } = _ref3;\n    return value && rowData.hasOwnProperty('parent') && {\n      // todo: rewrite this logic, it is not type safe\n      colSpan: !rowData.cells || rowData.cells.length === 1 ? colSpan + !!rowData.fullWidth : 1,\n      id: contentId + rowIndex + (columnIndex ? '-' + columnIndex : ''),\n      className: rowData.noPadding && css(styles.modifiers.noPadding)\n    };\n  };\n\n  return expandedRowFormatter;\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,GAAT,QAAoB,0BAApB;AACA,OAAOC,MAAP,MAAmB,qDAAnB;AACA,SAASC,cAAT,QAA+B,sBAA/B;AACA,SAASC,oBAAT,QAAqC,4BAArC;AAGA,OAAO,MAAMC,WAAW,GAAe,CACrCC,KADqC,WAGnC;EAAA,IADF;IAAEC,QAAF;IAAYC,WAAZ;IAAyBC,OAAzB;IAAkCC,MAAlC;IAA0CC;EAA1C,CACE;EACF,MAAM;IACJC,WAAW,EAAE;MACXC,UADW;MAEXC,YAAY,GAAG,aAFJ;MAGXC,QAAQ,GAAG,eAHA;MAIXC,eAJW;MAKXC;IALW;EADT,IAQFP,MARJ;EASA,MAAMQ,SAAS,GAAG;IAChBX,QADgB;IAEhBC,WAFgB;IAGhBE,MAHgB;IAIhBC;EAJgB,CAAlB;EAOA,MAAMQ,KAAK,GAAGZ,QAAQ,KAAKa,SAAb,GAAyBb,QAAzB,GAAoC,CAAC,CAAnD;EAEA,MAAMc,WAAW,qBACXF,KAAK,KAAK,CAAC,CAAX,GACA;IACEG,MAAM,EAAEb,OAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEa,MADnB;IAEE,mBAAmB,GAAGR,YAAY,GAAGK,KAAK,IAAIJ,QAAQ,GAAGI,KAAK;EAFhE,CADA,GAKA;IACEG,MAAM,EAAEN,eADV;IAEE,cAAcC,oBAAoB,IAAI;EAFxC,CANW,CAAjB;EAYA;;;;EAGA,SAASM,QAAT,CAAkBC,KAAlB,EAAwE;IACtE,MAAMC,IAAI,GAAGhB,OAAO,GAAG,CAACA,OAAO,CAACa,MAAZ,GAAqB,CAACN,eAA1C,CADsE,CAEtE;;IACAH,UAAU,IAAIA,UAAU,CAACW,KAAD,EAAQjB,QAAR,EAAkBkB,IAAlB,EAAwBhB,OAAxB,EAAiCS,SAAjC,CAAxB;EACD;;EAED,OAAO;IACLQ,SAAS,EAAE,CAAC,QAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEJ,MAAT,MAAoBF,SAApB,IAAiCD,KAAK,KAAK,CAAC,CAA7C,KAAmDlB,GAAG,CAACC,MAAM,CAACyB,WAAR,CAD5D;IAELC,SAAS,EAAE,EAACnB,OAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEoB,SAAV,CAFN;IAGLC,QAAQ,EACN9B,oBAACG,cAAD,EAAe4B;MAAA,mBACI,GAAGjB,YAAY,GAAGK,KAAK,IAAIJ,QAAQ,GAAGI,KAAK,EAD/C;MAEbI,QAAQ,EAAEA,QAFG;MAGbS,EAAE,EAAEjB,QAAQ,GAAGI;IAHF,GAITE,WAJS,CAAf,EAMGf,KANH;EAJG,CAAP;AAcD,CAzDM;AA2DP,OAAO,MAAM2B,UAAU,GAAe,CAAC3B,KAAD;EAAA,IAA6B;IAAEG;EAAF,CAA7B;EAAA,OACpCA,OAAO,IAAIA,OAAO,CAACyB,cAAR,CAAuB,QAAvB,CAAX,GAA8ClC,oBAACI,oBAAD,EAAqB,IAArB,EAAuBE,KAAvB,CAA9C,GAAqGA,KADjE;AAAA,CAA/B;AAGP,OAAO,MAAM6B,WAAW,GAAIC,OAAD,IAAqB;EAC9C,MAAMC,oBAAoB,GAAG,CAC3B/B,KAD2B;IAAA,IAE3B;MACEE,WADF;MAEED,QAFF;MAGEE,OAHF;MAIEC,MAAM,EAAE;QACNE,WAAW,EAAE;UAAE0B,SAAS,GAAG;QAAd;MADP;IAJV,CAF2B;IAAA,OAW3BhC,KAAK,IACLG,OAAO,CAACyB,cAAR,CAAuB,QAAvB,CADA,IACoC;MAClC;MACAE,OAAO,EAAE,CAAC3B,OAAO,CAAC8B,KAAT,IAAkB9B,OAAO,CAAC8B,KAAR,CAAcC,MAAd,KAAyB,CAA3C,GAA+CJ,OAAO,GAAI,CAAC,CAAC3B,OAAO,CAACoB,SAApE,GAAwF,CAF/D;MAGlCG,EAAE,EAAEM,SAAS,GAAG/B,QAAZ,IAAwBC,WAAW,GAAG,MAAMA,WAAT,GAAuB,EAA1D,CAH8B;MAIlCkB,SAAS,EAAEjB,OAAO,CAACgC,SAAR,IAAqBxC,GAAG,CAACC,MAAM,CAACwC,SAAP,CAAiBD,SAAlB;IAJD,CAZT;EAAA,CAA7B;;EAkBA,OAAOJ,oBAAP;AACD,CApBM","names":["React","css","styles","CollapseColumn","ExpandableRowContent","collapsible","value","rowIndex","columnIndex","rowData","column","property","extraParams","onCollapse","rowLabeledBy","expandId","allRowsExpanded","collapseAllAriaLabel","extraData","rowId","undefined","customProps","isOpen","onToggle","event","open","className","tableToggle","isVisible","fullWidth","children","Object","id","expandable","hasOwnProperty","expandedRow","colSpan","expandedRowFormatter","contentId","cells","length","noPadding","modifiers"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-table/src/components/Table/utils/decorators/collapsible.tsx"],"sourcesContent":["import * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nimport { CollapseColumn } from '../../CollapseColumn';\nimport { ExpandableRowContent } from '../../ExpandableRowContent';\nimport { IExtra, IFormatterValueType, IFormatter, decoratorReturnType } from '../../TableTypes';\n\nexport const collapsible: IFormatter = (\n  value: IFormatterValueType,\n  { rowIndex, columnIndex, rowData, column, property }: IExtra\n) => {\n  const {\n    extraParams: {\n      onCollapse,\n      rowLabeledBy = 'simple-node',\n      expandId = 'expand-toggle',\n      allRowsExpanded,\n      collapseAllAriaLabel\n    }\n  } = column;\n  const extraData = {\n    rowIndex,\n    columnIndex,\n    column,\n    property\n  };\n\n  const rowId = rowIndex !== undefined ? rowIndex : -1;\n\n  const customProps = {\n    ...(rowId !== -1\n      ? {\n          isOpen: rowData?.isOpen,\n          'aria-labelledby': `${rowLabeledBy}${rowId} ${expandId}${rowId}`\n        }\n      : {\n          isOpen: allRowsExpanded,\n          'aria-label': collapseAllAriaLabel || 'Expand all rows'\n        })\n  };\n\n  /**\n   * @param {React.MouseEvent} event - Mouse event\n   */\n  function onToggle(event: React.MouseEvent<HTMLButtonElement, MouseEvent>) {\n    const open = rowData ? !rowData.isOpen : !allRowsExpanded;\n    // tslint:disable-next-line:no-unused-expression\n    onCollapse && onCollapse(event, rowIndex, open, rowData, extraData);\n  }\n\n  return {\n    className: (rowData?.isOpen !== undefined || rowId === -1) && css(styles.tableToggle),\n    isVisible: !rowData?.fullWidth,\n    children: (\n      <CollapseColumn\n        aria-labelledby={`${rowLabeledBy}${rowId} ${expandId}${rowId}`}\n        onToggle={onToggle}\n        id={expandId + rowId}\n        {...customProps}\n      >\n        {value}\n      </CollapseColumn>\n    )\n  };\n};\n\nexport const expandable: IFormatter = (value: IFormatterValueType, { rowData }: IExtra) =>\n  rowData && rowData.hasOwnProperty('parent') ? <ExpandableRowContent>{value}</ExpandableRowContent> : value;\n\nexport const expandedRow = (colSpan?: number) => {\n  const expandedRowFormatter = (\n    value: IFormatterValueType,\n    {\n      columnIndex,\n      rowIndex,\n      rowData,\n      column: {\n        extraParams: { contentId = 'expanded-content' }\n      }\n    }: IExtra\n  ): decoratorReturnType =>\n    value &&\n    rowData.hasOwnProperty('parent') && {\n      // todo: rewrite this logic, it is not type safe\n      colSpan: !rowData.cells || rowData.cells.length === 1 ? colSpan + (!!rowData.fullWidth as any) : 1,\n      id: contentId + rowIndex + (columnIndex ? '-' + columnIndex : ''),\n      className: rowData.noPadding && css(styles.modifiers.noPadding)\n    };\n  return expandedRowFormatter;\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useState, useEffect } from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/TreeView/tree-view';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport { Badge } from '../Badge';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\n\nvar TreeViewListItemBase = function TreeViewListItemBase(_ref) {\n  var name = _ref.name,\n      title = _ref.title,\n      id = _ref.id,\n      isExpanded = _ref.isExpanded,\n      _ref$defaultExpanded = _ref.defaultExpanded,\n      defaultExpanded = _ref$defaultExpanded === void 0 ? false : _ref$defaultExpanded,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? null : _ref$children,\n      onSelect = _ref.onSelect,\n      onCheck = _ref.onCheck,\n      _ref$hasCheck = _ref.hasCheck,\n      hasCheck = _ref$hasCheck === void 0 ? false : _ref$hasCheck,\n      _ref$checkProps = _ref.checkProps,\n      checkProps = _ref$checkProps === void 0 ? {\n    checked: false\n  } : _ref$checkProps,\n      _ref$hasBadge = _ref.hasBadge,\n      hasBadge = _ref$hasBadge === void 0 ? false : _ref$hasBadge,\n      customBadgeContent = _ref.customBadgeContent,\n      _ref$badgeProps = _ref.badgeProps,\n      badgeProps = _ref$badgeProps === void 0 ? {\n    isRead: true\n  } : _ref$badgeProps,\n      isCompact = _ref.isCompact,\n      _ref$activeItems = _ref.activeItems,\n      activeItems = _ref$activeItems === void 0 ? [] : _ref$activeItems,\n      itemData = _ref.itemData,\n      parentItem = _ref.parentItem,\n      icon = _ref.icon,\n      expandedIcon = _ref.expandedIcon,\n      action = _ref.action,\n      compareItems = _ref.compareItems,\n      useMemo = _ref.useMemo;\n\n  var _useState = useState(defaultExpanded),\n      _useState2 = _slicedToArray(_useState, 2),\n      internalIsExpanded = _useState2[0],\n      setIsExpanded = _useState2[1];\n\n  useEffect(function () {\n    if (isExpanded !== undefined && isExpanded !== null) {\n      setIsExpanded(isExpanded);\n    } else if (defaultExpanded !== undefined && defaultExpanded !== null) {\n      setIsExpanded(internalIsExpanded || defaultExpanded);\n    }\n  }, [isExpanded, defaultExpanded]);\n  var Component = hasCheck ? 'div' : 'button';\n  var ToggleComponent = hasCheck ? 'button' : 'div';\n\n  var renderToggle = function renderToggle(randomId) {\n    return React.createElement(ToggleComponent, Object.assign({\n      className: css(styles.treeViewNodeToggle),\n      onClick: function onClick() {\n        if (hasCheck) {\n          setIsExpanded(!internalIsExpanded);\n        }\n      }\n    }, hasCheck && {\n      'aria-labelledby': \"label-\".concat(randomId)\n    }, {\n      tabIndex: -1\n    }), React.createElement(\"span\", {\n      className: css(styles.treeViewNodeToggleIcon)\n    }, React.createElement(AngleRightIcon, {\n      \"aria-hidden\": \"true\"\n    })));\n  };\n\n  var renderCheck = function renderCheck(randomId) {\n    return React.createElement(\"span\", {\n      className: css(styles.treeViewNodeCheck)\n    }, React.createElement(\"input\", Object.assign({\n      type: \"checkbox\",\n      onChange: function onChange(evt) {\n        return onCheck && onCheck(evt, itemData, parentItem);\n      },\n      onClick: function onClick(evt) {\n        return evt.stopPropagation();\n      },\n      ref: function ref(elem) {\n        return elem && (elem.indeterminate = checkProps.checked === null);\n      }\n    }, checkProps, {\n      checked: checkProps.checked === null ? false : checkProps.checked,\n      id: randomId,\n      tabIndex: -1\n    })));\n  };\n\n  var iconRendered = React.createElement(\"span\", {\n    className: css(styles.treeViewNodeIcon)\n  }, !internalIsExpanded && icon, internalIsExpanded && (expandedIcon || icon));\n\n  var renderNodeContent = function renderNodeContent(randomId) {\n    var content = React.createElement(React.Fragment, null, isCompact && title && React.createElement(\"span\", {\n      className: css(styles.treeViewNodeTitle)\n    }, title), hasCheck ? React.createElement(\"label\", {\n      className: css(styles.treeViewNodeText),\n      htmlFor: randomId,\n      id: \"label-\".concat(randomId)\n    }, name) : React.createElement(\"span\", {\n      className: css(styles.treeViewNodeText)\n    }, name));\n    return isCompact ? React.createElement(\"div\", {\n      className: css(styles.treeViewNodeContent)\n    }, content) : content;\n  };\n\n  var badgeRendered = React.createElement(React.Fragment, null, hasBadge && children && React.createElement(\"span\", {\n    className: css(styles.treeViewNodeCount)\n  }, React.createElement(Badge, Object.assign({}, badgeProps), customBadgeContent ? customBadgeContent : children.props.data.length)), hasBadge && !children && customBadgeContent !== undefined && React.createElement(\"span\", {\n    className: css(styles.treeViewNodeCount)\n  }, React.createElement(Badge, Object.assign({}, badgeProps), customBadgeContent)));\n  return React.createElement(\"li\", Object.assign({\n    id: id,\n    className: css(styles.treeViewListItem, internalIsExpanded && styles.modifiers.expanded)\n  }, internalIsExpanded && {\n    'aria-expanded': 'true'\n  }, {\n    role: \"treeitem\",\n    tabIndex: -1\n  }), React.createElement(\"div\", {\n    className: css(styles.treeViewContent)\n  }, React.createElement(GenerateId, {\n    prefix: \"checkbox-id\"\n  }, function (randomId) {\n    return React.createElement(Component, {\n      className: css(styles.treeViewNode, !children && activeItems && activeItems.length > 0 && activeItems.some(function (item) {\n        return compareItems && item && compareItems(item, itemData);\n      }) ? styles.modifiers.current : ''),\n      onClick: function onClick(evt) {\n        if (!hasCheck) {\n          onSelect && onSelect(evt, itemData, parentItem);\n\n          if (children && evt.isDefaultPrevented() !== true) {\n            setIsExpanded(!internalIsExpanded);\n          }\n        }\n      },\n      tabIndex: -1\n    }, React.createElement(\"div\", {\n      className: css(styles.treeViewNodeContainer)\n    }, children && renderToggle(randomId), hasCheck && renderCheck(randomId), icon && iconRendered, renderNodeContent(randomId), badgeRendered));\n  }), action && React.createElement(\"div\", {\n    className: css(styles.treeViewAction)\n  }, action)), internalIsExpanded && children);\n};\n\nexport var TreeViewListItem = React.memo(TreeViewListItemBase, function (prevProps, nextProps) {\n  if (!nextProps.useMemo) {\n    return false;\n  }\n\n  var prevIncludes = prevProps.activeItems && prevProps.activeItems.length > 0 && prevProps.activeItems.some(function (item) {\n    return prevProps.compareItems && item && prevProps.compareItems(item, prevProps.itemData);\n  });\n  var nextIncludes = nextProps.activeItems && nextProps.activeItems.length > 0 && nextProps.activeItems.some(function (item) {\n    return nextProps.compareItems && item && nextProps.compareItems(item, nextProps.itemData);\n  });\n\n  if (prevIncludes || nextIncludes) {\n    return false;\n  }\n\n  if (prevProps.name !== nextProps.name || prevProps.title !== nextProps.title || prevProps.id !== nextProps.id || prevProps.isExpanded !== nextProps.isExpanded || prevProps.defaultExpanded !== nextProps.defaultExpanded || prevProps.onSelect !== nextProps.onSelect || prevProps.onCheck !== nextProps.onCheck || prevProps.hasCheck !== nextProps.hasCheck || prevProps.checkProps !== nextProps.checkProps || prevProps.hasBadge !== nextProps.hasBadge || prevProps.customBadgeContent !== nextProps.customBadgeContent || prevProps.badgeProps !== nextProps.badgeProps || prevProps.isCompact !== nextProps.isCompact || prevProps.icon !== nextProps.icon || prevProps.expandedIcon !== nextProps.expandedIcon || prevProps.action !== nextProps.action || prevProps.parentItem !== nextProps.parentItem || prevProps.itemData !== nextProps.itemData) {\n    return false;\n  }\n\n  return true;\n});\nTreeViewListItem.displayName = 'TreeViewListItem';","map":{"version":3,"mappings":"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","names":["React","useState","useEffect","css","styles","AngleRightIcon","Badge","GenerateId","TreeViewListItemBase","name","title","id","isExpanded","defaultExpanded","children","onSelect","onCheck","hasCheck","checkProps","checked","hasBadge","customBadgeContent","badgeProps","isRead","isCompact","activeItems","itemData","parentItem","icon","expandedIcon","action","compareItems","useMemo","internalIsExpanded","setIsExpanded","undefined","Component","ToggleComponent","renderToggle","randomId","Object","className","treeViewNodeToggle","onClick","tabIndex","treeViewNodeToggleIcon","renderCheck","treeViewNodeCheck","type","onChange","evt","stopPropagation","ref","elem","indeterminate","iconRendered","treeViewNodeIcon","renderNodeContent","content","treeViewNodeTitle","treeViewNodeText","htmlFor","treeViewNodeContent","badgeRendered","treeViewNodeCount","props","data","length","treeViewListItem","modifiers","expanded","role","treeViewContent","prefix","treeViewNode","some","item","current","isDefaultPrevented","treeViewNodeContainer","treeViewAction","TreeViewListItem","memo","prevProps","nextProps","prevIncludes","nextIncludes","displayName"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/TreeView/TreeViewListItem.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/TreeView/tree-view';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport { TreeViewDataItem } from './TreeView';\nimport { Badge } from '../Badge';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\n\nexport interface TreeViewCheckProps extends Partial<React.InputHTMLAttributes<HTMLInputElement>> {\n  checked?: boolean | null;\n}\n\nexport interface TreeViewListItemProps {\n  /** Internal content of a tree view item */\n  name: React.ReactNode;\n  /** Title a tree view item */\n  title: React.ReactNode;\n  /** ID of a tree view item */\n  id?: string;\n  /** Flag indicating if the node is expanded, overrides internal state */\n  isExpanded?: boolean;\n  /** Flag indicating if node is expanded by default */\n  defaultExpanded?: boolean;\n  /** Child nodes of a tree view item */\n  children?: React.ReactNode;\n  /** Callback for item selection. Note: calling event.preventDefault() will prevent the node from toggling. */\n  onSelect?: (event: React.MouseEvent, item: TreeViewDataItem, parent: TreeViewDataItem) => void;\n  /** Callback for item checkbox selection */\n  onCheck?: (event: React.ChangeEvent, item: TreeViewDataItem, parent: TreeViewDataItem) => void;\n  /** Flag indicating if a tree view item has a checkbox */\n  hasCheck?: boolean;\n  /** Additional properties of the tree view item checkbox */\n  checkProps?: TreeViewCheckProps;\n  /** Flag indicating if a tree view item has a badge */\n  hasBadge?: boolean;\n  /** Optional prop for custom badge */\n  customBadgeContent?: React.ReactNode;\n  /** Additional properties of the tree view item badge */\n  badgeProps?: any;\n  /** Flag indicating if the tree view is using a compact variation. */\n  isCompact?: boolean;\n  /** Active items of tree view */\n  activeItems?: TreeViewDataItem[];\n  /** Data structure of tree view item */\n  itemData?: TreeViewDataItem;\n  /** Parent item of tree view item */\n  parentItem?: TreeViewDataItem;\n  /** Default icon of a tree view item */\n  icon?: React.ReactNode;\n  /** Expanded icon of a tree view item */\n  expandedIcon?: React.ReactNode;\n  /** Action of a tree view item, can be a Button or Dropdown */\n  action?: React.ReactNode;\n  /** Callback for item comparison function */\n  compareItems?: (item: TreeViewDataItem, itemToCheck: TreeViewDataItem) => boolean;\n  /** Flag indicating the TreeView should utilize memoization to help render large data sets. Setting this property requires that `activeItems` pass in an array containing every node in the selected item's path. */\n  useMemo?: boolean;\n}\n\nconst TreeViewListItemBase: React.FunctionComponent<TreeViewListItemProps> = ({\n  name,\n  title,\n  id,\n  isExpanded,\n  defaultExpanded = false,\n  children = null,\n  onSelect,\n  onCheck,\n  hasCheck = false,\n  checkProps = {\n    checked: false\n  },\n  hasBadge = false,\n  customBadgeContent,\n  badgeProps = { isRead: true },\n  isCompact,\n  activeItems = [],\n  itemData,\n  parentItem,\n  icon,\n  expandedIcon,\n  action,\n  compareItems,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  useMemo\n}: TreeViewListItemProps) => {\n  const [internalIsExpanded, setIsExpanded] = useState(defaultExpanded);\n  useEffect(() => {\n    if (isExpanded !== undefined && isExpanded !== null) {\n      setIsExpanded(isExpanded);\n    } else if (defaultExpanded !== undefined && defaultExpanded !== null) {\n      setIsExpanded(internalIsExpanded || defaultExpanded);\n    }\n  }, [isExpanded, defaultExpanded]);\n\n  const Component = hasCheck ? 'div' : 'button';\n  const ToggleComponent = hasCheck ? 'button' : 'div';\n  const renderToggle = (randomId: string) => (\n    <ToggleComponent\n      className={css(styles.treeViewNodeToggle)}\n      onClick={() => {\n        if (hasCheck) {\n          setIsExpanded(!internalIsExpanded);\n        }\n      }}\n      {...(hasCheck && { 'aria-labelledby': `label-${randomId}` })}\n      tabIndex={-1}\n    >\n      <span className={css(styles.treeViewNodeToggleIcon)}>\n        <AngleRightIcon aria-hidden=\"true\" />\n      </span>\n    </ToggleComponent>\n  );\n  const renderCheck = (randomId: string) => (\n    <span className={css(styles.treeViewNodeCheck)}>\n      <input\n        type=\"checkbox\"\n        onChange={(evt: React.ChangeEvent) => onCheck && onCheck(evt, itemData, parentItem)}\n        onClick={(evt: React.MouseEvent) => evt.stopPropagation()}\n        ref={elem => elem && (elem.indeterminate = checkProps.checked === null)}\n        {...checkProps}\n        checked={checkProps.checked === null ? false : checkProps.checked}\n        id={randomId}\n        tabIndex={-1}\n      />\n    </span>\n  );\n  const iconRendered = (\n    <span className={css(styles.treeViewNodeIcon)}>\n      {!internalIsExpanded && icon}\n      {internalIsExpanded && (expandedIcon || icon)}\n    </span>\n  );\n  const renderNodeContent = (randomId: string) => {\n    const content = (\n      <>\n        {isCompact && title && <span className={css(styles.treeViewNodeTitle)}>{title}</span>}\n        {hasCheck ? (\n          <label className={css(styles.treeViewNodeText)} htmlFor={randomId} id={`label-${randomId}`}>\n            {name}\n          </label>\n        ) : (\n          <span className={css(styles.treeViewNodeText)}>{name}</span>\n        )}\n      </>\n    );\n    return isCompact ? <div className={css(styles.treeViewNodeContent)}>{content}</div> : content;\n  };\n  const badgeRendered = (\n    <>\n      {hasBadge && children && (\n        <span className={css(styles.treeViewNodeCount)}>\n          <Badge {...badgeProps}>\n            {customBadgeContent ? customBadgeContent : (children as React.ReactElement).props.data.length}\n          </Badge>\n        </span>\n      )}\n      {hasBadge && !children && customBadgeContent !== undefined && (\n        <span className={css(styles.treeViewNodeCount)}>\n          <Badge {...badgeProps}>{customBadgeContent}</Badge>\n        </span>\n      )}\n    </>\n  );\n  return (\n    <li\n      id={id}\n      className={css(styles.treeViewListItem, internalIsExpanded && styles.modifiers.expanded)}\n      {...(internalIsExpanded && { 'aria-expanded': 'true' })}\n      role=\"treeitem\"\n      tabIndex={-1}\n    >\n      <div className={css(styles.treeViewContent)}>\n        <GenerateId prefix=\"checkbox-id\">\n          {randomId => (\n            <Component\n              className={css(\n                styles.treeViewNode,\n                !children &&\n                  activeItems &&\n                  activeItems.length > 0 &&\n                  activeItems.some(item => compareItems && item && compareItems(item, itemData))\n                  ? styles.modifiers.current\n                  : ''\n              )}\n              onClick={(evt: React.MouseEvent) => {\n                if (!hasCheck) {\n                  onSelect && onSelect(evt, itemData, parentItem);\n                  if (children && evt.isDefaultPrevented() !== true) {\n                    setIsExpanded(!internalIsExpanded);\n                  }\n                }\n              }}\n              tabIndex={-1}\n            >\n              <div className={css(styles.treeViewNodeContainer)}>\n                {children && renderToggle(randomId)}\n                {hasCheck && renderCheck(randomId)}\n                {icon && iconRendered}\n                {renderNodeContent(randomId)}\n                {badgeRendered}\n              </div>\n            </Component>\n          )}\n        </GenerateId>\n        {action && <div className={css(styles.treeViewAction)}>{action}</div>}\n      </div>\n      {internalIsExpanded && children}\n    </li>\n  );\n};\n\nexport const TreeViewListItem = React.memo(TreeViewListItemBase, (prevProps, nextProps) => {\n  if (!nextProps.useMemo) {\n    return false;\n  }\n\n  const prevIncludes =\n    prevProps.activeItems &&\n    prevProps.activeItems.length > 0 &&\n    prevProps.activeItems.some(\n      item => prevProps.compareItems && item && prevProps.compareItems(item, prevProps.itemData)\n    );\n  const nextIncludes =\n    nextProps.activeItems &&\n    nextProps.activeItems.length > 0 &&\n    nextProps.activeItems.some(\n      item => nextProps.compareItems && item && nextProps.compareItems(item, nextProps.itemData)\n    );\n\n  if (prevIncludes || nextIncludes) {\n    return false;\n  }\n\n  if (\n    prevProps.name !== nextProps.name ||\n    prevProps.title !== nextProps.title ||\n    prevProps.id !== nextProps.id ||\n    prevProps.isExpanded !== nextProps.isExpanded ||\n    prevProps.defaultExpanded !== nextProps.defaultExpanded ||\n    prevProps.onSelect !== nextProps.onSelect ||\n    prevProps.onCheck !== nextProps.onCheck ||\n    prevProps.hasCheck !== nextProps.hasCheck ||\n    prevProps.checkProps !== nextProps.checkProps ||\n    prevProps.hasBadge !== nextProps.hasBadge ||\n    prevProps.customBadgeContent !== nextProps.customBadgeContent ||\n    prevProps.badgeProps !== nextProps.badgeProps ||\n    prevProps.isCompact !== nextProps.isCompact ||\n    prevProps.icon !== nextProps.icon ||\n    prevProps.expandedIcon !== nextProps.expandedIcon ||\n    prevProps.action !== nextProps.action ||\n    prevProps.parentItem !== nextProps.parentItem ||\n    prevProps.itemData !== nextProps.itemData\n  ) {\n    return false;\n  }\n\n  return true;\n});\n\nTreeViewListItem.displayName = 'TreeViewListItem';\n"]},"metadata":{},"sourceType":"module"}
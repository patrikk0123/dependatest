{"ast":null,"code":"import _classCallCheck from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Menu/menu';\nimport { css } from '@patternfly/react-styles';\nimport { getOUIAProps, getDefaultOUIAId } from '../../helpers';\nimport { MenuContext } from './MenuContext';\nimport { canUseDOM } from '../../helpers/util';\nimport { KeyboardHandler } from '../../helpers';\n\nvar MenuBase = /*#__PURE__*/function (_React$Component) {\n  _inherits(MenuBase, _React$Component);\n\n  var _super = _createSuper(MenuBase);\n\n  function MenuBase(props) {\n    var _this;\n\n    _classCallCheck(this, MenuBase);\n\n    _this = _super.call(this, props);\n    _this.menuRef = React.createRef();\n    _this.activeMenu = null;\n    _this.state = {\n      ouiaStateId: getDefaultOUIAId(Menu.displayName),\n      searchInputValue: '',\n      transitionMoveTarget: null,\n      flyoutRef: null,\n      disableHover: false\n    };\n\n    _this.handleDrilldownTransition = function (event) {\n      var current = _this.menuRef.current;\n\n      if (!current || current !== event.target.closest('.pf-c-menu') && !Array.from(current.getElementsByClassName('pf-c-menu')).includes(event.target.closest('.pf-c-menu'))) {\n        return;\n      }\n\n      if (_this.state.transitionMoveTarget) {\n        _this.state.transitionMoveTarget.focus();\n\n        _this.setState({\n          transitionMoveTarget: null\n        });\n      } else {\n        var nextMenu = current.querySelector('#' + _this.props.activeMenu) || current || null;\n        var nextTarget = Array.from(nextMenu.getElementsByTagName('UL')[0].children).filter(function (el) {\n          return !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'));\n        })[0].firstChild;\n        nextTarget.focus();\n        nextTarget.tabIndex = 0;\n      }\n    };\n\n    _this.handleExtraKeys = function (event) {\n      var isDrilldown = _this.props.containsDrilldown;\n      var activeElement = document.activeElement;\n\n      if (event.target.closest('.pf-c-menu') !== _this.activeMenu && !event.target.classList.contains('pf-c-breadcrumb__link')) {\n        _this.activeMenu = event.target.closest('.pf-c-menu');\n\n        _this.setState({\n          disableHover: true\n        });\n      }\n\n      if (event.target.tagName === 'INPUT') {\n        return;\n      }\n\n      var parentMenu = _this.activeMenu;\n      var key = event.key;\n      var isFromBreadcrumb = activeElement.classList.contains('pf-c-breadcrumb__link') || activeElement.classList.contains('pf-c-dropdown__toggle');\n\n      if (key === ' ' || key === 'Enter') {\n        event.preventDefault();\n\n        if (isDrilldown && !isFromBreadcrumb) {\n          var isDrillingOut = activeElement.closest('li').classList.contains('pf-m-current-path');\n\n          if (isDrillingOut && parentMenu.parentElement.tagName === 'LI') {\n            activeElement.tabIndex = -1;\n            parentMenu.parentElement.firstChild.tabIndex = 0;\n\n            _this.setState({\n              transitionMoveTarget: parentMenu.parentElement.firstChild\n            });\n          } else {\n            if (activeElement.nextElementSibling && activeElement.nextElementSibling.classList.contains('pf-c-menu')) {\n              var childItems = Array.from(activeElement.nextElementSibling.getElementsByTagName('UL')[0].children).filter(function (el) {\n                return !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'));\n              });\n              activeElement.tabIndex = -1;\n              childItems[0].firstChild.tabIndex = 0;\n\n              _this.setState({\n                transitionMoveTarget: childItems[0].firstChild\n              });\n            }\n          }\n        }\n\n        document.activeElement.click();\n      }\n    };\n\n    _this.createNavigableElements = function () {\n      var isDrilldown = _this.props.containsDrilldown;\n      return isDrilldown ? Array.from(_this.activeMenu.getElementsByTagName('UL')[0].children).filter(function (el) {\n        return !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'));\n      }) : Array.from(_this.menuRef.current.getElementsByTagName('LI')).filter(function (el) {\n        return !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'));\n      });\n    };\n\n    if (props.innerRef) {\n      _this.menuRef = props.innerRef;\n    }\n\n    return _this;\n  }\n\n  _createClass(MenuBase, [{\n    key: \"allowTabFirstItem\",\n    value: function allowTabFirstItem() {\n      // Allow tabbing to first menu item\n      var current = this.menuRef.current;\n\n      if (current) {\n        var first = current.querySelector('ul button, ul a');\n\n        if (first) {\n          first.tabIndex = 0;\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.context) {\n        this.setState({\n          disableHover: this.context.disableHover\n        });\n      }\n\n      if (canUseDOM) {\n        window.addEventListener('transitionend', this.props.isRootMenu ? this.handleDrilldownTransition : null);\n      }\n\n      this.allowTabFirstItem();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (canUseDOM) {\n        window.removeEventListener('transitionend', this.handleDrilldownTransition);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.children !== this.props.children) {\n        this.allowTabFirstItem();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _a = this.props,\n          ariaLabel = _a['aria-label'],\n          id = _a.id,\n          children = _a.children,\n          className = _a.className,\n          onSelect = _a.onSelect,\n          _a$selected = _a.selected,\n          selected = _a$selected === void 0 ? null : _a$selected,\n          onActionClick = _a.onActionClick,\n          ouiaId = _a.ouiaId,\n          ouiaSafe = _a.ouiaSafe,\n          containsFlyout = _a.containsFlyout,\n          isNavFlyout = _a.isNavFlyout,\n          containsDrilldown = _a.containsDrilldown,\n          isMenuDrilledIn = _a.isMenuDrilledIn,\n          isPlain = _a.isPlain,\n          isScrollable = _a.isScrollable,\n          drilldownItemPath = _a.drilldownItemPath,\n          drilledInMenus = _a.drilledInMenus,\n          onDrillIn = _a.onDrillIn,\n          onDrillOut = _a.onDrillOut,\n          onGetMenuHeight = _a.onGetMenuHeight,\n          _a$parentMenu = _a.parentMenu,\n          parentMenu = _a$parentMenu === void 0 ? null : _a$parentMenu,\n          _a$activeItemId = _a.activeItemId,\n          activeItemId = _a$activeItemId === void 0 ? null : _a$activeItemId,\n          innerRef = _a.innerRef,\n          isRootMenu = _a.isRootMenu,\n          activeMenu = _a.activeMenu,\n          props = __rest(_a, ['aria-label', \"id\", \"children\", \"className\", \"onSelect\", \"selected\", \"onActionClick\", \"ouiaId\", \"ouiaSafe\", \"containsFlyout\", \"isNavFlyout\", \"containsDrilldown\", \"isMenuDrilledIn\", \"isPlain\", \"isScrollable\", \"drilldownItemPath\", \"drilledInMenus\", \"onDrillIn\", \"onDrillOut\", \"onGetMenuHeight\", \"parentMenu\", \"activeItemId\", \"innerRef\", \"isRootMenu\", \"activeMenu\"]);\n\n      var _isMenuDrilledIn = isMenuDrilledIn || drilledInMenus && drilledInMenus.includes(id) || false;\n\n      return React.createElement(MenuContext.Provider, {\n        value: {\n          menuId: id,\n          parentMenu: parentMenu || id,\n          onSelect: onSelect,\n          onActionClick: onActionClick,\n          activeItemId: activeItemId,\n          selected: selected,\n          drilledInMenus: drilledInMenus,\n          drilldownItemPath: drilldownItemPath,\n          onDrillIn: onDrillIn,\n          onDrillOut: onDrillOut,\n          onGetMenuHeight: onGetMenuHeight,\n          flyoutRef: this.state.flyoutRef,\n          setFlyoutRef: function setFlyoutRef(flyoutRef) {\n            return _this2.setState({\n              flyoutRef: flyoutRef\n            });\n          },\n          disableHover: this.state.disableHover\n        }\n      }, isRootMenu && React.createElement(KeyboardHandler, {\n        containerRef: this.menuRef || null,\n        additionalKeyHandler: this.handleExtraKeys,\n        createNavigableElements: this.createNavigableElements,\n        isActiveElement: function isActiveElement(element) {\n          return document.activeElement.parentElement === element || document.activeElement.closest('ol') && document.activeElement.closest('ol').firstChild === element;\n        },\n        getFocusableElement: function getFocusableElement(navigableElement) {\n          return navigableElement.firstChild;\n        },\n        noHorizontalArrowHandling: document.activeElement && (document.activeElement.classList.contains('pf-c-breadcrumb__link') || document.activeElement.classList.contains('pf-c-dropdown__toggle')),\n        noEnterHandling: true,\n        noSpaceHandling: true\n      }), React.createElement(\"div\", Object.assign({\n        id: id,\n        className: css(styles.menu, isPlain && styles.modifiers.plain, isScrollable && styles.modifiers.scrollable, containsFlyout && styles.modifiers.flyout, isNavFlyout && styles.modifiers.nav, containsDrilldown && styles.modifiers.drilldown, _isMenuDrilledIn && styles.modifiers.drilledIn, className),\n        \"aria-label\": ariaLabel,\n        ref: this.menuRef\n      }, getOUIAProps(Menu.displayName, ouiaId !== undefined ? ouiaId : this.state.ouiaStateId, ouiaSafe), props), children));\n    }\n  }]);\n\n  return MenuBase;\n}(React.Component);\n\nMenuBase.displayName = 'Menu';\nMenuBase.contextType = MenuContext;\nMenuBase.defaultProps = {\n  ouiaSafe: true,\n  isRootMenu: true,\n  isPlain: false,\n  isScrollable: false\n};\nexport var Menu = React.forwardRef(function (props, ref) {\n  return React.createElement(MenuBase, Object.assign({}, props, {\n    innerRef: ref\n  }));\n});\nMenu.displayName = 'Menu';","map":{"version":3,"mappings":"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","names":["React","styles","css","getOUIAProps","getDefaultOUIAId","MenuContext","canUseDOM","KeyboardHandler","MenuBase","props","createRef","ouiaStateId","Menu","displayName","searchInputValue","transitionMoveTarget","flyoutRef","disableHover","event","current","menuRef","target","closest","Array","from","getElementsByClassName","includes","state","focus","setState","nextMenu","querySelector","activeMenu","nextTarget","getElementsByTagName","children","filter","el","classList","contains","firstChild","tabIndex","isDrilldown","containsDrilldown","activeElement","document","tagName","parentMenu","key","isFromBreadcrumb","preventDefault","isDrillingOut","parentElement","nextElementSibling","childItems","click","innerRef","first","context","window","addEventListener","isRootMenu","handleDrilldownTransition","allowTabFirstItem","removeEventListener","prevProps","ariaLabel","_a","id","className","onSelect","selected","onActionClick","ouiaId","ouiaSafe","containsFlyout","isNavFlyout","isMenuDrilledIn","isPlain","isScrollable","drilldownItemPath","drilledInMenus","onDrillIn","onDrillOut","onGetMenuHeight","activeItemId","__rest","_isMenuDrilledIn","Provider","value","menuId","setFlyoutRef","containerRef","additionalKeyHandler","handleExtraKeys","createNavigableElements","isActiveElement","element","getFocusableElement","navigableElement","noHorizontalArrowHandling","noEnterHandling","noSpaceHandling","menu","modifiers","plain","scrollable","flyout","nav","drilldown","drilledIn","ref","undefined","Component","forwardRef","Object"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/Menu/Menu.tsx"],"sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Menu/menu';\nimport { css } from '@patternfly/react-styles';\nimport { getOUIAProps, OUIAProps, getDefaultOUIAId } from '../../helpers';\nimport { MenuContext } from './MenuContext';\nimport { canUseDOM } from '../../helpers/util';\nimport { KeyboardHandler } from '../../helpers';\nexport interface MenuProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'ref' | 'onSelect'>, OUIAProps {\n  /** Anything that can be rendered inside of the Menu */\n  children?: React.ReactNode;\n  /** Additional classes added to the Menu */\n  className?: string;\n  /** ID of the menu */\n  id?: string;\n  /** Callback for updating when item selection changes. You can also specify onClick on the MenuItem. */\n  onSelect?: (event?: React.MouseEvent, itemId?: string | number) => void;\n  /** Single itemId for single select menus, or array of itemIds for multi select. You can also specify isSelected on the MenuItem. */\n  selected?: any | any[];\n  /** Callback called when an MenuItems's action button is clicked. You can also specify it within a MenuItemAction. */\n  onActionClick?: (event?: any, itemId?: any, actionId?: any) => void;\n  /** Search input of menu */\n  hasSearchInput?: boolean;\n  /** A callback for when the input value changes. */\n  onSearchInputChange?: (\n    event: React.FormEvent<HTMLInputElement> | React.SyntheticEvent<HTMLButtonElement>,\n    value: string\n  ) => void;\n  /** Accessibility label */\n  'aria-label'?: string;\n  /** @beta Indicates if menu contains a flyout menu */\n  containsFlyout?: boolean;\n  /** @beta Indicating that the menu should have nav flyout styling */\n  isNavFlyout?: boolean;\n  /** @beta Indicates if menu contains a drilldown menu */\n  containsDrilldown?: boolean;\n  /** @beta Indicates if a menu is drilled into */\n  isMenuDrilledIn?: boolean;\n  /** @beta Indicates the path of drilled in menu itemIds */\n  drilldownItemPath?: string[];\n  /** @beta Array of menus that are drilled in */\n  drilledInMenus?: string[];\n  /** @beta Callback for drilling into a submenu */\n  onDrillIn?: (fromItemId: string, toItemId: string, itemId: string) => void;\n  /** @beta Callback for drilling out of a submenu */\n  onDrillOut?: (toItemId: string, itemId: string) => void;\n  /** @beta Callback for collecting menu heights */\n  onGetMenuHeight?: (menuId: string, height: number) => void;\n  /** @beta ID of parent menu for drilldown menus */\n  parentMenu?: string;\n  /** @beta ID of the currently active menu for the drilldown variant */\n  activeMenu?: string;\n  /** @beta itemId of the currently active item. You can also specify isActive on the MenuItem. */\n  activeItemId?: string | number;\n  /** @hide Forwarded ref */\n  innerRef?: React.Ref<HTMLDivElement>;\n  /** Internal flag indicating if the Menu is the root of a menu tree */\n  isRootMenu?: boolean;\n  /** Indicates if the menu should be without the outer box-shadow */\n  isPlain?: boolean;\n  /** Indicates if the menu should be srollable */\n  isScrollable?: boolean;\n}\n\nexport interface MenuState {\n  searchInputValue: string | null;\n  ouiaStateId: string;\n  transitionMoveTarget: HTMLElement;\n  flyoutRef: React.Ref<HTMLLIElement> | null;\n  disableHover: boolean;\n}\n\nclass MenuBase extends React.Component<MenuProps, MenuState> {\n  static displayName = 'Menu';\n  static contextType = MenuContext;\n  context!: React.ContextType<typeof MenuContext>;\n  private menuRef = React.createRef<HTMLDivElement>();\n  private activeMenu = null as Element;\n  static defaultProps: MenuProps = {\n    ouiaSafe: true,\n    isRootMenu: true,\n    isPlain: false,\n    isScrollable: false\n  };\n\n  constructor(props: MenuProps) {\n    super(props);\n    if (props.innerRef) {\n      this.menuRef = props.innerRef as React.RefObject<HTMLDivElement>;\n    }\n  }\n\n  state: MenuState = {\n    ouiaStateId: getDefaultOUIAId(Menu.displayName),\n    searchInputValue: '',\n    transitionMoveTarget: null,\n    flyoutRef: null,\n    disableHover: false\n  };\n\n  allowTabFirstItem() {\n    // Allow tabbing to first menu item\n    const current = this.menuRef.current;\n    if (current) {\n      const first = current.querySelector('ul button, ul a') as HTMLButtonElement | HTMLAnchorElement;\n      if (first) {\n        first.tabIndex = 0;\n      }\n    }\n  }\n\n  componentDidMount() {\n    if (this.context) {\n      this.setState({ disableHover: this.context.disableHover });\n    }\n    if (canUseDOM) {\n      window.addEventListener('transitionend', this.props.isRootMenu ? this.handleDrilldownTransition : null);\n    }\n\n    this.allowTabFirstItem();\n  }\n\n  componentWillUnmount() {\n    if (canUseDOM) {\n      window.removeEventListener('transitionend', this.handleDrilldownTransition);\n    }\n  }\n\n  componentDidUpdate(prevProps: MenuProps) {\n    if (prevProps.children !== this.props.children) {\n      this.allowTabFirstItem();\n    }\n  }\n\n  handleDrilldownTransition = (event: TransitionEvent) => {\n    const current = this.menuRef.current;\n\n    if (\n      !current ||\n      (current !== (event.target as HTMLElement).closest('.pf-c-menu') &&\n        !Array.from(current.getElementsByClassName('pf-c-menu')).includes(\n          (event.target as HTMLElement).closest('.pf-c-menu')\n        ))\n    ) {\n      return;\n    }\n\n    if (this.state.transitionMoveTarget) {\n      this.state.transitionMoveTarget.focus();\n      this.setState({ transitionMoveTarget: null });\n    } else {\n      const nextMenu = current.querySelector('#' + this.props.activeMenu) || current || null;\n      const nextTarget = Array.from(nextMenu.getElementsByTagName('UL')[0].children).filter(\n        el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'))\n      )[0].firstChild;\n      (nextTarget as HTMLElement).focus();\n      (nextTarget as HTMLElement).tabIndex = 0;\n    }\n  };\n\n  handleExtraKeys = (event: KeyboardEvent) => {\n    const isDrilldown = this.props.containsDrilldown;\n    const activeElement = document.activeElement;\n\n    if (\n      (event.target as HTMLElement).closest('.pf-c-menu') !== this.activeMenu &&\n      !(event.target as HTMLElement).classList.contains('pf-c-breadcrumb__link')\n    ) {\n      this.activeMenu = (event.target as HTMLElement).closest('.pf-c-menu');\n      this.setState({ disableHover: true });\n    }\n\n    if ((event.target as HTMLElement).tagName === 'INPUT') {\n      return;\n    }\n\n    const parentMenu = this.activeMenu;\n    const key = event.key;\n    const isFromBreadcrumb =\n      activeElement.classList.contains('pf-c-breadcrumb__link') ||\n      activeElement.classList.contains('pf-c-dropdown__toggle');\n\n    if (key === ' ' || key === 'Enter') {\n      event.preventDefault();\n      if (isDrilldown && !isFromBreadcrumb) {\n        const isDrillingOut = activeElement.closest('li').classList.contains('pf-m-current-path');\n        if (isDrillingOut && parentMenu.parentElement.tagName === 'LI') {\n          (activeElement as HTMLElement).tabIndex = -1;\n          (parentMenu.parentElement.firstChild as HTMLElement).tabIndex = 0;\n          this.setState({ transitionMoveTarget: parentMenu.parentElement.firstChild as HTMLElement });\n        } else {\n          if (activeElement.nextElementSibling && activeElement.nextElementSibling.classList.contains('pf-c-menu')) {\n            const childItems = Array.from(\n              activeElement.nextElementSibling.getElementsByTagName('UL')[0].children\n            ).filter(el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider')));\n\n            (activeElement as HTMLElement).tabIndex = -1;\n            (childItems[0].firstChild as HTMLElement).tabIndex = 0;\n            this.setState({ transitionMoveTarget: childItems[0].firstChild as HTMLElement });\n          }\n        }\n      }\n      (document.activeElement as HTMLElement).click();\n    }\n  };\n\n  createNavigableElements = () => {\n    const isDrilldown = this.props.containsDrilldown;\n\n    return isDrilldown\n      ? Array.from(this.activeMenu.getElementsByTagName('UL')[0].children).filter(\n          el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'))\n        )\n      : Array.from(this.menuRef.current.getElementsByTagName('LI')).filter(\n          el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'))\n        );\n  };\n\n  render() {\n    const {\n      'aria-label': ariaLabel,\n      id,\n      children,\n      className,\n      onSelect,\n      selected = null,\n      onActionClick,\n      ouiaId,\n      ouiaSafe,\n      containsFlyout,\n      isNavFlyout,\n      containsDrilldown,\n      isMenuDrilledIn,\n      isPlain,\n      isScrollable,\n      drilldownItemPath,\n      drilledInMenus,\n      onDrillIn,\n      onDrillOut,\n      onGetMenuHeight,\n      parentMenu = null,\n      activeItemId = null,\n      /* eslint-disable @typescript-eslint/no-unused-vars */\n      innerRef,\n      isRootMenu,\n      activeMenu,\n      /* eslint-enable @typescript-eslint/no-unused-vars */\n      ...props\n    } = this.props;\n    const _isMenuDrilledIn = isMenuDrilledIn || (drilledInMenus && drilledInMenus.includes(id)) || false;\n    return (\n      <MenuContext.Provider\n        value={{\n          menuId: id,\n          parentMenu: parentMenu || id,\n          onSelect,\n          onActionClick,\n          activeItemId,\n          selected,\n          drilledInMenus,\n          drilldownItemPath,\n          onDrillIn,\n          onDrillOut,\n          onGetMenuHeight,\n          flyoutRef: this.state.flyoutRef,\n          setFlyoutRef: flyoutRef => this.setState({ flyoutRef }),\n          disableHover: this.state.disableHover\n        }}\n      >\n        {isRootMenu && (\n          <KeyboardHandler\n            containerRef={(this.menuRef as React.RefObject<HTMLDivElement>) || null}\n            additionalKeyHandler={this.handleExtraKeys}\n            createNavigableElements={this.createNavigableElements}\n            isActiveElement={(element: Element) =>\n              document.activeElement.parentElement === element ||\n              (document.activeElement.closest('ol') && document.activeElement.closest('ol').firstChild === element)\n            }\n            getFocusableElement={(navigableElement: Element) => navigableElement.firstChild as Element}\n            noHorizontalArrowHandling={\n              document.activeElement &&\n              (document.activeElement.classList.contains('pf-c-breadcrumb__link') ||\n                document.activeElement.classList.contains('pf-c-dropdown__toggle'))\n            }\n            noEnterHandling\n            noSpaceHandling\n          />\n        )}\n        <div\n          id={id}\n          className={css(\n            styles.menu,\n            isPlain && styles.modifiers.plain,\n            isScrollable && styles.modifiers.scrollable,\n            containsFlyout && styles.modifiers.flyout,\n            isNavFlyout && styles.modifiers.nav,\n            containsDrilldown && styles.modifiers.drilldown,\n            _isMenuDrilledIn && styles.modifiers.drilledIn,\n            className\n          )}\n          aria-label={ariaLabel}\n          ref={this.menuRef}\n          {...getOUIAProps(Menu.displayName, ouiaId !== undefined ? ouiaId : this.state.ouiaStateId, ouiaSafe)}\n          {...props}\n        >\n          {children}\n        </div>\n      </MenuContext.Provider>\n    );\n  }\n}\n\nexport const Menu = React.forwardRef((props: MenuProps, ref: React.Ref<HTMLDivElement>) => (\n  <MenuBase {...props} innerRef={ref} />\n));\nMenu.displayName = 'Menu';\n"]},"metadata":{},"sourceType":"module"}
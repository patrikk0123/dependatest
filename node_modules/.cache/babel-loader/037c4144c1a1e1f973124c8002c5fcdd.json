{"ast":null,"code":"import _slicedToArray from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Menu/menu';\nimport { css } from '@patternfly/react-styles';\nimport topOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_top_offset';\nimport rightOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_m_left_right_offset';\nimport leftOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_left_offset';\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport AngleLeftIcon from '@patternfly/react-icons/dist/esm/icons/angle-left-icon';\nimport CheckIcon from '@patternfly/react-icons/dist/esm/icons/check-icon';\nimport { Checkbox } from '../Checkbox';\nimport { MenuContext, MenuItemContext } from './MenuContext';\nimport { MenuItemAction } from './MenuItemAction';\nimport { canUseDOM } from '../../helpers/util';\nimport { useIsomorphicLayoutEffect } from '../../helpers/useIsomorphicLayout';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\nvar FlyoutContext = React.createContext({\n  direction: 'right'\n});\n\nvar MenuItemBase = function MenuItemBase(_a) {\n  var children = _a.children,\n      className = _a.className,\n      _a$itemId = _a.itemId,\n      itemId = _a$itemId === void 0 ? null : _a$itemId,\n      to = _a.to,\n      _a$hasCheck = _a.hasCheck,\n      hasCheck = _a$hasCheck === void 0 ? false : _a$hasCheck,\n      _a$isActive = _a.isActive,\n      isActive = _a$isActive === void 0 ? null : _a$isActive,\n      _a$isFavorited = _a.isFavorited,\n      isFavorited = _a$isFavorited === void 0 ? null : _a$isFavorited,\n      _a$isLoadButton = _a.isLoadButton,\n      isLoadButton = _a$isLoadButton === void 0 ? false : _a$isLoadButton,\n      _a$isLoading = _a.isLoading,\n      isLoading = _a$isLoading === void 0 ? false : _a$isLoading,\n      flyoutMenu = _a.flyoutMenu,\n      direction = _a.direction,\n      _a$description = _a.description,\n      description = _a$description === void 0 ? null : _a$description,\n      _a$onClick = _a.onClick,\n      onClick = _a$onClick === void 0 ? function () {} : _a$onClick,\n      _a$component = _a.component,\n      component = _a$component === void 0 ? 'button' : _a$component,\n      _a$isDisabled = _a.isDisabled,\n      isDisabled = _a$isDisabled === void 0 ? false : _a$isDisabled,\n      _a$isExternalLink = _a.isExternalLink,\n      isExternalLink = _a$isExternalLink === void 0 ? false : _a$isExternalLink,\n      _a$isSelected = _a.isSelected,\n      isSelected = _a$isSelected === void 0 ? null : _a$isSelected,\n      icon = _a.icon,\n      actions = _a.actions,\n      onShowFlyout = _a.onShowFlyout,\n      drilldownMenu = _a.drilldownMenu,\n      isOnPath = _a.isOnPath,\n      innerRef = _a.innerRef,\n      props = __rest(_a, [\"children\", \"className\", \"itemId\", \"to\", \"hasCheck\", \"isActive\", \"isFavorited\", \"isLoadButton\", \"isLoading\", \"flyoutMenu\", \"direction\", \"description\", \"onClick\", \"component\", \"isDisabled\", \"isExternalLink\", \"isSelected\", \"icon\", \"actions\", \"onShowFlyout\", \"drilldownMenu\", \"isOnPath\", \"innerRef\"]);\n\n  var _React$useContext = React.useContext(MenuContext),\n      menuId = _React$useContext.menuId,\n      parentMenu = _React$useContext.parentMenu,\n      onSelect = _React$useContext.onSelect,\n      onActionClick = _React$useContext.onActionClick,\n      activeItemId = _React$useContext.activeItemId,\n      selected = _React$useContext.selected,\n      drilldownItemPath = _React$useContext.drilldownItemPath,\n      onDrillIn = _React$useContext.onDrillIn,\n      onDrillOut = _React$useContext.onDrillOut,\n      flyoutRef = _React$useContext.flyoutRef,\n      setFlyoutRef = _React$useContext.setFlyoutRef,\n      disableHover = _React$useContext.disableHover;\n\n  var Component = to ? 'a' : component;\n\n  if (hasCheck && !to) {\n    Component = 'label';\n  }\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      flyoutTarget = _React$useState2[0],\n      setFlyoutTarget = _React$useState2[1];\n\n  var flyoutContext = React.useContext(FlyoutContext);\n\n  var _React$useState3 = React.useState(flyoutContext.direction),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      flyoutXDirection = _React$useState4[0],\n      setFlyoutXDirection = _React$useState4[1];\n\n  var ref = React.useRef();\n  var flyoutVisible = ref === flyoutRef;\n  var hasFlyout = flyoutMenu !== undefined;\n\n  var showFlyout = function showFlyout(show) {\n    if (!flyoutVisible && show) {\n      setFlyoutRef(ref);\n    } else if (flyoutVisible && !show) {\n      setFlyoutRef(null);\n    }\n\n    onShowFlyout && show && onShowFlyout();\n  };\n\n  useIsomorphicLayoutEffect(function () {\n    if (hasFlyout && ref.current && canUseDOM) {\n      var _flyoutMenu = ref.current.lastElementChild;\n\n      if (_flyoutMenu && _flyoutMenu.classList.contains(styles.menu)) {\n        var origin = ref.current.getClientRects()[0];\n\n        var rect = _flyoutMenu.getClientRects()[0];\n\n        if (origin && rect) {\n          var spaceLeftLeft = origin.x - rect.width;\n          var spaceLeftRight = window.innerWidth - origin.x - origin.width - rect.width;\n          var xDir = flyoutXDirection;\n\n          if (spaceLeftRight < 0 && xDir !== 'left') {\n            setFlyoutXDirection('left');\n            xDir = 'left';\n          } else if (spaceLeftLeft < 0 && xDir !== 'right') {\n            setFlyoutXDirection('right');\n            xDir = 'right';\n          }\n\n          var xOffset = 0;\n\n          if (spaceLeftLeft < 0 && spaceLeftRight < 0) {\n            xOffset = xDir === 'right' ? -spaceLeftRight : -spaceLeftLeft;\n          }\n\n          if (xDir === 'left') {\n            _flyoutMenu.classList.add(styles.modifiers.left);\n\n            _flyoutMenu.style.setProperty(rightOffset.name, \"-\".concat(xOffset, \"px\"));\n          } else {\n            _flyoutMenu.style.setProperty(leftOffset.name, \"-\".concat(xOffset, \"px\"));\n          }\n\n          var spaceLeftBot = window.innerHeight - origin.y - rect.height;\n          var spaceLeftTop = window.innerHeight - rect.height;\n\n          if (spaceLeftTop < 0 && spaceLeftBot < 0) {// working idea: page can usually scroll down, but not up\n            // TODO: proper scroll buttons\n          } else if (spaceLeftBot < 0) {\n            _flyoutMenu.style.setProperty(topOffset.name, \"\".concat(spaceLeftBot, \"px\"));\n          }\n        }\n      }\n    }\n  }, [flyoutVisible, flyoutMenu]);\n  React.useEffect(function () {\n    setFlyoutXDirection(flyoutContext.direction);\n  }, [flyoutContext]);\n  React.useEffect(function () {\n    if (flyoutTarget) {\n      if (flyoutVisible) {\n        var _flyoutMenu2 = flyoutTarget.nextElementSibling;\n        var flyoutItems = Array.from(_flyoutMenu2.getElementsByTagName('UL')[0].children).filter(function (el) {\n          return !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'));\n        });\n        flyoutItems[0].firstChild.focus();\n      } else {\n        flyoutTarget.focus();\n      }\n    }\n  }, [flyoutVisible, flyoutTarget]);\n\n  var handleFlyout = function handleFlyout(event) {\n    var key = event.key;\n    var target = event.target;\n\n    if (key === ' ' || key === 'Enter' || key === 'ArrowRight') {\n      event.stopPropagation();\n\n      if (!flyoutVisible) {\n        showFlyout(true);\n        setFlyoutTarget(target);\n      }\n    }\n\n    if (key === 'Escape' || key === 'ArrowLeft') {\n      if (flyoutVisible) {\n        event.stopPropagation();\n        showFlyout(false);\n      }\n    }\n  };\n\n  var onItemSelect = function onItemSelect(event, onSelect) {\n    // Trigger callback for Menu onSelect\n    onSelect && onSelect(event, itemId); // Trigger callback for item onClick\n\n    onClick && onClick(event);\n  };\n\n  var _isOnPath = isOnPath && isOnPath || drilldownItemPath && drilldownItemPath.includes(itemId) || false;\n\n  var _drill;\n\n  if (direction) {\n    if (direction === 'down') {\n      _drill = function _drill() {\n        return onDrillIn && onDrillIn(menuId, typeof drilldownMenu === 'function' ? drilldownMenu().props.id : drilldownMenu.props.id, itemId);\n      };\n    } else {\n      _drill = function _drill() {\n        return onDrillOut && onDrillOut(parentMenu, itemId);\n      };\n    }\n  }\n\n  var additionalProps = {};\n\n  if (Component === 'a') {\n    additionalProps = {\n      href: to,\n      'aria-disabled': isDisabled ? true : null,\n      // prevent invalid 'disabled' attribute on <a> tags\n      disabled: null\n    };\n  } else if (Component === 'button') {\n    additionalProps = {\n      type: 'button'\n    };\n  }\n\n  if (isOnPath) {\n    additionalProps['aria-expanded'] = true;\n  } else if (hasFlyout) {\n    additionalProps['aria-haspopup'] = true;\n    additionalProps['aria-expanded'] = flyoutVisible;\n  }\n\n  var getAriaCurrent = function getAriaCurrent() {\n    if (isActive !== null) {\n      if (isActive) {\n        return 'page';\n      } else {\n        return null;\n      }\n    } else if (itemId !== null && activeItemId !== null) {\n      return itemId === activeItemId;\n    }\n\n    return null;\n  };\n\n  var getIsSelected = function getIsSelected() {\n    if (isSelected !== null) {\n      return isSelected;\n    } else if (selected !== null && itemId !== null) {\n      return Array.isArray(selected) && selected.includes(itemId) || itemId === selected;\n    }\n\n    return false;\n  };\n\n  var onMouseOver = function onMouseOver() {\n    if (disableHover) {\n      return;\n    }\n\n    if (hasFlyout) {\n      showFlyout(true);\n    } else {\n      setFlyoutRef(null);\n    }\n  };\n\n  return React.createElement(\"li\", Object.assign({\n    className: css(styles.menuListItem, isDisabled && styles.modifiers.disabled, _isOnPath && styles.modifiers.currentPath, isLoadButton && styles.modifiers.load, isLoading && styles.modifiers.loading, className),\n    onMouseOver: onMouseOver\n  }, flyoutMenu && {\n    onKeyDown: handleFlyout\n  }, {\n    ref: ref,\n    role: !hasCheck ? 'none' : 'menuitem'\n  }, props), React.createElement(GenerateId, null, function (randomId) {\n    return React.createElement(Component, Object.assign({\n      tabIndex: -1,\n      className: css(styles.menuItem, getIsSelected() && !hasCheck && styles.modifiers.selected, className),\n      \"aria-current\": getAriaCurrent()\n    }, !hasCheck && {\n      disabled: isDisabled\n    }, !hasCheck && {\n      role: 'menuitem'\n    }, {\n      ref: innerRef\n    }, !hasCheck && {\n      onClick: function onClick(event) {\n        onItemSelect(event, onSelect);\n        _drill && _drill();\n      }\n    }, hasCheck && {\n      htmlFor: randomId\n    }, additionalProps), React.createElement(\"span\", {\n      className: css(styles.menuItemMain)\n    }, direction === 'up' && React.createElement(\"span\", {\n      className: css(styles.menuItemToggleIcon)\n    }, React.createElement(AngleLeftIcon, {\n      \"aria-hidden\": true\n    })), icon && React.createElement(\"span\", {\n      className: css(styles.menuItemIcon)\n    }, icon), hasCheck && React.createElement(\"span\", {\n      className: css('pf-c-menu__item-check')\n    }, React.createElement(Checkbox, {\n      id: randomId,\n      component: \"span\",\n      isChecked: isSelected || false,\n      onChange: function onChange(event) {\n        return onItemSelect(event, onSelect);\n      },\n      isDisabled: isDisabled\n    })), React.createElement(\"span\", {\n      className: css(styles.menuItemText)\n    }, children), isExternalLink && React.createElement(\"span\", {\n      className: css(styles.menuItemExternalIcon)\n    }, React.createElement(ExternalLinkAltIcon, {\n      \"aria-hidden\": true\n    })), (flyoutMenu || direction === 'down') && React.createElement(\"span\", {\n      className: css(styles.menuItemToggleIcon)\n    }, React.createElement(AngleRightIcon, {\n      \"aria-hidden\": true\n    })), getIsSelected() && React.createElement(\"span\", {\n      className: css(styles.menuItemSelectIcon)\n    }, React.createElement(CheckIcon, {\n      \"aria-hidden\": true\n    }))), description && direction !== 'up' && React.createElement(\"span\", {\n      className: css(styles.menuItemDescription)\n    }, React.createElement(\"span\", null, description)));\n  }), flyoutVisible && React.createElement(MenuContext.Provider, {\n    value: {\n      disableHover: disableHover\n    }\n  }, React.createElement(FlyoutContext.Provider, {\n    value: {\n      direction: flyoutXDirection\n    }\n  }, flyoutMenu)), typeof drilldownMenu === 'function' ? drilldownMenu() : drilldownMenu, React.createElement(MenuItemContext.Provider, {\n    value: {\n      itemId: itemId,\n      isDisabled: isDisabled\n    }\n  }, actions, isFavorited !== null && React.createElement(MenuItemAction, {\n    icon: \"favorites\",\n    isFavorited: isFavorited,\n    \"aria-label\": isFavorited ? 'starred' : 'not starred',\n    onClick: function onClick(event) {\n      return onActionClick(event, itemId);\n    },\n    tabIndex: -1,\n    actionId: \"fav\"\n  })));\n};\n\nexport var MenuItem = React.forwardRef(function (props, ref) {\n  return React.createElement(MenuItemBase, Object.assign({}, props, {\n    innerRef: ref\n  }));\n});\nMenuItem.displayName = 'MenuItem';","map":{"version":3,"mappings":"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","names":["React","styles","css","topOffset","rightOffset","leftOffset","ExternalLinkAltIcon","AngleRightIcon","AngleLeftIcon","CheckIcon","Checkbox","MenuContext","MenuItemContext","MenuItemAction","canUseDOM","useIsomorphicLayoutEffect","GenerateId","FlyoutContext","createContext","direction","MenuItemBase","_a","children","className","itemId","to","hasCheck","isActive","isFavorited","isLoadButton","isLoading","flyoutMenu","description","onClick","component","isDisabled","isExternalLink","isSelected","icon","actions","onShowFlyout","drilldownMenu","isOnPath","innerRef","props","__rest","useContext","menuId","parentMenu","onSelect","onActionClick","activeItemId","selected","drilldownItemPath","onDrillIn","onDrillOut","flyoutRef","setFlyoutRef","disableHover","Component","useState","flyoutTarget","setFlyoutTarget","flyoutContext","flyoutXDirection","setFlyoutXDirection","ref","useRef","flyoutVisible","hasFlyout","undefined","showFlyout","show","current","lastElementChild","classList","contains","menu","origin","getClientRects","rect","spaceLeftLeft","x","width","spaceLeftRight","window","innerWidth","xDir","xOffset","add","modifiers","left","style","setProperty","name","spaceLeftBot","innerHeight","y","height","spaceLeftTop","useEffect","nextElementSibling","flyoutItems","Array","from","getElementsByTagName","filter","el","firstChild","focus","handleFlyout","event","key","target","stopPropagation","onItemSelect","_isOnPath","includes","_drill","id","additionalProps","href","disabled","type","getAriaCurrent","getIsSelected","isArray","onMouseOver","menuListItem","currentPath","load","loading","onKeyDown","role","Object","tabIndex","menuItem","htmlFor","randomId","menuItemMain","menuItemToggleIcon","menuItemIcon","isChecked","onChange","menuItemText","menuItemExternalIcon","menuItemSelectIcon","menuItemDescription","Provider","value","actionId","MenuItem","forwardRef","displayName"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/Menu/MenuItem.tsx"],"sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Menu/menu';\nimport { css } from '@patternfly/react-styles';\nimport topOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_top_offset';\nimport rightOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_m_left_right_offset';\nimport leftOffset from '@patternfly/react-tokens/dist/esm/c_menu_m_flyout__menu_left_offset';\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport AngleLeftIcon from '@patternfly/react-icons/dist/esm/icons/angle-left-icon';\nimport CheckIcon from '@patternfly/react-icons/dist/esm/icons/check-icon';\nimport { Checkbox } from '../Checkbox';\nimport { MenuContext, MenuItemContext } from './MenuContext';\nimport { MenuItemAction } from './MenuItemAction';\nimport { canUseDOM } from '../../helpers/util';\nimport { useIsomorphicLayoutEffect } from '../../helpers/useIsomorphicLayout';\nimport { GenerateId } from '../../helpers/GenerateId/GenerateId';\n\nexport interface MenuItemProps extends Omit<React.HTMLProps<HTMLLIElement>, 'onClick'> {\n  /** Content rendered inside the menu list item. */\n  children?: React.ReactNode;\n  /** Additional classes added to the menu list item */\n  className?: string;\n  /** Identifies the component in the Menu onSelect or onActionClick callback */\n  itemId?: any;\n  /** Target navigation link */\n  to?: string;\n  /** @beta Flag indicating the item has a checkbox */\n  hasCheck?: boolean;\n  /** Flag indicating whether the item is active */\n  isActive?: boolean;\n  /** Flag indicating if the item is favorited */\n  isFavorited?: boolean;\n  /** Flag indicating if the item causes a load */\n  isLoadButton?: boolean;\n  /** Flag indicating a loading state */\n  isLoading?: boolean;\n  /** Callback for item click */\n  onClick?: (event?: any) => void;\n  /** Component used to render the menu item */\n  component?: React.ElementType<any> | React.ComponentType<any>;\n  /** Render item as disabled option */\n  isDisabled?: boolean;\n  /** Render item with icon */\n  icon?: React.ReactNode;\n  /** Render item with one or more actions */\n  actions?: React.ReactNode;\n  /** Description of the menu item */\n  description?: React.ReactNode;\n  /** Render external link icon */\n  isExternalLink?: boolean;\n  /** Flag indicating if the option is selected */\n  isSelected?: boolean;\n  /** @beta Flyout menu */\n  flyoutMenu?: React.ReactElement;\n  /** @beta Callback function when mouse leaves trigger */\n  onShowFlyout?: (event?: any) => void;\n  /** @beta Drilldown menu of the item. Should be a Menu or DrilldownMenu type. */\n  drilldownMenu?: React.ReactNode | (() => React.ReactNode);\n  /** @beta Sub menu direction */\n  direction?: 'down' | 'up';\n  /** @beta True if item is on current selection path */\n  isOnPath?: boolean;\n  /** Accessibility label */\n  'aria-label'?: string;\n  /** @hide Forwarded ref */\n  innerRef?: React.Ref<HTMLAnchorElement | HTMLButtonElement>;\n}\n\nconst FlyoutContext = React.createContext({\n  direction: 'right' as 'left' | 'right'\n});\n\nconst MenuItemBase: React.FunctionComponent<MenuItemProps> = ({\n  children,\n  className,\n  itemId = null,\n  to,\n  hasCheck = false,\n  isActive = null,\n  isFavorited = null,\n  isLoadButton = false,\n  isLoading = false,\n  flyoutMenu,\n  direction,\n  description = null as string,\n  onClick = () => {},\n  component = 'button',\n  isDisabled = false,\n  isExternalLink = false,\n  isSelected = null,\n  icon,\n  actions,\n  onShowFlyout,\n  drilldownMenu,\n  isOnPath,\n  innerRef,\n  ...props\n}: MenuItemProps) => {\n  const {\n    menuId,\n    parentMenu,\n    onSelect,\n    onActionClick,\n    activeItemId,\n    selected,\n    drilldownItemPath,\n    onDrillIn,\n    onDrillOut,\n    flyoutRef,\n    setFlyoutRef,\n    disableHover\n  } = React.useContext(MenuContext);\n  let Component = (to ? 'a' : component) as any;\n  if (hasCheck && !to) {\n    Component = 'label' as any;\n  }\n  const [flyoutTarget, setFlyoutTarget] = React.useState(null);\n  const flyoutContext = React.useContext(FlyoutContext);\n  const [flyoutXDirection, setFlyoutXDirection] = React.useState(flyoutContext.direction);\n  const ref = React.useRef<HTMLLIElement>();\n  const flyoutVisible = ref === flyoutRef;\n\n  const hasFlyout = flyoutMenu !== undefined;\n  const showFlyout = (show: boolean) => {\n    if (!flyoutVisible && show) {\n      setFlyoutRef(ref);\n    } else if (flyoutVisible && !show) {\n      setFlyoutRef(null);\n    }\n    onShowFlyout && show && onShowFlyout();\n  };\n\n  useIsomorphicLayoutEffect(() => {\n    if (hasFlyout && ref.current && canUseDOM) {\n      const flyoutMenu = ref.current.lastElementChild as HTMLElement;\n      if (flyoutMenu && flyoutMenu.classList.contains(styles.menu)) {\n        const origin = ref.current.getClientRects()[0];\n        const rect = flyoutMenu.getClientRects()[0];\n        if (origin && rect) {\n          const spaceLeftLeft = origin.x - rect.width;\n          const spaceLeftRight = window.innerWidth - origin.x - origin.width - rect.width;\n          let xDir = flyoutXDirection as 'left' | 'right' | 'none';\n          if (spaceLeftRight < 0 && xDir !== 'left') {\n            setFlyoutXDirection('left');\n            xDir = 'left';\n          } else if (spaceLeftLeft < 0 && xDir !== 'right') {\n            setFlyoutXDirection('right');\n            xDir = 'right';\n          }\n          let xOffset = 0;\n          if (spaceLeftLeft < 0 && spaceLeftRight < 0) {\n            xOffset = xDir === 'right' ? -spaceLeftRight : -spaceLeftLeft;\n          }\n          if (xDir === 'left') {\n            flyoutMenu.classList.add(styles.modifiers.left);\n            flyoutMenu.style.setProperty(rightOffset.name, `-${xOffset}px`);\n          } else {\n            flyoutMenu.style.setProperty(leftOffset.name, `-${xOffset}px`);\n          }\n\n          const spaceLeftBot = window.innerHeight - origin.y - rect.height;\n          const spaceLeftTop = window.innerHeight - rect.height;\n          if (spaceLeftTop < 0 && spaceLeftBot < 0) {\n            // working idea: page can usually scroll down, but not up\n            // TODO: proper scroll buttons\n          } else if (spaceLeftBot < 0) {\n            flyoutMenu.style.setProperty(topOffset.name, `${spaceLeftBot}px`);\n          }\n        }\n      }\n    }\n  }, [flyoutVisible, flyoutMenu]);\n\n  React.useEffect(() => {\n    setFlyoutXDirection(flyoutContext.direction);\n  }, [flyoutContext]);\n\n  React.useEffect(() => {\n    if (flyoutTarget) {\n      if (flyoutVisible) {\n        const flyoutMenu = (flyoutTarget as HTMLElement).nextElementSibling;\n        const flyoutItems = Array.from(flyoutMenu.getElementsByTagName('UL')[0].children).filter(\n          el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider'))\n        );\n        (flyoutItems[0].firstChild as HTMLElement).focus();\n      } else {\n        flyoutTarget.focus();\n      }\n    }\n  }, [flyoutVisible, flyoutTarget]);\n\n  const handleFlyout = (event: React.KeyboardEvent) => {\n    const key = event.key;\n    const target = event.target;\n\n    if (key === ' ' || key === 'Enter' || key === 'ArrowRight') {\n      event.stopPropagation();\n      if (!flyoutVisible) {\n        showFlyout(true);\n        setFlyoutTarget(target as HTMLElement);\n      }\n    }\n\n    if (key === 'Escape' || key === 'ArrowLeft') {\n      if (flyoutVisible) {\n        event.stopPropagation();\n        showFlyout(false);\n      }\n    }\n  };\n\n  const onItemSelect = (event: any, onSelect: any) => {\n    // Trigger callback for Menu onSelect\n    onSelect && onSelect(event, itemId);\n    // Trigger callback for item onClick\n    onClick && onClick(event);\n  };\n  const _isOnPath = (isOnPath && isOnPath) || (drilldownItemPath && drilldownItemPath.includes(itemId)) || false;\n  let _drill: () => void;\n  if (direction) {\n    if (direction === 'down') {\n      _drill = () =>\n        onDrillIn &&\n        onDrillIn(\n          menuId,\n          typeof drilldownMenu === 'function'\n            ? drilldownMenu().props.id\n            : (drilldownMenu as React.ReactElement).props.id,\n          itemId\n        );\n    } else {\n      _drill = () => onDrillOut && onDrillOut(parentMenu, itemId);\n    }\n  }\n  let additionalProps = {} as any;\n  if (Component === 'a') {\n    additionalProps = {\n      href: to,\n      'aria-disabled': isDisabled ? true : null,\n      // prevent invalid 'disabled' attribute on <a> tags\n      disabled: null\n    };\n  } else if (Component === 'button') {\n    additionalProps = {\n      type: 'button'\n    };\n  }\n  if (isOnPath) {\n    additionalProps['aria-expanded'] = true;\n  } else if (hasFlyout) {\n    additionalProps['aria-haspopup'] = true;\n    additionalProps['aria-expanded'] = flyoutVisible;\n  }\n  const getAriaCurrent = () => {\n    if (isActive !== null) {\n      if (isActive) {\n        return 'page';\n      } else {\n        return null;\n      }\n    } else if (itemId !== null && activeItemId !== null) {\n      return itemId === activeItemId;\n    }\n    return null;\n  };\n  const getIsSelected = () => {\n    if (isSelected !== null) {\n      return isSelected;\n    } else if (selected !== null && itemId !== null) {\n      return (Array.isArray(selected) && selected.includes(itemId)) || itemId === selected;\n    }\n    return false;\n  };\n  const onMouseOver = () => {\n    if (disableHover) {\n      return;\n    }\n    if (hasFlyout) {\n      showFlyout(true);\n    } else {\n      setFlyoutRef(null);\n    }\n  };\n\n  return (\n    <li\n      className={css(\n        styles.menuListItem,\n        isDisabled && styles.modifiers.disabled,\n        _isOnPath && styles.modifiers.currentPath,\n        isLoadButton && styles.modifiers.load,\n        isLoading && styles.modifiers.loading,\n        className\n      )}\n      onMouseOver={onMouseOver}\n      {...(flyoutMenu && { onKeyDown: handleFlyout })}\n      ref={ref}\n      role={!hasCheck ? 'none' : 'menuitem'}\n      {...props}\n    >\n      <GenerateId>\n        {randomId => (\n          <Component\n            tabIndex={-1}\n            className={css(styles.menuItem, getIsSelected() && !hasCheck && styles.modifiers.selected, className)}\n            aria-current={getAriaCurrent()}\n            {...(!hasCheck && { disabled: isDisabled })}\n            {...(!hasCheck && { role: 'menuitem' })}\n            ref={innerRef}\n            {...(!hasCheck && {\n              onClick: (event: any) => {\n                onItemSelect(event, onSelect);\n                _drill && _drill();\n              }\n            })}\n            {...(hasCheck && { htmlFor: randomId })}\n            {...additionalProps}\n          >\n            <span className={css(styles.menuItemMain)}>\n              {direction === 'up' && (\n                <span className={css(styles.menuItemToggleIcon)}>\n                  <AngleLeftIcon aria-hidden />\n                </span>\n              )}\n              {icon && <span className={css(styles.menuItemIcon)}>{icon}</span>}\n              {hasCheck && (\n                <span className={css('pf-c-menu__item-check')}>\n                  <Checkbox\n                    id={randomId}\n                    component=\"span\"\n                    isChecked={isSelected || false}\n                    onChange={event => onItemSelect(event, onSelect)}\n                    isDisabled={isDisabled}\n                  />\n                </span>\n              )}\n              <span className={css(styles.menuItemText)}>{children}</span>\n              {isExternalLink && (\n                <span className={css(styles.menuItemExternalIcon)}>\n                  <ExternalLinkAltIcon aria-hidden />\n                </span>\n              )}\n              {(flyoutMenu || direction === 'down') && (\n                <span className={css(styles.menuItemToggleIcon)}>\n                  <AngleRightIcon aria-hidden />\n                </span>\n              )}\n              {getIsSelected() && (\n                <span className={css(styles.menuItemSelectIcon)}>\n                  <CheckIcon aria-hidden />\n                </span>\n              )}\n            </span>\n            {description && direction !== 'up' && (\n              <span className={css(styles.menuItemDescription)}>\n                <span>{description}</span>\n              </span>\n            )}\n          </Component>\n        )}\n      </GenerateId>\n      {flyoutVisible && (\n        <MenuContext.Provider value={{ disableHover }}>\n          <FlyoutContext.Provider value={{ direction: flyoutXDirection }}>{flyoutMenu}</FlyoutContext.Provider>\n        </MenuContext.Provider>\n      )}\n      {typeof drilldownMenu === 'function' ? drilldownMenu() : drilldownMenu}\n      <MenuItemContext.Provider value={{ itemId, isDisabled }}>\n        {actions}\n        {isFavorited !== null && (\n          <MenuItemAction\n            icon=\"favorites\"\n            isFavorited={isFavorited}\n            aria-label={isFavorited ? 'starred' : 'not starred'}\n            onClick={event => onActionClick(event, itemId)}\n            tabIndex={-1}\n            actionId=\"fav\"\n          />\n        )}\n      </MenuItemContext.Provider>\n    </li>\n  );\n};\n\nexport const MenuItem = React.forwardRef((props: MenuItemProps, ref: React.Ref<any>) => (\n  <MenuItemBase {...props} innerRef={ref} />\n));\n\nMenuItem.displayName = 'MenuItem';\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Nav/nav';\nimport { css } from '@patternfly/react-styles';\nimport { NavContext } from './Nav';\nimport { PageSidebarContext } from '../Page/PageSidebar';\nimport { useOUIAProps } from '../../helpers';\nimport { Popper } from '../../helpers/Popper/Popper';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nexport const NavItem = _a => {\n  var {\n    children,\n    styleChildren = true,\n    className,\n    to,\n    isActive = false,\n    groupId = null,\n    itemId = null,\n    preventDefault = false,\n    onClick = null,\n    component = 'a',\n    flyout,\n    onShowFlyout,\n    ouiaId,\n    ouiaSafe\n  } = _a,\n      props = __rest(_a, [\"children\", \"styleChildren\", \"className\", \"to\", \"isActive\", \"groupId\", \"itemId\", \"preventDefault\", \"onClick\", \"component\", \"flyout\", \"onShowFlyout\", \"ouiaId\", \"ouiaSafe\"]);\n\n  const {\n    flyoutRef,\n    setFlyoutRef\n  } = React.useContext(NavContext);\n  const {\n    isNavOpen\n  } = React.useContext(PageSidebarContext);\n  const [flyoutTarget, setFlyoutTarget] = React.useState(null);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const ref = React.useRef();\n  const flyoutVisible = ref === flyoutRef;\n  const popperRef = React.useRef();\n  const Component = component;\n  const hasFlyout = flyout !== undefined;\n\n  const showFlyout = (show, override) => {\n    if ((!flyoutVisible || override) && show) {\n      setFlyoutRef(ref);\n    } else if ((flyoutVisible || override) && !show) {\n      setFlyoutRef(null);\n    }\n\n    onShowFlyout && show && onShowFlyout();\n  };\n\n  const onMouseOver = event => {\n    const evtContainedInFlyout = event.target.closest('.pf-c-nav__item.pf-m-flyout');\n\n    if (hasFlyout && !flyoutVisible) {\n      showFlyout(true);\n    } else if (flyoutRef !== null && !evtContainedInFlyout) {\n      setFlyoutRef(null);\n    }\n  };\n\n  const onFlyoutClick = event => {\n    const target = event.target;\n    const closestItem = target.closest('.pf-m-flyout');\n\n    if (!closestItem) {\n      if (hasFlyout) {\n        showFlyout(false, true);\n      } else if (flyoutRef !== null) {\n        setFlyoutRef(null);\n      }\n    }\n  };\n\n  const handleFlyout = event => {\n    var _a, _b;\n\n    const key = event.key;\n    const target = event.target;\n\n    if (!(((_a = popperRef === null || popperRef === void 0 ? void 0 : popperRef.current) === null || _a === void 0 ? void 0 : _a.contains(target)) || hasFlyout && ((_b = ref === null || ref === void 0 ? void 0 : ref.current) === null || _b === void 0 ? void 0 : _b.contains(target)))) {\n      return;\n    }\n\n    if (key === ' ' || key === 'ArrowRight') {\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (!flyoutVisible) {\n        showFlyout(true);\n        setFlyoutTarget(target);\n      }\n    }\n\n    if (key === 'Escape' || key === 'ArrowLeft') {\n      if (flyoutVisible) {\n        event.stopPropagation();\n        event.preventDefault();\n        showFlyout(false);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    if (hasFlyout) {\n      window.addEventListener('click', onFlyoutClick);\n    }\n\n    return () => {\n      if (hasFlyout) {\n        window.removeEventListener('click', onFlyoutClick);\n      }\n    };\n  }, []);\n  React.useEffect(() => {\n    if (flyoutTarget) {\n      if (flyoutVisible) {\n        const flyoutItems = Array.from(popperRef.current.getElementsByTagName('UL')[0].children).filter(el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider')));\n        flyoutItems[0].firstChild.focus();\n      } else {\n        flyoutTarget.focus();\n      }\n    }\n  }, [flyoutVisible, flyoutTarget]);\n  const flyoutButton = React.createElement(\"span\", {\n    className: css(styles.navToggle)\n  }, React.createElement(\"span\", {\n    className: css(styles.navToggleIcon)\n  }, React.createElement(AngleRightIcon, {\n    \"aria-hidden\": true\n  })));\n\n  const renderDefaultLink = context => {\n    const preventLinkDefault = preventDefault || !to;\n    return React.createElement(Component, Object.assign({\n      href: to,\n      onClick: e => context.onSelect(e, groupId, itemId, to, preventLinkDefault, onClick),\n      className: css(styles.navLink, isActive && styles.modifiers.current, isHovered && styles.modifiers.hover, className),\n      \"aria-current\": isActive ? 'page' : null,\n      tabIndex: isNavOpen ? null : '-1'\n    }, props), children, flyout && flyoutButton);\n  };\n\n  const renderClonedChild = (context, child) => React.cloneElement(child, Object.assign(Object.assign({\n    onClick: e => context.onSelect(e, groupId, itemId, to, preventDefault, onClick),\n    'aria-current': isActive ? 'page' : null\n  }, styleChildren && {\n    className: css(styles.navLink, isActive && styles.modifiers.current, child.props && child.props.className)\n  }), {\n    tabIndex: child.props.tabIndex || isNavOpen ? null : -1,\n    children: hasFlyout ? React.createElement(React.Fragment, null, child.props.children, flyoutButton) : child.props.children\n  }));\n\n  const ouiaProps = useOUIAProps(NavItem.displayName, ouiaId, ouiaSafe);\n\n  const handleMouseEnter = () => {\n    setIsHovered(true);\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovered(false);\n  };\n\n  const flyoutPopper = React.createElement(Popper, {\n    reference: ref,\n    popper: React.createElement(\"div\", {\n      ref: popperRef,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave\n    }, flyout),\n    placement: \"right-start\",\n    isVisible: flyoutVisible,\n    onDocumentKeyDown: handleFlyout\n  });\n  const navItem = React.createElement(React.Fragment, null, React.createElement(\"li\", Object.assign({\n    onMouseOver: onMouseOver,\n    className: css(styles.navItem, hasFlyout && styles.modifiers.flyout, className),\n    ref: ref\n  }, ouiaProps), React.createElement(NavContext.Consumer, null, context => React.isValidElement(children) ? renderClonedChild(context, children) : renderDefaultLink(context))), flyout && flyoutPopper);\n  return navItem;\n};\nNavItem.displayName = 'NavItem';","map":{"version":3,"mappings":"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","names":["React","styles","css","NavContext","PageSidebarContext","useOUIAProps","Popper","AngleRightIcon","NavItem","_a","children","styleChildren","className","to","isActive","groupId","itemId","preventDefault","onClick","component","flyout","onShowFlyout","ouiaId","ouiaSafe","props","flyoutRef","setFlyoutRef","useContext","isNavOpen","flyoutTarget","setFlyoutTarget","useState","isHovered","setIsHovered","ref","useRef","flyoutVisible","popperRef","Component","hasFlyout","undefined","showFlyout","show","override","onMouseOver","event","evtContainedInFlyout","target","closest","onFlyoutClick","closestItem","handleFlyout","key","current","contains","_b","stopPropagation","useEffect","window","addEventListener","removeEventListener","flyoutItems","Array","from","getElementsByTagName","filter","el","classList","firstChild","focus","flyoutButton","navToggle","navToggleIcon","renderDefaultLink","context","preventLinkDefault","Object","href","e","onSelect","navLink","modifiers","hover","tabIndex","renderClonedChild","child","cloneElement","Fragment","ouiaProps","displayName","handleMouseEnter","handleMouseLeave","flyoutPopper","reference","popper","onMouseEnter","onMouseLeave","placement","isVisible","onDocumentKeyDown","navItem","Consumer","isValidElement"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/Nav/NavItem.tsx"],"sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Nav/nav';\nimport { css } from '@patternfly/react-styles';\nimport { NavContext, NavSelectClickHandler } from './Nav';\nimport { PageSidebarContext } from '../Page/PageSidebar';\nimport { useOUIAProps, OUIAProps } from '../../helpers';\nimport { Popper } from '../../helpers/Popper/Popper';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\n\nexport interface NavItemProps extends Omit<React.HTMLProps<HTMLAnchorElement>, 'onClick'>, OUIAProps {\n  /** Content rendered inside the nav item. */\n  children?: React.ReactNode;\n  /** Whether to set className on children when React.isValidElement(children) */\n  styleChildren?: boolean;\n  /** Additional classes added to the nav item */\n  className?: string;\n  /** Target navigation link */\n  to?: string;\n  /** Flag indicating whether the item is active */\n  isActive?: boolean;\n  /** Group identifier, will be returned with the onToggle and onSelect callback passed to the Nav component */\n  groupId?: string | number | null;\n  /** Item identifier, will be returned with the onToggle and onSelect callback passed to the Nav component */\n  itemId?: string | number | null;\n  /** If true prevents the default anchor link action to occur. Set to true if you want to handle navigation yourself. */\n  preventDefault?: boolean;\n  /** Callback for item click */\n  onClick?: NavSelectClickHandler;\n  /** Component used to render NavItems if  React.isValidElement(children) is false */\n  component?: React.ReactNode;\n  /** Flyout of a nav item. This should be a Menu component. */\n  flyout?: React.ReactElement;\n  /** Callback when flyout is opened or closed */\n  onShowFlyout?: () => void;\n}\n\nexport const NavItem: React.FunctionComponent<NavItemProps> = ({\n  children,\n  styleChildren = true,\n  className,\n  to,\n  isActive = false,\n  groupId = null as string,\n  itemId = null as string,\n  preventDefault = false,\n  onClick = null as NavSelectClickHandler,\n  component = 'a',\n  flyout,\n  onShowFlyout,\n  ouiaId,\n  ouiaSafe,\n  ...props\n}: NavItemProps) => {\n  const { flyoutRef, setFlyoutRef } = React.useContext(NavContext);\n  const { isNavOpen } = React.useContext(PageSidebarContext);\n  const [flyoutTarget, setFlyoutTarget] = React.useState(null);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const ref = React.useRef<HTMLLIElement>();\n  const flyoutVisible = ref === flyoutRef;\n  const popperRef = React.useRef<HTMLDivElement>();\n  const Component = component as any;\n  const hasFlyout = flyout !== undefined;\n\n  const showFlyout = (show: boolean, override?: boolean) => {\n    if ((!flyoutVisible || override) && show) {\n      setFlyoutRef(ref);\n    } else if ((flyoutVisible || override) && !show) {\n      setFlyoutRef(null);\n    }\n\n    onShowFlyout && show && onShowFlyout();\n  };\n\n  const onMouseOver = (event: React.MouseEvent) => {\n    const evtContainedInFlyout = (event.target as HTMLElement).closest('.pf-c-nav__item.pf-m-flyout');\n    if (hasFlyout && !flyoutVisible) {\n      showFlyout(true);\n    } else if (flyoutRef !== null && !evtContainedInFlyout) {\n      setFlyoutRef(null);\n    }\n  };\n\n  const onFlyoutClick = (event: MouseEvent) => {\n    const target = event.target;\n    const closestItem = (target as HTMLElement).closest('.pf-m-flyout');\n    if (!closestItem) {\n      if (hasFlyout) {\n        showFlyout(false, true);\n      } else if (flyoutRef !== null) {\n        setFlyoutRef(null);\n      }\n    }\n  };\n\n  const handleFlyout = (event: KeyboardEvent) => {\n    const key = event.key;\n    const target = event.target as HTMLElement;\n\n    if (!(popperRef?.current?.contains(target) || (hasFlyout && ref?.current?.contains(target)))) {\n      return;\n    }\n\n    if (key === ' ' || key === 'ArrowRight') {\n      event.stopPropagation();\n      event.preventDefault();\n      if (!flyoutVisible) {\n        showFlyout(true);\n        setFlyoutTarget(target as HTMLElement);\n      }\n    }\n\n    if (key === 'Escape' || key === 'ArrowLeft') {\n      if (flyoutVisible) {\n        event.stopPropagation();\n        event.preventDefault();\n        showFlyout(false);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    if (hasFlyout) {\n      window.addEventListener('click', onFlyoutClick);\n    }\n    return () => {\n      if (hasFlyout) {\n        window.removeEventListener('click', onFlyoutClick);\n      }\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (flyoutTarget) {\n      if (flyoutVisible) {\n        const flyoutItems = Array.from(\n          (popperRef.current as HTMLElement).getElementsByTagName('UL')[0].children\n        ).filter(el => !(el.classList.contains('pf-m-disabled') || el.classList.contains('pf-c-divider')));\n        (flyoutItems[0].firstChild as HTMLElement).focus();\n      } else {\n        flyoutTarget.focus();\n      }\n    }\n  }, [flyoutVisible, flyoutTarget]);\n\n  const flyoutButton = (\n    <span className={css(styles.navToggle)}>\n      <span className={css(styles.navToggleIcon)}>\n        <AngleRightIcon aria-hidden />\n      </span>\n    </span>\n  );\n\n  const renderDefaultLink = (context: any): React.ReactNode => {\n    const preventLinkDefault = preventDefault || !to;\n    return (\n      <Component\n        href={to}\n        onClick={(e: any) => context.onSelect(e, groupId, itemId, to, preventLinkDefault, onClick)}\n        className={css(\n          styles.navLink,\n          isActive && styles.modifiers.current,\n          isHovered && styles.modifiers.hover,\n          className\n        )}\n        aria-current={isActive ? 'page' : null}\n        tabIndex={isNavOpen ? null : '-1'}\n        {...props}\n      >\n        {children}\n        {flyout && flyoutButton}\n      </Component>\n    );\n  };\n\n  const renderClonedChild = (context: any, child: React.ReactElement): React.ReactNode =>\n    React.cloneElement(child, {\n      onClick: (e: MouseEvent) => context.onSelect(e, groupId, itemId, to, preventDefault, onClick),\n      'aria-current': isActive ? 'page' : null,\n      ...(styleChildren && {\n        className: css(styles.navLink, isActive && styles.modifiers.current, child.props && child.props.className)\n      }),\n      tabIndex: child.props.tabIndex || isNavOpen ? null : -1,\n      children: hasFlyout ? (\n        <React.Fragment>\n          {child.props.children}\n          {flyoutButton}\n        </React.Fragment>\n      ) : (\n        child.props.children\n      )\n    });\n\n  const ouiaProps = useOUIAProps(NavItem.displayName, ouiaId, ouiaSafe);\n\n  const handleMouseEnter = () => {\n    setIsHovered(true);\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovered(false);\n  };\n\n  const flyoutPopper = (\n    <Popper\n      reference={ref}\n      popper={\n        <div ref={popperRef} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n          {flyout}\n        </div>\n      }\n      placement=\"right-start\"\n      isVisible={flyoutVisible}\n      onDocumentKeyDown={handleFlyout}\n    />\n  );\n\n  const navItem = (\n    <>\n      <li\n        onMouseOver={onMouseOver}\n        className={css(styles.navItem, hasFlyout && styles.modifiers.flyout, className)}\n        ref={ref}\n        {...ouiaProps}\n      >\n        <NavContext.Consumer>\n          {context =>\n            React.isValidElement(children)\n              ? renderClonedChild(context, children as React.ReactElement)\n              : renderDefaultLink(context)\n          }\n        </NavContext.Consumer>\n      </li>\n      {flyout && flyoutPopper}\n    </>\n  );\n\n  return navItem;\n};\nNavItem.displayName = 'NavItem';\n"]},"metadata":{},"sourceType":"module"}
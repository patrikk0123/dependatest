{"ast":null,"code":"var _jsxFileName = \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/AppRoutes.tsx\";\nimport { Route, Routes } from 'react-router-dom'; // homepage\n\nimport { DashboardPage } from './components/DashboardPage/DashboardPage'; // entity pages\n\nimport { ArtifactsPage } from './components/ArtifactsPage/ArtifactsPage';\nimport { BuildConfigsPage } from './components/BuildConfigsPage/BuildConfigsPage';\nimport { BuildsPage } from './components/BuildsPage/BuildsPage';\nimport { GroupBuildsPage } from './components/GroupBuildsPage/GroupBuildsPage';\nimport { GroupConfigsPage } from './components/GroupConfigsPage/GroupConfigsPage';\nimport { ProductsPage } from './components/ProductsPage/ProductsPage';\nimport { ProjectsPage } from './components/ProjectsPage/ProjectsPage';\nimport { ProjectCreateEditPage } from './components/ProjectCreateEditPage/ProjectCreateEditPage';\nimport { ScmRepositoriesPage } from './components/ScmRepositoriesPage/ScmRepositoriesPage';\nimport { ProjectDetailPage } from './components/ProjectDetailPage/ProjectDetailPage'; // special pages\n\nimport { DemoPage } from './components/DemoPage/DemoPage';\nimport { VariablesPage } from './components/VariablesPage/VariablesPage';\nimport { NotFoundPage } from './components/NotFoundPage/NotFoundPage';\nimport { AdministrationPage } from './components/AdministrationPage/AdministrationPage';\nimport { keycloakService, AUTH_ROLE } from './services/keycloakService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProtectedRoute = _ref => {\n  let {\n    children,\n    role = AUTH_ROLE.User\n  } = _ref;\n\n  if (!keycloakService.isKeycloakAvailable) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Keycloak required by this page is not available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (keycloakService.isAuthenticated()) {\n    if (keycloakService.hasRealmRole(role)) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: children\n      }, void 0, false);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"User not allowed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 14\n      }, this);\n    }\n  } else {\n    keycloakService.login().catch(() => {\n      throw new Error('Keycloak login failed.');\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Redirecting to keycloak...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 10\n  }, this);\n};\n\nexport const AppRoutes = () => /*#__PURE__*/_jsxDEV(Routes, {\n  children: [/*#__PURE__*/_jsxDEV(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/_jsxDEV(DashboardPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"products\",\n    element: /*#__PURE__*/_jsxDEV(ProductsPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 37\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"projects\",\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      index: true,\n      element: /*#__PURE__*/_jsxDEV(ProjectsPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"create\",\n      element: /*#__PURE__*/_jsxDEV(ProjectCreateEditPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \":projectId/edit\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        children: /*#__PURE__*/_jsxDEV(ProjectCreateEditPage, {\n          editPage: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \":projectId\",\n      element: /*#__PURE__*/_jsxDEV(ProjectDetailPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 41\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"build-configs\",\n    element: /*#__PURE__*/_jsxDEV(BuildConfigsPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 42\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"group-configs\",\n    element: /*#__PURE__*/_jsxDEV(GroupConfigsPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 42\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"builds\",\n    element: /*#__PURE__*/_jsxDEV(BuildsPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 35\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"group-builds\",\n    element: /*#__PURE__*/_jsxDEV(GroupBuildsPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 41\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"artifacts\",\n    element: /*#__PURE__*/_jsxDEV(ArtifactsPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 38\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"scm-repositories\",\n    element: /*#__PURE__*/_jsxDEV(ScmRepositoriesPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 45\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"admin\",\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"demo\",\n      element: /*#__PURE__*/_jsxDEV(DemoPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"variables\",\n      element: /*#__PURE__*/_jsxDEV(VariablesPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 40\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"administration\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        role: AUTH_ROLE.Admin,\n        children: /*#__PURE__*/_jsxDEV(AdministrationPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Route, {\n    path: \"*\",\n    element: /*#__PURE__*/_jsxDEV(NotFoundPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 50,\n  columnNumber: 3\n}, this);","map":{"version":3,"names":["Route","Routes","DashboardPage","ArtifactsPage","BuildConfigsPage","BuildsPage","GroupBuildsPage","GroupConfigsPage","ProductsPage","ProjectsPage","ProjectCreateEditPage","ScmRepositoriesPage","ProjectDetailPage","DemoPage","VariablesPage","NotFoundPage","AdministrationPage","keycloakService","AUTH_ROLE","ProtectedRoute","children","role","User","isKeycloakAvailable","isAuthenticated","hasRealmRole","login","catch","Error","AppRoutes","Admin"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/AppRoutes.tsx"],"sourcesContent":["import { Route, Routes } from 'react-router-dom';\n\n// homepage\nimport { DashboardPage } from './components/DashboardPage/DashboardPage';\n\n// entity pages\nimport { ArtifactsPage } from './components/ArtifactsPage/ArtifactsPage';\nimport { BuildConfigsPage } from './components/BuildConfigsPage/BuildConfigsPage';\nimport { BuildsPage } from './components/BuildsPage/BuildsPage';\nimport { GroupBuildsPage } from './components/GroupBuildsPage/GroupBuildsPage';\nimport { GroupConfigsPage } from './components/GroupConfigsPage/GroupConfigsPage';\nimport { ProductsPage } from './components/ProductsPage/ProductsPage';\nimport { ProjectsPage } from './components/ProjectsPage/ProjectsPage';\nimport { ProjectCreateEditPage } from './components/ProjectCreateEditPage/ProjectCreateEditPage';\nimport { ScmRepositoriesPage } from './components/ScmRepositoriesPage/ScmRepositoriesPage';\nimport { ProjectDetailPage } from './components/ProjectDetailPage/ProjectDetailPage';\n\n// special pages\nimport { DemoPage } from './components/DemoPage/DemoPage';\nimport { VariablesPage } from './components/VariablesPage/VariablesPage';\nimport { NotFoundPage } from './components/NotFoundPage/NotFoundPage';\nimport { AdministrationPage } from './components/AdministrationPage/AdministrationPage';\nimport { keycloakService, AUTH_ROLE } from './services/keycloakService';\n\ninterface IProtectedRouteProps {\n  role?: AUTH_ROLE;\n}\n\nconst ProtectedRoute = ({ children, role = AUTH_ROLE.User }: React.PropsWithChildren<IProtectedRouteProps>) => {\n  if (!keycloakService.isKeycloakAvailable) {\n    return <div>Keycloak required by this page is not available.</div>;\n  }\n\n  if (keycloakService.isAuthenticated()) {\n    if (keycloakService.hasRealmRole(role)) {\n      return <>{children}</>;\n    } else {\n      return <div>User not allowed</div>;\n    }\n  } else {\n    keycloakService.login().catch(() => {\n      throw new Error('Keycloak login failed.');\n    });\n  }\n\n  return <div>Redirecting to keycloak...</div>;\n};\n\nexport const AppRoutes = () => (\n  <Routes>\n    <Route path=\"/\" element={<DashboardPage />} />\n    {/* entity pages */}\n    <Route path=\"products\" element={<ProductsPage />} />\n    <Route path=\"projects\">\n      <Route index element={<ProjectsPage />} />\n      <Route path=\"create\" element={<ProjectCreateEditPage />} />\n      <Route\n        path=\":projectId/edit\"\n        element={\n          <ProtectedRoute>\n            <ProjectCreateEditPage editPage={true} />\n          </ProtectedRoute>\n        }\n      />\n      <Route path=\":projectId\" element={<ProjectDetailPage />} />\n    </Route>\n    <Route path=\"build-configs\" element={<BuildConfigsPage />} />\n    <Route path=\"group-configs\" element={<GroupConfigsPage />} />\n    <Route path=\"builds\" element={<BuildsPage />} />\n    <Route path=\"group-builds\" element={<GroupBuildsPage />} />\n    <Route path=\"artifacts\" element={<ArtifactsPage />} />\n    <Route path=\"scm-repositories\" element={<ScmRepositoriesPage />} />\n\n    {/* special pages */}\n    <Route path=\"admin\">\n      <Route path=\"demo\" element={<DemoPage />} />\n      <Route path=\"variables\" element={<VariablesPage />} />\n      <Route\n        path=\"administration\"\n        element={\n          <ProtectedRoute role={AUTH_ROLE.Admin}>\n            <AdministrationPage />\n          </ProtectedRoute>\n        }\n      />\n    </Route>\n    <Route path=\"*\" element={<NotFoundPage />} />\n  </Routes>\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
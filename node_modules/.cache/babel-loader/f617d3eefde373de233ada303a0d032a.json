{"ast":null,"code":"var _jsxFileName = \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/components/SearchSelect/SearchSelect.tsx\";\nimport { Select, SelectOption, SelectVariant } from '@patternfly/react-core';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SearchSelect = _ref => {\n  let {\n    attribute,\n    callback\n  } = _ref;\n  const defaultSelectOptions = [{\n    value: 'Build'\n  }, {\n    value: 'Option'\n  }, {\n    value: 'Project'\n  }, {\n    value: 'Version'\n  }];\n  const [selectOptions, setSelectOptions] = useState(defaultSelectOptions);\n  const [isSelectOpen, setIsSelectOpen] = useState(false);\n  const [selected, setSelected] = useState();\n  useEffect(() => {\n    callback({}).then(response => {\n      console.log(response.data);\n    });\n  }, [callback]);\n\n  const clearSelection = () => {\n    setIsSelectOpen(false);\n    setSelectOptions(defaultSelectOptions);\n    setSelected('');\n    console.log('B>>>');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Select, {\n    variant: SelectVariant.typeahead,\n    onToggle: isOpen => {\n      setIsSelectOpen(isOpen);\n    },\n    onSelect: (event, selection, isPlaceholder) => {\n      if (isPlaceholder) clearSelection();else {\n        setSelected(selection);\n        setIsSelectOpen(false);\n      }\n    },\n    onTypeaheadInputChanged: val => {// callback({ params: { q: `${attribute}=like=\"%${val}%\"` } }).then((response: any) => {\n      //   console.log(response.data);\n      // });\n    },\n    onClear: clearSelection,\n    selections: selected,\n    isOpen: isSelectOpen,\n    onFilter: (_, value) => {\n      if (!value) {\n        return defaultSelectOptions;\n      }\n\n      return callback({\n        params: {\n          q: `${attribute}=like=\"%${value}%\"`\n        }\n      }).then(response => {\n        response.data;\n      });\n    },\n    children: selectOptions.map((option, index) => /*#__PURE__*/_jsxDEV(SelectOption, {\n      value: option.value\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};","map":{"version":3,"names":["Select","SelectOption","SelectVariant","useEffect","useState","SearchSelect","attribute","callback","defaultSelectOptions","value","selectOptions","setSelectOptions","isSelectOpen","setIsSelectOpen","selected","setSelected","then","response","console","log","data","clearSelection","typeahead","isOpen","event","selection","isPlaceholder","val","_","params","q","map","option","index"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/components/SearchSelect/SearchSelect.tsx"],"sourcesContent":["import { Select, SelectOption, SelectVariant } from '@patternfly/react-core';\nimport { useEffect, useState } from 'react';\n\ninterface ISearchSelect {\n  attribute: string;\n  callback: Function;\n}\n\nexport const SearchSelect = ({ attribute, callback }: ISearchSelect) => {\n  const defaultSelectOptions = [{ value: 'Build' }, { value: 'Option' }, { value: 'Project' }, { value: 'Version' }];\n  const [selectOptions, setSelectOptions] = useState<any>(defaultSelectOptions);\n  const [isSelectOpen, setIsSelectOpen] = useState<boolean>(false);\n  const [selected, setSelected] = useState<any>();\n\n  useEffect(() => {\n    callback({}).then((response: any) => {\n      console.log(response.data);\n    });\n  }, [callback]);\n\n  const clearSelection = () => {\n    setIsSelectOpen(false);\n    setSelectOptions(defaultSelectOptions);\n    setSelected('');\n    console.log('B>>>');\n  };\n\n  return (\n    <Select\n      variant={SelectVariant.typeahead}\n      onToggle={(isOpen) => {\n        setIsSelectOpen(isOpen);\n      }}\n      onSelect={(event, selection, isPlaceholder) => {\n        if (isPlaceholder) clearSelection();\n        else {\n          setSelected(selection);\n          setIsSelectOpen(false);\n        }\n      }}\n      onTypeaheadInputChanged={(val: string) => {\n        // callback({ params: { q: `${attribute}=like=\"%${val}%\"` } }).then((response: any) => {\n        //   console.log(response.data);\n        // });\n      }}\n      onClear={clearSelection}\n      selections={selected}\n      isOpen={isSelectOpen}\n      onFilter={(_, value) => {\n        if (!value) {\n          return defaultSelectOptions;\n        }\n\n        return callback({ params: { q: `${attribute}=like=\"%${value}%\"` } }).then((response: any) => {\n          response.data;\n        });\n      }}\n    >\n      {selectOptions.map((option: any, index: any) => (\n        <SelectOption key={index} value={option.value} />\n      ))}\n    </Select>\n  );\n};\n"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,YAAjB,EAA+BC,aAA/B,QAAoD,wBAApD;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAOA,OAAO,MAAMC,YAAY,GAAG,QAA4C;EAAA,IAA3C;IAAEC,SAAF;IAAaC;EAAb,CAA2C;EACtE,MAAMC,oBAAoB,GAAG,CAAC;IAAEC,KAAK,EAAE;EAAT,CAAD,EAAqB;IAAEA,KAAK,EAAE;EAAT,CAArB,EAA0C;IAAEA,KAAK,EAAE;EAAT,CAA1C,EAAgE;IAAEA,KAAK,EAAE;EAAT,CAAhE,CAA7B;EACA,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCP,QAAQ,CAAMI,oBAAN,CAAlD;EACA,MAAM,CAACI,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAU,KAAV,CAAhD;EACA,MAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,EAAxC;EAEAD,SAAS,CAAC,MAAM;IACdI,QAAQ,CAAC,EAAD,CAAR,CAAaS,IAAb,CAAmBC,QAAD,IAAmB;MACnCC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;IACD,CAFD;EAGD,CAJQ,EAIN,CAACb,QAAD,CAJM,CAAT;;EAMA,MAAMc,cAAc,GAAG,MAAM;IAC3BR,eAAe,CAAC,KAAD,CAAf;IACAF,gBAAgB,CAACH,oBAAD,CAAhB;IACAO,WAAW,CAAC,EAAD,CAAX;IACAG,OAAO,CAACC,GAAR,CAAY,MAAZ;EACD,CALD;;EAOA,oBACE,QAAC,MAAD;IACE,OAAO,EAAEjB,aAAa,CAACoB,SADzB;IAEE,QAAQ,EAAGC,MAAD,IAAY;MACpBV,eAAe,CAACU,MAAD,CAAf;IACD,CAJH;IAKE,QAAQ,EAAE,CAACC,KAAD,EAAQC,SAAR,EAAmBC,aAAnB,KAAqC;MAC7C,IAAIA,aAAJ,EAAmBL,cAAc,GAAjC,KACK;QACHN,WAAW,CAACU,SAAD,CAAX;QACAZ,eAAe,CAAC,KAAD,CAAf;MACD;IACF,CAXH;IAYE,uBAAuB,EAAGc,GAAD,IAAiB,CACxC;MACA;MACA;IACD,CAhBH;IAiBE,OAAO,EAAEN,cAjBX;IAkBE,UAAU,EAAEP,QAlBd;IAmBE,MAAM,EAAEF,YAnBV;IAoBE,QAAQ,EAAE,CAACgB,CAAD,EAAInB,KAAJ,KAAc;MACtB,IAAI,CAACA,KAAL,EAAY;QACV,OAAOD,oBAAP;MACD;;MAED,OAAOD,QAAQ,CAAC;QAAEsB,MAAM,EAAE;UAAEC,CAAC,EAAG,GAAExB,SAAU,WAAUG,KAAM;QAAlC;MAAV,CAAD,CAAR,CAA8DO,IAA9D,CAAoEC,QAAD,IAAmB;QAC3FA,QAAQ,CAACG,IAAT;MACD,CAFM,CAAP;IAGD,CA5BH;IAAA,UA8BGV,aAAa,CAACqB,GAAd,CAAkB,CAACC,MAAD,EAAcC,KAAd,kBACjB,QAAC,YAAD;MAA0B,KAAK,EAAED,MAAM,CAACvB;IAAxC,GAAmBwB,KAAnB;MAAA;MAAA;MAAA;IAAA,QADD;EA9BH;IAAA;IAAA;IAAA;EAAA,QADF;AAoCD,CAvDM"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { __rest } from \"tslib\";\nimport React, { useEffect } from 'react';\nimport { TextInput } from '../TextInput/TextInput';\nimport { Button } from '../Button/Button';\nimport { Select, SelectOption } from '../Select';\nimport ArrowLeftIcon from '@patternfly/react-icons/dist/esm/icons/arrow-left-icon';\nimport ArrowRightIcon from '@patternfly/react-icons/dist/esm/icons/arrow-right-icon';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/CalendarMonth/calendar-month';\nimport { getUniqueId } from '../../helpers/util';\nexport var Weekday;\n\n(function (Weekday) {\n  Weekday[Weekday[\"Sunday\"] = 0] = \"Sunday\";\n  Weekday[Weekday[\"Monday\"] = 1] = \"Monday\";\n  Weekday[Weekday[\"Tuesday\"] = 2] = \"Tuesday\";\n  Weekday[Weekday[\"Wednesday\"] = 3] = \"Wednesday\";\n  Weekday[Weekday[\"Thursday\"] = 4] = \"Thursday\";\n  Weekday[Weekday[\"Friday\"] = 5] = \"Friday\";\n  Weekday[Weekday[\"Saturday\"] = 6] = \"Saturday\";\n})(Weekday || (Weekday = {})); // Must be numeric given current header design\n\n\nconst yearFormat = date => date.getFullYear();\n\nconst buildCalendar = (year, month, weekStart, validators) => {\n  const defaultDate = new Date(year, month);\n  const firstDayOfWeek = new Date(defaultDate);\n  firstDayOfWeek.setDate(firstDayOfWeek.getDate() - firstDayOfWeek.getDay() + weekStart); // We will always show 6 weeks like google calendar\n  // Assume we just want the numbers for now...\n\n  const calendarWeeks = [];\n\n  for (let i = 0; i < 6; i++) {\n    const week = [];\n\n    for (let j = 0; j < 7; j++) {\n      const date = new Date(firstDayOfWeek);\n      week.push({\n        date,\n        isValid: validators.every(validator => validator(date))\n      });\n      firstDayOfWeek.setDate(firstDayOfWeek.getDate() + 1);\n    }\n\n    calendarWeeks.push(week);\n  }\n\n  return calendarWeeks;\n};\n\nconst isSameDate = (d1, d2) => d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();\n\nexport const isValidDate = date => Boolean(date && !isNaN(date));\nconst today = new Date();\nexport const CalendarMonth = _a => {\n  var {\n    date: dateProp,\n    locale = undefined,\n    monthFormat = date => date.toLocaleDateString(locale, {\n      month: 'long'\n    }),\n    weekdayFormat = date => date.toLocaleDateString(locale, {\n      weekday: 'narrow'\n    }),\n    longWeekdayFormat = date => date.toLocaleDateString(locale, {\n      weekday: 'long'\n    }),\n    dayFormat = date => date.getDate(),\n    weekStart = 0,\n    // Use the American Sunday as a default\n    onChange = () => {},\n    validators = [() => true],\n    className,\n    onSelectToggle = () => {},\n    rangeStart,\n    prevMonthAriaLabel = 'Previous month',\n    nextMonthAriaLabel = 'Next month',\n    yearInputAriaLabel = 'Select year',\n    cellAriaLabel\n  } = _a,\n      props = __rest(_a, [\"date\", \"locale\", \"monthFormat\", \"weekdayFormat\", \"longWeekdayFormat\", \"dayFormat\", \"weekStart\", \"onChange\", \"validators\", \"className\", \"onSelectToggle\", \"rangeStart\", \"prevMonthAriaLabel\", \"nextMonthAriaLabel\", \"yearInputAriaLabel\", \"cellAriaLabel\"]);\n\n  const longMonths = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map(monthNum => new Date(1990, monthNum)).map(monthFormat);\n  const [isSelectOpen, setIsSelectOpen] = React.useState(false); // eslint-disable-next-line prefer-const\n\n  let [focusedDate, setFocusedDate] = React.useState(new Date(dateProp));\n\n  if (!isValidDate(focusedDate)) {\n    if (isValidDate(rangeStart)) {\n      focusedDate = rangeStart;\n    } else {\n      focusedDate = today;\n    }\n  }\n\n  const [hoveredDate, setHoveredDate] = React.useState(new Date(focusedDate));\n  const focusRef = React.useRef();\n  const [hiddenMonthId] = React.useState(getUniqueId('hidden-month-span'));\n  const [shouldFocus, setShouldFocus] = React.useState(false);\n\n  const isValidated = date => validators.every(validator => validator(date));\n\n  const focusedDateValidated = isValidated(focusedDate);\n  useEffect(() => {\n    if (!(isValidDate(dateProp) && isSameDate(focusedDate, dateProp))) {\n      setFocusedDate(dateProp);\n    }\n  }, [dateProp]);\n  useEffect(() => {\n    // When using header controls don't move focus\n    if (shouldFocus) {\n      if (focusRef.current && focusedDateValidated) {\n        focusRef.current.focus();\n      }\n    } else {\n      setShouldFocus(true);\n    }\n  }, [focusedDate]);\n\n  const onMonthClick = newDate => {\n    setFocusedDate(newDate);\n    setHoveredDate(newDate);\n    setShouldFocus(false);\n  };\n\n  const onKeyDown = ev => {\n    const newDate = new Date(focusedDate);\n\n    if (ev.key === 'ArrowUp') {\n      newDate.setDate(newDate.getDate() - 7);\n    } else if (ev.key === 'ArrowRight') {\n      newDate.setDate(newDate.getDate() + 1);\n    } else if (ev.key === 'ArrowDown') {\n      newDate.setDate(newDate.getDate() + 7);\n    } else if (ev.key === 'ArrowLeft') {\n      newDate.setDate(newDate.getDate() - 1);\n    }\n\n    if (newDate.getTime() !== focusedDate.getTime() && isValidated(newDate)) {\n      ev.preventDefault();\n      setFocusedDate(newDate);\n      setHoveredDate(newDate);\n      setShouldFocus(true);\n    }\n  };\n\n  const addMonth = toAdd => {\n    const newDate = new Date(focusedDate);\n    newDate.setMonth(newDate.getMonth() + toAdd);\n    return newDate;\n  };\n\n  const prevMonth = addMonth(-1);\n  const nextMonth = addMonth(1);\n  const focusedYear = focusedDate.getFullYear();\n  const focusedMonth = focusedDate.getMonth();\n  const calendar = React.useMemo(() => buildCalendar(focusedYear, focusedMonth, weekStart, validators), [focusedYear, focusedMonth, weekStart, validators]);\n\n  if (!focusedDateValidated) {\n    const toFocus = calendar.reduce((acc, cur) => [...acc, ...cur], []).filter(_ref => {\n      let {\n        date,\n        isValid\n      } = _ref;\n      return isValid && date.getMonth() === focusedMonth;\n    }).map(_ref2 => {\n      let {\n        date\n      } = _ref2;\n      return {\n        date,\n        days: Math.abs(focusedDate.getTime() - date.getTime())\n      };\n    }).sort((o1, o2) => o1.days - o2.days).map(_ref3 => {\n      let {\n        date\n      } = _ref3;\n      return date;\n    })[0];\n\n    if (toFocus) {\n      setFocusedDate(toFocus);\n      setHoveredDate(toFocus);\n    }\n  }\n\n  const isHoveredDateValid = isValidated(hoveredDate);\n  const monthFormatted = monthFormat(focusedDate);\n  const yearFormatted = yearFormat(focusedDate);\n  return React.createElement(\"div\", Object.assign({\n    className: css(styles.calendarMonth, className)\n  }, props), React.createElement(\"div\", {\n    className: styles.calendarMonthHeader\n  }, React.createElement(\"div\", {\n    className: css(styles.calendarMonthHeaderNavControl, styles.modifiers.prevMonth)\n  }, React.createElement(Button, {\n    variant: \"plain\",\n    \"aria-label\": prevMonthAriaLabel,\n    onClick: () => onMonthClick(prevMonth)\n  }, React.createElement(ArrowLeftIcon, {\n    \"aria-hidden\": true\n  }))), React.createElement(\"div\", {\n    className: styles.calendarMonthHeaderMonth\n  }, React.createElement(\"span\", {\n    id: hiddenMonthId,\n    hidden: true\n  }, \"Month\"), React.createElement(Select // Max width with \"September\"\n  , {\n    // Max width with \"September\"\n    width: \"140px\",\n    \"aria-labelledby\": hiddenMonthId,\n    isOpen: isSelectOpen,\n    onToggle: () => {\n      setIsSelectOpen(!isSelectOpen);\n      onSelectToggle(!isSelectOpen);\n    },\n    onSelect: (_ev, monthNum) => {\n      // When we put CalendarMonth in a Popover we want the Popover's onDocumentClick\n      // to see the SelectOption as a child so it doesn't close the Popover.\n      setTimeout(() => {\n        setIsSelectOpen(false);\n        onSelectToggle(false);\n        const newDate = new Date(focusedDate);\n        newDate.setMonth(Number(monthNum));\n        setFocusedDate(newDate);\n        setHoveredDate(newDate);\n        setShouldFocus(false);\n      }, 0);\n    },\n    variant: \"single\",\n    selections: monthFormatted\n  }, longMonths.map((longMonth, index) => React.createElement(SelectOption, {\n    key: index,\n    value: index,\n    isSelected: longMonth === monthFormatted\n  }, longMonth)))), React.createElement(\"div\", {\n    className: styles.calendarMonthHeaderYear\n  }, React.createElement(TextInput, {\n    \"aria-label\": yearInputAriaLabel,\n    type: \"number\",\n    value: yearFormatted,\n    onChange: year => {\n      const newDate = new Date(focusedDate);\n      newDate.setFullYear(+year);\n      setFocusedDate(newDate);\n      setHoveredDate(newDate);\n      setShouldFocus(false);\n    }\n  })), React.createElement(\"div\", {\n    className: css(styles.calendarMonthHeaderNavControl, styles.modifiers.nextMonth)\n  }, React.createElement(Button, {\n    variant: \"plain\",\n    \"aria-label\": nextMonthAriaLabel,\n    onClick: () => onMonthClick(nextMonth)\n  }, React.createElement(ArrowRightIcon, {\n    \"aria-hidden\": true\n  })))), React.createElement(\"table\", {\n    className: styles.calendarMonthCalendar\n  }, React.createElement(\"thead\", {\n    className: styles.calendarMonthDays\n  }, React.createElement(\"tr\", null, calendar[0].map((_ref4, index) => {\n    let {\n      date\n    } = _ref4;\n    return React.createElement(\"th\", {\n      key: index,\n      className: styles.calendarMonthDay,\n      scope: \"col\"\n    }, React.createElement(\"span\", {\n      className: \"pf-screen-reader\"\n    }, longWeekdayFormat(date)), React.createElement(\"span\", {\n      \"aria-hidden\": true\n    }, weekdayFormat(date)));\n  }))), React.createElement(\"tbody\", {\n    onKeyDown: onKeyDown\n  }, calendar.map((week, index) => React.createElement(\"tr\", {\n    key: index,\n    className: styles.calendarMonthDatesRow\n  }, week.map((_ref5, index) => {\n    let {\n      date,\n      isValid\n    } = _ref5;\n    const dayFormatted = dayFormat(date);\n    const isToday = isSameDate(date, today);\n    const isSelected = isValidDate(dateProp) && isSameDate(date, dateProp);\n    const isFocused = isSameDate(date, focusedDate);\n    const isAdjacentMonth = date.getMonth() !== focusedDate.getMonth();\n    const isRangeStart = isValidDate(rangeStart) && isSameDate(date, rangeStart);\n    let isInRange = false;\n    let isRangeEnd = false;\n\n    if (isValidDate(rangeStart) && isValidDate(dateProp)) {\n      isInRange = date > rangeStart && date < dateProp;\n      isRangeEnd = isSameDate(date, dateProp);\n    } else if (isValidDate(rangeStart) && isHoveredDateValid) {\n      if (hoveredDate > rangeStart || isSameDate(hoveredDate, rangeStart)) {\n        isInRange = date > rangeStart && date < hoveredDate;\n        isRangeEnd = isSameDate(date, hoveredDate);\n      } // Don't handle focused dates before start dates for now.\n      // Core would likely need new styles\n\n    }\n\n    return React.createElement(\"td\", {\n      key: index,\n      className: css(styles.calendarMonthDatesCell, isAdjacentMonth && styles.modifiers.adjacentMonth, isToday && styles.modifiers.current, (isSelected || isRangeStart) && styles.modifiers.selected, !isValid && styles.modifiers.disabled, (isInRange || isRangeStart || isRangeEnd) && styles.modifiers.inRange, isRangeStart && styles.modifiers.startRange, isRangeEnd && styles.modifiers.endRange)\n    }, React.createElement(\"button\", Object.assign({\n      className: css(styles.calendarMonthDate, isRangeEnd && styles.modifiers.hover, !isValid && styles.modifiers.disabled),\n      type: \"button\",\n      onClick: () => onChange(date),\n      onMouseOver: () => setHoveredDate(date),\n      tabIndex: isFocused ? 0 : -1,\n      disabled: !isValid,\n      \"aria-label\": cellAriaLabel ? cellAriaLabel(date) : `${dayFormatted} ${monthFormatted} ${yearFormatted}`\n    }, isFocused && {\n      ref: focusRef\n    }), dayFormatted));\n  }))))));\n};","map":{"version":3,"mappings":"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","names":["React","useEffect","TextInput","Button","Select","SelectOption","ArrowLeftIcon","ArrowRightIcon","css","styles","getUniqueId","Weekday","yearFormat","date","getFullYear","buildCalendar","year","month","weekStart","validators","defaultDate","Date","firstDayOfWeek","setDate","getDate","getDay","calendarWeeks","i","week","j","push","isValid","every","validator","isSameDate","d1","d2","getMonth","isValidDate","Boolean","isNaN","today","CalendarMonth","_a","dateProp","locale","undefined","monthFormat","toLocaleDateString","weekdayFormat","weekday","longWeekdayFormat","dayFormat","onChange","className","onSelectToggle","rangeStart","prevMonthAriaLabel","nextMonthAriaLabel","yearInputAriaLabel","cellAriaLabel","props","longMonths","map","monthNum","isSelectOpen","setIsSelectOpen","useState","focusedDate","setFocusedDate","hoveredDate","setHoveredDate","focusRef","useRef","hiddenMonthId","shouldFocus","setShouldFocus","isValidated","focusedDateValidated","current","focus","onMonthClick","newDate","onKeyDown","ev","key","getTime","preventDefault","addMonth","toAdd","setMonth","prevMonth","nextMonth","focusedYear","focusedMonth","calendar","useMemo","toFocus","reduce","acc","cur","filter","days","Math","abs","sort","o1","o2","isHoveredDateValid","monthFormatted","yearFormatted","calendarMonth","calendarMonthHeader","calendarMonthHeaderNavControl","modifiers","variant","onClick","calendarMonthHeaderMonth","id","hidden","width","isOpen","onToggle","onSelect","_ev","setTimeout","Number","selections","longMonth","index","value","isSelected","calendarMonthHeaderYear","type","setFullYear","calendarMonthCalendar","calendarMonthDays","calendarMonthDay","scope","calendarMonthDatesRow","dayFormatted","isToday","isFocused","isAdjacentMonth","isRangeStart","isInRange","isRangeEnd","calendarMonthDatesCell","adjacentMonth","selected","disabled","inRange","startRange","endRange","calendarMonthDate","hover","onMouseOver","tabIndex","ref"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/CalendarMonth/CalendarMonth.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { TextInput } from '../TextInput/TextInput';\nimport { Button } from '../Button/Button';\nimport { Select, SelectOption } from '../Select';\nimport ArrowLeftIcon from '@patternfly/react-icons/dist/esm/icons/arrow-left-icon';\nimport ArrowRightIcon from '@patternfly/react-icons/dist/esm/icons/arrow-right-icon';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/CalendarMonth/calendar-month';\nimport { getUniqueId } from '../../helpers/util';\n\nexport enum Weekday {\n  Sunday = 0,\n  Monday,\n  Tuesday,\n  Wednesday,\n  Thursday,\n  Friday,\n  Saturday\n}\n\nexport interface CalendarFormat {\n  /** How to format months in Select */\n  monthFormat?: (date: Date) => React.ReactNode;\n  /** How to format week days in header */\n  weekdayFormat?: (date: Date) => React.ReactNode;\n  /** How to format days in header for screen readers */\n  longWeekdayFormat?: (date: Date) => React.ReactNode;\n  /** How to format days in buttons in table cells */\n  dayFormat?: (date: Date) => React.ReactNode;\n  /** If using the default formatters which locale to use. Undefined defaults to current locale. See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl#Locale_identification_and_negotiation */\n  locale?: string;\n  /** Day of week that starts the week. 0 is Sunday, 6 is Saturday. */\n  weekStart?: 0 | 1 | 2 | 3 | 4 | 5 | 6 | Weekday;\n  /** Which date to start range styles from */\n  rangeStart?: Date;\n  /** Aria-label for the previous month button */\n  prevMonthAriaLabel?: string;\n  /** Aria-label for the next month button */\n  nextMonthAriaLabel?: string;\n  /** Aria-label for the year input */\n  yearInputAriaLabel?: string;\n  /** Aria-label for the date cells */\n  cellAriaLabel?: (date: Date) => string;\n}\n\nexport interface CalendarProps extends CalendarFormat, Omit<React.HTMLProps<HTMLDivElement>, 'onChange'> {\n  /** Month/year to base other dates around */\n  date?: Date;\n  /** Callback when date is selected */\n  onChange?: (date: Date) => void;\n  /** Functions that returns if a date is valid and selectable */\n  validators?: ((date: Date) => boolean)[];\n  /** Classname to add to outer div */\n  className?: string;\n  /** @hide Internal prop to allow pressing escape in select menu to not close popover */\n  onSelectToggle?: (open: boolean) => void;\n}\n\n// Must be numeric given current header design\nconst yearFormat = (date: Date) => date.getFullYear();\n\nconst buildCalendar = (year: number, month: number, weekStart: number, validators: ((date: Date) => boolean)[]) => {\n  const defaultDate = new Date(year, month);\n  const firstDayOfWeek = new Date(defaultDate);\n  firstDayOfWeek.setDate(firstDayOfWeek.getDate() - firstDayOfWeek.getDay() + weekStart);\n  // We will always show 6 weeks like google calendar\n  // Assume we just want the numbers for now...\n  const calendarWeeks = [];\n  for (let i = 0; i < 6; i++) {\n    const week = [];\n    for (let j = 0; j < 7; j++) {\n      const date = new Date(firstDayOfWeek);\n      week.push({\n        date,\n        isValid: validators.every(validator => validator(date))\n      });\n      firstDayOfWeek.setDate(firstDayOfWeek.getDate() + 1);\n    }\n    calendarWeeks.push(week);\n  }\n\n  return calendarWeeks;\n};\n\nconst isSameDate = (d1: Date, d2: Date) =>\n  d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();\n\nexport const isValidDate = (date: Date) => Boolean(date && !isNaN(date as any));\n\nconst today = new Date();\n\nexport const CalendarMonth = ({\n  date: dateProp,\n  locale = undefined,\n  monthFormat = date => date.toLocaleDateString(locale, { month: 'long' }),\n  weekdayFormat = date => date.toLocaleDateString(locale, { weekday: 'narrow' }),\n  longWeekdayFormat = date => date.toLocaleDateString(locale, { weekday: 'long' }),\n  dayFormat = date => date.getDate(),\n  weekStart = 0, // Use the American Sunday as a default\n  onChange = () => {},\n  validators = [() => true],\n  className,\n  onSelectToggle = () => {},\n  rangeStart,\n  prevMonthAriaLabel = 'Previous month',\n  nextMonthAriaLabel = 'Next month',\n  yearInputAriaLabel = 'Select year',\n  cellAriaLabel,\n  ...props\n}: CalendarProps) => {\n  const longMonths = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map(monthNum => new Date(1990, monthNum)).map(monthFormat);\n  const [isSelectOpen, setIsSelectOpen] = React.useState(false);\n  // eslint-disable-next-line prefer-const\n  let [focusedDate, setFocusedDate] = React.useState(new Date(dateProp));\n  if (!isValidDate(focusedDate)) {\n    if (isValidDate(rangeStart)) {\n      focusedDate = rangeStart;\n    } else {\n      focusedDate = today;\n    }\n  }\n  const [hoveredDate, setHoveredDate] = React.useState(new Date(focusedDate));\n  const focusRef = React.useRef<HTMLButtonElement>();\n  const [hiddenMonthId] = React.useState(getUniqueId('hidden-month-span'));\n  const [shouldFocus, setShouldFocus] = React.useState(false);\n\n  const isValidated = (date: Date) => validators.every(validator => validator(date));\n  const focusedDateValidated = isValidated(focusedDate);\n  useEffect(() => {\n    if (!(isValidDate(dateProp) && isSameDate(focusedDate, dateProp))) {\n      setFocusedDate(dateProp);\n    }\n  }, [dateProp]);\n\n  useEffect(() => {\n    // When using header controls don't move focus\n    if (shouldFocus) {\n      if (focusRef.current && focusedDateValidated) {\n        focusRef.current.focus();\n      }\n    } else {\n      setShouldFocus(true);\n    }\n  }, [focusedDate]);\n\n  const onMonthClick = (newDate: Date) => {\n    setFocusedDate(newDate);\n    setHoveredDate(newDate);\n    setShouldFocus(false);\n  };\n\n  const onKeyDown = (ev: React.KeyboardEvent<HTMLTableSectionElement>) => {\n    const newDate = new Date(focusedDate);\n    if (ev.key === 'ArrowUp') {\n      newDate.setDate(newDate.getDate() - 7);\n    } else if (ev.key === 'ArrowRight') {\n      newDate.setDate(newDate.getDate() + 1);\n    } else if (ev.key === 'ArrowDown') {\n      newDate.setDate(newDate.getDate() + 7);\n    } else if (ev.key === 'ArrowLeft') {\n      newDate.setDate(newDate.getDate() - 1);\n    }\n    if (newDate.getTime() !== focusedDate.getTime() && isValidated(newDate)) {\n      ev.preventDefault();\n      setFocusedDate(newDate);\n      setHoveredDate(newDate);\n      setShouldFocus(true);\n    }\n  };\n\n  const addMonth = (toAdd: -1 | 1) => {\n    const newDate = new Date(focusedDate);\n    newDate.setMonth(newDate.getMonth() + toAdd);\n    return newDate;\n  };\n\n  const prevMonth = addMonth(-1);\n  const nextMonth = addMonth(1);\n  const focusedYear = focusedDate.getFullYear();\n  const focusedMonth = focusedDate.getMonth();\n  const calendar = React.useMemo(() => buildCalendar(focusedYear, focusedMonth, weekStart, validators), [\n    focusedYear,\n    focusedMonth,\n    weekStart,\n    validators\n  ]);\n  if (!focusedDateValidated) {\n    const toFocus = calendar\n      .reduce((acc, cur) => [...acc, ...cur], [])\n      .filter(({ date, isValid }) => isValid && date.getMonth() === focusedMonth)\n      .map(({ date }) => ({ date, days: Math.abs(focusedDate.getTime() - date.getTime()) }))\n      .sort((o1, o2) => o1.days - o2.days)\n      .map(({ date }) => date)[0];\n    if (toFocus) {\n      setFocusedDate(toFocus);\n      setHoveredDate(toFocus);\n    }\n  }\n  const isHoveredDateValid = isValidated(hoveredDate);\n  const monthFormatted = monthFormat(focusedDate);\n  const yearFormatted = yearFormat(focusedDate);\n  return (\n    <div className={css(styles.calendarMonth, className)} {...props}>\n      <div className={styles.calendarMonthHeader}>\n        <div className={css(styles.calendarMonthHeaderNavControl, styles.modifiers.prevMonth)}>\n          <Button variant=\"plain\" aria-label={prevMonthAriaLabel} onClick={() => onMonthClick(prevMonth)}>\n            <ArrowLeftIcon aria-hidden={true} />\n          </Button>\n        </div>\n        <div className={styles.calendarMonthHeaderMonth}>\n          <span id={hiddenMonthId} hidden>\n            Month\n          </span>\n          <Select\n            // Max width with \"September\"\n            width=\"140px\"\n            aria-labelledby={hiddenMonthId}\n            isOpen={isSelectOpen}\n            onToggle={() => {\n              setIsSelectOpen(!isSelectOpen);\n              onSelectToggle(!isSelectOpen);\n            }}\n            onSelect={(_ev, monthNum) => {\n              // When we put CalendarMonth in a Popover we want the Popover's onDocumentClick\n              // to see the SelectOption as a child so it doesn't close the Popover.\n              setTimeout(() => {\n                setIsSelectOpen(false);\n                onSelectToggle(false);\n                const newDate = new Date(focusedDate);\n                newDate.setMonth(Number(monthNum as string));\n                setFocusedDate(newDate);\n                setHoveredDate(newDate);\n                setShouldFocus(false);\n              }, 0);\n            }}\n            variant=\"single\"\n            selections={monthFormatted}\n          >\n            {longMonths.map((longMonth, index) => (\n              <SelectOption key={index} value={index} isSelected={longMonth === monthFormatted}>\n                {longMonth}\n              </SelectOption>\n            ))}\n          </Select>\n        </div>\n        <div className={styles.calendarMonthHeaderYear}>\n          <TextInput\n            aria-label={yearInputAriaLabel}\n            type=\"number\"\n            value={yearFormatted}\n            onChange={year => {\n              const newDate = new Date(focusedDate);\n              newDate.setFullYear(+year);\n              setFocusedDate(newDate);\n              setHoveredDate(newDate);\n              setShouldFocus(false);\n            }}\n          />\n        </div>\n        <div className={css(styles.calendarMonthHeaderNavControl, styles.modifiers.nextMonth)}>\n          <Button variant=\"plain\" aria-label={nextMonthAriaLabel} onClick={() => onMonthClick(nextMonth)}>\n            <ArrowRightIcon aria-hidden={true} />\n          </Button>\n        </div>\n      </div>\n      <table className={styles.calendarMonthCalendar}>\n        <thead className={styles.calendarMonthDays}>\n          <tr>\n            {calendar[0].map(({ date }, index) => (\n              <th key={index} className={styles.calendarMonthDay} scope=\"col\">\n                <span className=\"pf-screen-reader\">{longWeekdayFormat(date)}</span>\n                <span aria-hidden>{weekdayFormat(date)}</span>\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody onKeyDown={onKeyDown}>\n          {calendar.map((week, index) => (\n            <tr key={index} className={styles.calendarMonthDatesRow}>\n              {week.map(({ date, isValid }, index) => {\n                const dayFormatted = dayFormat(date);\n                const isToday = isSameDate(date, today);\n                const isSelected = isValidDate(dateProp) && isSameDate(date, dateProp);\n                const isFocused = isSameDate(date, focusedDate);\n                const isAdjacentMonth = date.getMonth() !== focusedDate.getMonth();\n                const isRangeStart = isValidDate(rangeStart) && isSameDate(date, rangeStart);\n                let isInRange = false;\n                let isRangeEnd = false;\n                if (isValidDate(rangeStart) && isValidDate(dateProp)) {\n                  isInRange = date > rangeStart && date < dateProp;\n                  isRangeEnd = isSameDate(date, dateProp);\n                } else if (isValidDate(rangeStart) && isHoveredDateValid) {\n                  if (hoveredDate > rangeStart || isSameDate(hoveredDate, rangeStart)) {\n                    isInRange = date > rangeStart && date < hoveredDate;\n                    isRangeEnd = isSameDate(date, hoveredDate);\n                  }\n                  // Don't handle focused dates before start dates for now.\n                  // Core would likely need new styles\n                }\n\n                return (\n                  <td\n                    key={index}\n                    className={css(\n                      styles.calendarMonthDatesCell,\n                      isAdjacentMonth && styles.modifiers.adjacentMonth,\n                      isToday && styles.modifiers.current,\n                      (isSelected || isRangeStart) && styles.modifiers.selected,\n                      !isValid && styles.modifiers.disabled,\n                      (isInRange || isRangeStart || isRangeEnd) && styles.modifiers.inRange,\n                      isRangeStart && styles.modifiers.startRange,\n                      isRangeEnd && styles.modifiers.endRange\n                    )}\n                  >\n                    <button\n                      className={css(\n                        styles.calendarMonthDate,\n                        isRangeEnd && styles.modifiers.hover,\n                        !isValid && styles.modifiers.disabled\n                      )}\n                      type=\"button\"\n                      onClick={() => onChange(date)}\n                      onMouseOver={() => setHoveredDate(date)}\n                      tabIndex={isFocused ? 0 : -1}\n                      disabled={!isValid}\n                      aria-label={\n                        cellAriaLabel ? cellAriaLabel(date) : `${dayFormatted} ${monthFormatted} ${yearFormatted}`\n                      }\n                      {...(isFocused && { ref: focusRef })}\n                    >\n                      {dayFormatted}\n                    </button>\n                  </td>\n                );\n              })}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import{useEffect,useRef}from'react';import{useLocation}from'react-router-dom';import{queryParamsObjectsAreEqual,getComponentQueryParamsObject}from'../utils/queryParamsHelper';export var useQueryParamsEffect=function useQueryParamsEffect(service,componentId){var lastQueryParams=useRef({});var location=useLocation();useEffect(function(){var componentQueryParamsObject=getComponentQueryParamsObject(location.search,componentId);// Prevent service invocation when no Query Params changed\nif(Object.keys(componentQueryParamsObject).length&&!queryParamsObjectsAreEqual(lastQueryParams.current,componentQueryParamsObject)){lastQueryParams.current=componentQueryParamsObject;// Put Query Params coming from the URL to the service\nservice({params:componentQueryParamsObject});}},[location.search,componentId,service]);};","map":{"version":3,"names":["useEffect","useRef","useLocation","queryParamsObjectsAreEqual","getComponentQueryParamsObject","useQueryParamsEffect","service","componentId","lastQueryParams","location","componentQueryParamsObject","search","Object","keys","length","current","params"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/containers/useQueryParamsEffect.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { queryParamsObjectsAreEqual, getComponentQueryParamsObject } from '../utils/queryParamsHelper';\n\nexport const useQueryParamsEffect = (service: Function, componentId: string) => {\n  const lastQueryParams = useRef({});\n  const location = useLocation();\n\n  useEffect(() => {\n    const componentQueryParamsObject = getComponentQueryParamsObject(location.search, componentId);\n    // Prevent service invocation when no Query Params changed\n    if (\n      Object.keys(componentQueryParamsObject).length &&\n      !queryParamsObjectsAreEqual(lastQueryParams.current, componentQueryParamsObject)\n    ) {\n      lastQueryParams.current = componentQueryParamsObject;\n      // Put Query Params coming from the URL to the service\n      service({ params: componentQueryParamsObject });\n    }\n  }, [location.search, componentId, service]);\n};\n"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,MAApB,KAAkC,OAAlC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,0BAAT,CAAqCC,6BAArC,KAA0E,4BAA1E,CAEA,MAAO,IAAMC,qBAAoB,CAAG,QAAvBA,qBAAuB,CAACC,OAAD,CAAoBC,WAApB,CAA4C,CAC9E,GAAMC,gBAAe,CAAGP,MAAM,CAAC,EAAD,CAA9B,CACA,GAAMQ,SAAQ,CAAGP,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAMU,2BAA0B,CAAGN,6BAA6B,CAACK,QAAQ,CAACE,MAAV,CAAkBJ,WAAlB,CAAhE,CACA;AACA,GACEK,MAAM,CAACC,IAAP,CAAYH,0BAAZ,EAAwCI,MAAxC,EACA,CAACX,0BAA0B,CAACK,eAAe,CAACO,OAAjB,CAA0BL,0BAA1B,CAF7B,CAGE,CACAF,eAAe,CAACO,OAAhB,CAA0BL,0BAA1B,CACA;AACAJ,OAAO,CAAC,CAAEU,MAAM,CAAEN,0BAAV,CAAD,CAAP,CACD,CACF,CAXQ,CAWN,CAACD,QAAQ,CAACE,MAAV,CAAkBJ,WAAlB,CAA+BD,OAA/B,CAXM,CAAT,CAYD,CAhBM"},"metadata":{},"sourceType":"module"}
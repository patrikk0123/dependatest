{"ast":null,"code":"import _slicedToArray from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/SearchInput/search-input';\nimport { Button, ButtonVariant } from '../Button';\nimport { Badge } from '../Badge';\nimport AngleDownIcon from '@patternfly/react-icons/dist/esm/icons/angle-down-icon';\nimport AngleUpIcon from '@patternfly/react-icons/dist/esm/icons/angle-up-icon';\nimport TimesIcon from '@patternfly/react-icons/dist/esm/icons/times-icon';\nimport SearchIcon from '@patternfly/react-icons/dist/esm/icons/search-icon';\nimport CaretDownIcon from '@patternfly/react-icons/dist/esm/icons/caret-down-icon';\nimport ArrowRightIcon from '@patternfly/react-icons/dist/esm/icons/arrow-right-icon';\nimport { AdvancedSearchMenu } from './AdvancedSearchMenu';\nimport { TextInputGroup, TextInputGroupMain, TextInputGroupUtilities } from '../TextInputGroup';\nimport { InputGroup } from '../InputGroup';\n\nvar SearchInputBase = function SearchInputBase(_a) {\n  var className = _a.className,\n      _a$value = _a.value,\n      value = _a$value === void 0 ? '' : _a$value,\n      _a$attributes = _a.attributes,\n      attributes = _a$attributes === void 0 ? [] : _a$attributes,\n      formAdditionalItems = _a.formAdditionalItems,\n      _a$hasWordsAttrLabel = _a.hasWordsAttrLabel,\n      hasWordsAttrLabel = _a$hasWordsAttrLabel === void 0 ? 'Has words' : _a$hasWordsAttrLabel,\n      advancedSearchDelimiter = _a.advancedSearchDelimiter,\n      placeholder = _a.placeholder,\n      hint = _a.hint,\n      onChange = _a.onChange,\n      onSearch = _a.onSearch,\n      onClear = _a.onClear,\n      onToggleAdvancedSearch = _a.onToggleAdvancedSearch,\n      isAdvancedSearchOpen = _a.isAdvancedSearchOpen,\n      resultsCount = _a.resultsCount,\n      onNextClick = _a.onNextClick,\n      onPreviousClick = _a.onPreviousClick,\n      innerRef = _a.innerRef,\n      _a$ariaLabel = _a['aria-label'],\n      ariaLabel = _a$ariaLabel === void 0 ? 'Search input' : _a$ariaLabel,\n      _a$resetButtonLabel = _a.resetButtonLabel,\n      resetButtonLabel = _a$resetButtonLabel === void 0 ? 'Reset' : _a$resetButtonLabel,\n      _a$openMenuButtonAria = _a.openMenuButtonAriaLabel,\n      openMenuButtonAriaLabel = _a$openMenuButtonAria === void 0 ? 'Open advanced search' : _a$openMenuButtonAria,\n      _a$previousNavigation = _a.previousNavigationButtonAriaLabel,\n      previousNavigationButtonAriaLabel = _a$previousNavigation === void 0 ? 'Previous' : _a$previousNavigation,\n      _a$isPreviousNavigati = _a.isPreviousNavigationButtonDisabled,\n      isPreviousNavigationButtonDisabled = _a$isPreviousNavigati === void 0 ? false : _a$isPreviousNavigati,\n      _a$isNextNavigationBu = _a.isNextNavigationButtonDisabled,\n      isNextNavigationButtonDisabled = _a$isNextNavigationBu === void 0 ? false : _a$isNextNavigationBu,\n      _a$nextNavigationButt = _a.nextNavigationButtonAriaLabel,\n      nextNavigationButtonAriaLabel = _a$nextNavigationButt === void 0 ? 'Next' : _a$nextNavigationButt,\n      _a$submitSearchButton = _a.submitSearchButtonLabel,\n      submitSearchButtonLabel = _a$submitSearchButton === void 0 ? 'Search' : _a$submitSearchButton,\n      _a$isDisabled = _a.isDisabled,\n      isDisabled = _a$isDisabled === void 0 ? false : _a$isDisabled,\n      props = __rest(_a, [\"className\", \"value\", \"attributes\", \"formAdditionalItems\", \"hasWordsAttrLabel\", \"advancedSearchDelimiter\", \"placeholder\", \"hint\", \"onChange\", \"onSearch\", \"onClear\", \"onToggleAdvancedSearch\", \"isAdvancedSearchOpen\", \"resultsCount\", \"onNextClick\", \"onPreviousClick\", \"innerRef\", 'aria-label', \"resetButtonLabel\", \"openMenuButtonAriaLabel\", \"previousNavigationButtonAriaLabel\", \"isPreviousNavigationButtonDisabled\", \"isNextNavigationButtonDisabled\", \"nextNavigationButtonAriaLabel\", \"submitSearchButtonLabel\", \"isDisabled\"]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isSearchMenuOpen = _React$useState2[0],\n      setIsSearchMenuOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState(value),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      searchValue = _React$useState4[0],\n      setSearchValue = _React$useState4[1];\n\n  var searchInputRef = React.useRef(null);\n  var searchInputInputRef = innerRef || React.useRef(null);\n  React.useEffect(function () {\n    setSearchValue(value);\n  }, [value]);\n  React.useEffect(function () {\n    if (attributes.length > 0 && !advancedSearchDelimiter) {\n      // eslint-disable-next-line no-console\n      console.error('An advancedSearchDelimiter prop is required when advanced search attributes are provided using the attributes prop');\n    }\n  });\n  React.useEffect(function () {\n    setIsSearchMenuOpen(isAdvancedSearchOpen);\n  }, [isAdvancedSearchOpen]);\n\n  var onChangeHandler = function onChangeHandler(value, event) {\n    if (onChange) {\n      onChange(value, event);\n    }\n\n    setSearchValue(value);\n  };\n\n  var onToggle = function onToggle(e) {\n    var isOpen = !isSearchMenuOpen;\n    setIsSearchMenuOpen(isOpen);\n\n    if (onToggleAdvancedSearch) {\n      onToggleAdvancedSearch(e, isOpen);\n    }\n  };\n\n  var onSearchHandler = function onSearchHandler(event) {\n    event.preventDefault();\n\n    if (onSearch) {\n      onSearch(value, event, getAttrValueMap());\n    }\n\n    setIsSearchMenuOpen(false);\n  };\n\n  var getAttrValueMap = function getAttrValueMap() {\n    var attrValue = {};\n    var pairs = searchValue.split(' ');\n    pairs.map(function (pair) {\n      var splitPair = pair.split(advancedSearchDelimiter);\n\n      if (splitPair.length === 2) {\n        attrValue[splitPair[0]] = splitPair[1];\n      } else if (splitPair.length === 1) {\n        attrValue.haswords = attrValue.hasOwnProperty('haswords') ? \"\".concat(attrValue.haswords, \" \").concat(splitPair[0]) : splitPair[0];\n      }\n    });\n    return attrValue;\n  };\n\n  var onEnter = function onEnter(event) {\n    if (event.key === 'Enter') {\n      onSearchHandler(event);\n    }\n  };\n\n  var onClearInput = function onClearInput(e) {\n    if (onClear) {\n      onClear(e);\n    }\n\n    if (searchInputInputRef && searchInputInputRef.current) {\n      searchInputInputRef.current.focus();\n    }\n  };\n\n  var buildSearchTextInputGroup = function buildSearchTextInputGroup() {\n    var _a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var searchInputProps = __rest(_a, []);\n\n    return React.createElement(TextInputGroup, Object.assign({\n      isDisabled: isDisabled\n    }, searchInputProps), React.createElement(TextInputGroupMain, {\n      hint: hint,\n      icon: React.createElement(SearchIcon, null),\n      innerRef: searchInputInputRef,\n      value: searchValue,\n      placeholder: placeholder,\n      \"aria-label\": ariaLabel,\n      onKeyDown: onEnter,\n      onChange: onChangeHandler\n    }), value && React.createElement(TextInputGroupUtilities, null, resultsCount && React.createElement(Badge, {\n      isRead: true\n    }, resultsCount), !!onNextClick && !!onPreviousClick && React.createElement(\"div\", {\n      className: \"pf-c-text-input-group__group\"\n    }, React.createElement(Button, {\n      variant: ButtonVariant.plain,\n      \"aria-label\": previousNavigationButtonAriaLabel,\n      isDisabled: isDisabled || isPreviousNavigationButtonDisabled,\n      onClick: onPreviousClick\n    }, React.createElement(AngleUpIcon, null)), React.createElement(Button, {\n      variant: ButtonVariant.plain,\n      \"aria-label\": nextNavigationButtonAriaLabel,\n      isDisabled: isDisabled || isNextNavigationButtonDisabled,\n      onClick: onNextClick\n    }, React.createElement(AngleDownIcon, null))), !!onClear && React.createElement(Button, {\n      variant: ButtonVariant.plain,\n      isDisabled: isDisabled,\n      \"aria-label\": resetButtonLabel,\n      onClick: onClearInput\n    }, React.createElement(TimesIcon, null))));\n  };\n\n  var buildSearchTextInputGroupWithExtraButtons = function buildSearchTextInputGroupWithExtraButtons() {\n    var _a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var searchInputProps = __rest(_a, []);\n\n    return React.createElement(InputGroup, Object.assign({}, searchInputProps), buildSearchTextInputGroup(), (attributes.length > 0 || onToggleAdvancedSearch) && React.createElement(Button, {\n      className: isSearchMenuOpen && 'pf-m-expanded',\n      variant: ButtonVariant.control,\n      \"aria-label\": openMenuButtonAriaLabel,\n      onClick: onToggle,\n      isDisabled: isDisabled,\n      \"aria-expanded\": isSearchMenuOpen\n    }, React.createElement(CaretDownIcon, null)), !!onSearch && React.createElement(Button, {\n      type: \"submit\",\n      variant: ButtonVariant.control,\n      \"aria-label\": submitSearchButtonLabel,\n      onClick: onSearchHandler,\n      isDisabled: isDisabled || !searchValue\n    }, React.createElement(ArrowRightIcon, null)));\n  };\n\n  var searchInputProps = Object.assign(Object.assign({}, props), {\n    className: className && css(className),\n    innerRef: searchInputRef\n  });\n\n  if (!!onSearch || attributes.length > 0 || !!onToggleAdvancedSearch) {\n    if (attributes.length > 0) {\n      return React.createElement(\"div\", Object.assign({\n        className: css(className, styles.searchInput),\n        ref: searchInputRef\n      }, props), buildSearchTextInputGroupWithExtraButtons(), React.createElement(AdvancedSearchMenu, {\n        className: styles.searchInputMenu,\n        value: value,\n        parentRef: searchInputRef,\n        parentInputRef: searchInputInputRef,\n        onSearch: onSearch,\n        onClear: onClear,\n        onChange: onChange,\n        onToggleAdvancedMenu: onToggle,\n        resetButtonLabel: resetButtonLabel,\n        submitSearchButtonLabel: submitSearchButtonLabel,\n        attributes: attributes,\n        formAdditionalItems: formAdditionalItems,\n        hasWordsAttrLabel: hasWordsAttrLabel,\n        advancedSearchDelimiter: advancedSearchDelimiter,\n        getAttrValueMap: getAttrValueMap,\n        isSearchMenuOpen: isSearchMenuOpen\n      }));\n    }\n\n    return buildSearchTextInputGroupWithExtraButtons(Object.assign({}, searchInputProps));\n  }\n\n  return buildSearchTextInputGroup(searchInputProps);\n};\n\nSearchInputBase.displayName = 'SearchInputBase';\nexport var SearchInput = React.forwardRef(function (props, ref) {\n  return React.createElement(SearchInputBase, Object.assign({}, props, {\n    innerRef: ref\n  }));\n});\nSearchInput.displayName = 'SearchInput';","map":{"version":3,"mappings":"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","names":["React","css","styles","Button","ButtonVariant","Badge","AngleDownIcon","AngleUpIcon","TimesIcon","SearchIcon","CaretDownIcon","ArrowRightIcon","AdvancedSearchMenu","TextInputGroup","TextInputGroupMain","TextInputGroupUtilities","InputGroup","SearchInputBase","_a","className","value","attributes","formAdditionalItems","hasWordsAttrLabel","advancedSearchDelimiter","placeholder","hint","onChange","onSearch","onClear","onToggleAdvancedSearch","isAdvancedSearchOpen","resultsCount","onNextClick","onPreviousClick","innerRef","ariaLabel","resetButtonLabel","openMenuButtonAriaLabel","previousNavigationButtonAriaLabel","isPreviousNavigationButtonDisabled","isNextNavigationButtonDisabled","nextNavigationButtonAriaLabel","submitSearchButtonLabel","isDisabled","props","__rest","useState","isSearchMenuOpen","setIsSearchMenuOpen","searchValue","setSearchValue","searchInputRef","useRef","searchInputInputRef","useEffect","length","console","error","onChangeHandler","event","onToggle","e","isOpen","onSearchHandler","preventDefault","getAttrValueMap","attrValue","pairs","split","map","splitPair","pair","haswords","hasOwnProperty","onEnter","key","onClearInput","current","focus","buildSearchTextInputGroup","searchInputProps","Object","icon","onKeyDown","isRead","variant","plain","onClick","buildSearchTextInputGroupWithExtraButtons","control","type","searchInput","ref","searchInputMenu","parentRef","parentInputRef","onToggleAdvancedMenu","displayName","SearchInput","forwardRef"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/SearchInput/SearchInput.tsx"],"sourcesContent":["import * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/SearchInput/search-input';\nimport { Button, ButtonVariant } from '../Button';\nimport { Badge } from '../Badge';\nimport AngleDownIcon from '@patternfly/react-icons/dist/esm/icons/angle-down-icon';\nimport AngleUpIcon from '@patternfly/react-icons/dist/esm/icons/angle-up-icon';\nimport TimesIcon from '@patternfly/react-icons/dist/esm/icons/times-icon';\nimport SearchIcon from '@patternfly/react-icons/dist/esm/icons/search-icon';\nimport CaretDownIcon from '@patternfly/react-icons/dist/esm/icons/caret-down-icon';\nimport ArrowRightIcon from '@patternfly/react-icons/dist/esm/icons/arrow-right-icon';\nimport { AdvancedSearchMenu } from './AdvancedSearchMenu';\nimport { TextInputGroup, TextInputGroupMain, TextInputGroupUtilities } from '../TextInputGroup';\nimport { InputGroup } from '../InputGroup';\n\nexport interface SearchAttribute {\n  /** The search attribute's value to be provided in the search input's query string.\n   * It should have no spaces and be unique for every attribute */\n  attr: string;\n  /** The search attribute's display name. It is used to label the field in the advanced search menu */\n  display: React.ReactNode;\n}\n\nexport interface SearchInputProps extends Omit<React.HTMLProps<HTMLDivElement>, 'onChange' | 'results' | 'ref'> {\n  /** Additional classes added to the banner */\n  className?: string;\n  /** Value of the search input */\n  value?: string;\n  /** Flag indicating if search input is disabled */\n  isDisabled?: boolean;\n  /** An accessible label for the search input */\n  'aria-label'?: string;\n  /** placeholder text of the search input */\n  placeholder?: string;\n  /** @hide A reference object to attach to the input box */\n  innerRef?: React.RefObject<any>;\n  /** A callback for when the input value changes */\n  onChange?: (value: string, event: React.FormEvent<HTMLInputElement>) => void;\n  /** A suggestion for autocompleting */\n  hint?: string;\n\n  /** A callback for when the search button clicked changes */\n  onSearch?: (\n    value: string,\n    event: React.SyntheticEvent<HTMLButtonElement>,\n    attrValueMap: { [key: string]: string }\n  ) => void;\n  /** A callback for when the user clicks the clear button */\n  onClear?: (event: React.SyntheticEvent<HTMLButtonElement>) => void;\n  /** Label for the buttons which reset the advanced search form and clear the search input */\n  resetButtonLabel?: string;\n  /** Label for the buttons which called the onSearch event handler */\n  submitSearchButtonLabel?: string;\n  /** A callback for when the open advanced search button is clicked */\n  onToggleAdvancedSearch?: (event: React.SyntheticEvent<HTMLButtonElement>, isOpen?: boolean) => void;\n  /** A flag for controlling the open state of a custom advanced search implementation */\n  isAdvancedSearchOpen?: boolean;\n  /** Label for the button which opens the advanced search form menu */\n  openMenuButtonAriaLabel?: string;\n  /** Label for the button to navigate to previous result  */\n  previousNavigationButtonAriaLabel?: string;\n  /** Flag indicating if the previous navigation button is disabled */\n  isPreviousNavigationButtonDisabled?: boolean;\n  /** Label for the button to navigate to next result */\n  nextNavigationButtonAriaLabel?: string;\n  /** Flag indicating if the next navigation button is disabled */\n  isNextNavigationButtonDisabled?: boolean;\n  /** Function called when user clicks to navigate to next result */\n  onNextClick?: (event: React.SyntheticEvent<HTMLButtonElement>) => void;\n  /** Function called when user clicks to navigate to previous result */\n  onPreviousClick?: (event: React.SyntheticEvent<HTMLButtonElement>) => void;\n  /** The number of search results returned. Either a total number of results,\n   * or a string representing the current result over the total number of results. i.e. \"1 / 5\" */\n  resultsCount?: number | string;\n\n  /** Array of attribute values used for dynamically generated advanced search */\n  attributes?: string[] | SearchAttribute[];\n  /* Additional elements added after the attributes in the form.\n   * The new form elements can be wrapped in a FormGroup component for automatic formatting */\n  formAdditionalItems?: React.ReactNode;\n  /** Attribute label for strings unassociated with one of the provided listed attributes */\n  hasWordsAttrLabel?: React.ReactNode;\n  /** Delimiter in the query string for pairing attributes with search values.\n   * Required whenever attributes are passed as props */\n  advancedSearchDelimiter?: string;\n}\n\nconst SearchInputBase: React.FunctionComponent<SearchInputProps> = ({\n  className,\n  value = '',\n  attributes = [] as string[],\n  formAdditionalItems,\n  hasWordsAttrLabel = 'Has words',\n  advancedSearchDelimiter,\n  placeholder,\n  hint,\n  onChange,\n  onSearch,\n  onClear,\n  onToggleAdvancedSearch,\n  isAdvancedSearchOpen,\n  resultsCount,\n  onNextClick,\n  onPreviousClick,\n  innerRef,\n  'aria-label': ariaLabel = 'Search input',\n  resetButtonLabel = 'Reset',\n  openMenuButtonAriaLabel = 'Open advanced search',\n  previousNavigationButtonAriaLabel = 'Previous',\n  isPreviousNavigationButtonDisabled = false,\n  isNextNavigationButtonDisabled = false,\n  nextNavigationButtonAriaLabel = 'Next',\n  submitSearchButtonLabel = 'Search',\n  isDisabled = false,\n  ...props\n}: SearchInputProps) => {\n  const [isSearchMenuOpen, setIsSearchMenuOpen] = React.useState(false);\n  const [searchValue, setSearchValue] = React.useState(value);\n  const searchInputRef = React.useRef(null);\n  const searchInputInputRef = innerRef || React.useRef(null);\n\n  React.useEffect(() => {\n    setSearchValue(value);\n  }, [value]);\n\n  React.useEffect(() => {\n    if (attributes.length > 0 && !advancedSearchDelimiter) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'An advancedSearchDelimiter prop is required when advanced search attributes are provided using the attributes prop'\n      );\n    }\n  });\n\n  React.useEffect(() => {\n    setIsSearchMenuOpen(isAdvancedSearchOpen);\n  }, [isAdvancedSearchOpen]);\n\n  const onChangeHandler = (value: string, event: React.FormEvent<HTMLInputElement>) => {\n    if (onChange) {\n      onChange(value, event);\n    }\n    setSearchValue(value);\n  };\n\n  const onToggle = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    const isOpen = !isSearchMenuOpen;\n    setIsSearchMenuOpen(isOpen);\n    if (onToggleAdvancedSearch) {\n      onToggleAdvancedSearch(e, isOpen);\n    }\n  };\n\n  const onSearchHandler = (event: React.SyntheticEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    if (onSearch) {\n      onSearch(value, event, getAttrValueMap());\n    }\n    setIsSearchMenuOpen(false);\n  };\n\n  const getAttrValueMap = () => {\n    const attrValue: { [key: string]: string } = {};\n    const pairs = searchValue.split(' ');\n    pairs.map(pair => {\n      const splitPair = pair.split(advancedSearchDelimiter);\n      if (splitPair.length === 2) {\n        attrValue[splitPair[0]] = splitPair[1];\n      } else if (splitPair.length === 1) {\n        attrValue.haswords = attrValue.hasOwnProperty('haswords')\n          ? `${attrValue.haswords} ${splitPair[0]}`\n          : splitPair[0];\n      }\n    });\n    return attrValue;\n  };\n\n  const onEnter = (event: React.KeyboardEvent<any>) => {\n    if (event.key === 'Enter') {\n      onSearchHandler(event);\n    }\n  };\n\n  const onClearInput = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    if (onClear) {\n      onClear(e);\n    }\n    if (searchInputInputRef && searchInputInputRef.current) {\n      searchInputInputRef.current.focus();\n    }\n  };\n\n  const buildSearchTextInputGroup = ({ ...searchInputProps } = {}) => (\n    <TextInputGroup isDisabled={isDisabled} {...searchInputProps}>\n      <TextInputGroupMain\n        hint={hint}\n        icon={<SearchIcon />}\n        innerRef={searchInputInputRef}\n        value={searchValue}\n        placeholder={placeholder}\n        aria-label={ariaLabel}\n        onKeyDown={onEnter}\n        onChange={onChangeHandler}\n      />\n      {value && (\n        <TextInputGroupUtilities>\n          {resultsCount && <Badge isRead>{resultsCount}</Badge>}\n          {!!onNextClick && !!onPreviousClick && (\n            <div className=\"pf-c-text-input-group__group\">\n              <Button\n                variant={ButtonVariant.plain}\n                aria-label={previousNavigationButtonAriaLabel}\n                isDisabled={isDisabled || isPreviousNavigationButtonDisabled}\n                onClick={onPreviousClick}\n              >\n                <AngleUpIcon />\n              </Button>\n              <Button\n                variant={ButtonVariant.plain}\n                aria-label={nextNavigationButtonAriaLabel}\n                isDisabled={isDisabled || isNextNavigationButtonDisabled}\n                onClick={onNextClick}\n              >\n                <AngleDownIcon />\n              </Button>\n            </div>\n          )}\n          {!!onClear && (\n            <Button\n              variant={ButtonVariant.plain}\n              isDisabled={isDisabled}\n              aria-label={resetButtonLabel}\n              onClick={onClearInput}\n            >\n              <TimesIcon />\n            </Button>\n          )}\n        </TextInputGroupUtilities>\n      )}\n    </TextInputGroup>\n  );\n\n  const buildSearchTextInputGroupWithExtraButtons = ({ ...searchInputProps } = {}) => (\n    <InputGroup {...searchInputProps}>\n      {buildSearchTextInputGroup()}\n      {(attributes.length > 0 || onToggleAdvancedSearch) && (\n        <Button\n          className={isSearchMenuOpen && 'pf-m-expanded'}\n          variant={ButtonVariant.control}\n          aria-label={openMenuButtonAriaLabel}\n          onClick={onToggle}\n          isDisabled={isDisabled}\n          aria-expanded={isSearchMenuOpen}\n        >\n          <CaretDownIcon />\n        </Button>\n      )}\n      {!!onSearch && (\n        <Button\n          type=\"submit\"\n          variant={ButtonVariant.control}\n          aria-label={submitSearchButtonLabel}\n          onClick={onSearchHandler}\n          isDisabled={isDisabled || !searchValue}\n        >\n          <ArrowRightIcon />\n        </Button>\n      )}\n    </InputGroup>\n  );\n\n  const searchInputProps = {\n    ...props,\n    className: className && css(className),\n    innerRef: searchInputRef\n  };\n\n  if (!!onSearch || attributes.length > 0 || !!onToggleAdvancedSearch) {\n    if (attributes.length > 0) {\n      return (\n        <div className={css(className, styles.searchInput)} ref={searchInputRef} {...props}>\n          {buildSearchTextInputGroupWithExtraButtons()}\n          <AdvancedSearchMenu\n            className={styles.searchInputMenu}\n            value={value}\n            parentRef={searchInputRef}\n            parentInputRef={searchInputInputRef}\n            onSearch={onSearch}\n            onClear={onClear}\n            onChange={onChange}\n            onToggleAdvancedMenu={onToggle}\n            resetButtonLabel={resetButtonLabel}\n            submitSearchButtonLabel={submitSearchButtonLabel}\n            attributes={attributes}\n            formAdditionalItems={formAdditionalItems}\n            hasWordsAttrLabel={hasWordsAttrLabel}\n            advancedSearchDelimiter={advancedSearchDelimiter}\n            getAttrValueMap={getAttrValueMap}\n            isSearchMenuOpen={isSearchMenuOpen}\n          />\n        </div>\n      );\n    }\n\n    return buildSearchTextInputGroupWithExtraButtons({ ...searchInputProps });\n  }\n  return buildSearchTextInputGroup(searchInputProps);\n};\nSearchInputBase.displayName = 'SearchInputBase';\n\nexport const SearchInput = React.forwardRef((props: SearchInputProps, ref: React.Ref<HTMLInputElement>) => (\n  <SearchInputBase {...props} innerRef={ref as React.MutableRefObject<any>} />\n));\nSearchInput.displayName = 'SearchInput';\n"]},"metadata":{},"sourceType":"module"}
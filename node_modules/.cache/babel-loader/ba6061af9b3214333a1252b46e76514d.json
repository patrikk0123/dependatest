{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/FileUpload/file-upload';\nimport { css } from '@patternfly/react-styles';\nimport { InputGroup } from '../InputGroup';\nimport { TextInput } from '../TextInput';\nimport { Button, ButtonVariant } from '../Button';\nimport { TextArea, TextAreResizeOrientation } from '../TextArea';\nimport { Spinner, spinnerSize } from '../Spinner';\nimport { fileReaderType } from '../../helpers/fileUtils';\nexport var FileUploadField = function FileUploadField(_a) {\n  var id = _a.id,\n      type = _a.type,\n      _a$value = _a.value,\n      value = _a$value === void 0 ? '' : _a$value,\n      _a$filename = _a.filename,\n      filename = _a$filename === void 0 ? '' : _a$filename,\n      _a$onChange = _a.onChange,\n      onChange = _a$onChange === void 0 ? function () {} : _a$onChange,\n      _a$onBrowseButtonClic = _a.onBrowseButtonClick,\n      onBrowseButtonClick = _a$onBrowseButtonClic === void 0 ? function () {} : _a$onBrowseButtonClic,\n      _a$onClearButtonClick = _a.onClearButtonClick,\n      onClearButtonClick = _a$onClearButtonClick === void 0 ? function () {} : _a$onClearButtonClick,\n      onTextAreaClick = _a.onTextAreaClick,\n      onTextChange = _a.onTextChange,\n      onTextAreaBlur = _a.onTextAreaBlur,\n      _a$textAreaPlaceholde = _a.textAreaPlaceholder,\n      textAreaPlaceholder = _a$textAreaPlaceholde === void 0 ? '' : _a$textAreaPlaceholde,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      _a$isDisabled = _a.isDisabled,\n      isDisabled = _a$isDisabled === void 0 ? false : _a$isDisabled,\n      _a$isReadOnly = _a.isReadOnly,\n      isReadOnly = _a$isReadOnly === void 0 ? false : _a$isReadOnly,\n      _a$isLoading = _a.isLoading,\n      isLoading = _a$isLoading === void 0 ? false : _a$isLoading,\n      spinnerAriaValueText = _a.spinnerAriaValueText,\n      _a$isRequired = _a.isRequired,\n      isRequired = _a$isRequired === void 0 ? false : _a$isRequired,\n      _a$isDragActive = _a.isDragActive,\n      isDragActive = _a$isDragActive === void 0 ? false : _a$isDragActive,\n      _a$validated = _a.validated,\n      validated = _a$validated === void 0 ? 'default' : _a$validated,\n      _a$ariaLabel = _a['aria-label'],\n      ariaLabel = _a$ariaLabel === void 0 ? 'File upload' : _a$ariaLabel,\n      _a$filenamePlaceholde = _a.filenamePlaceholder,\n      filenamePlaceholder = _a$filenamePlaceholde === void 0 ? 'Drag a file here or browse to upload' : _a$filenamePlaceholde,\n      _a$filenameAriaLabel = _a.filenameAriaLabel,\n      filenameAriaLabel = _a$filenameAriaLabel === void 0 ? filename ? 'Read only filename' : filenamePlaceholder : _a$filenameAriaLabel,\n      _a$browseButtonText = _a.browseButtonText,\n      browseButtonText = _a$browseButtonText === void 0 ? 'Browse...' : _a$browseButtonText,\n      _a$clearButtonText = _a.clearButtonText,\n      clearButtonText = _a$clearButtonText === void 0 ? 'Clear' : _a$clearButtonText,\n      _a$isClearButtonDisab = _a.isClearButtonDisabled,\n      isClearButtonDisabled = _a$isClearButtonDisab === void 0 ? !filename && !value : _a$isClearButtonDisab,\n      _a$containerRef = _a.containerRef,\n      containerRef = _a$containerRef === void 0 ? null : _a$containerRef,\n      _a$allowEditingUpload = _a.allowEditingUploadedText,\n      allowEditingUploadedText = _a$allowEditingUpload === void 0 ? false : _a$allowEditingUpload,\n      _a$hideDefaultPreview = _a.hideDefaultPreview,\n      hideDefaultPreview = _a$hideDefaultPreview === void 0 ? false : _a$hideDefaultPreview,\n      _a$children = _a.children,\n      children = _a$children === void 0 ? null : _a$children,\n      props = __rest(_a, [\"id\", \"type\", \"value\", \"filename\", \"onChange\", \"onBrowseButtonClick\", \"onClearButtonClick\", \"onTextAreaClick\", \"onTextChange\", \"onTextAreaBlur\", \"textAreaPlaceholder\", \"className\", \"isDisabled\", \"isReadOnly\", \"isLoading\", \"spinnerAriaValueText\", \"isRequired\", \"isDragActive\", \"validated\", 'aria-label', \"filenamePlaceholder\", \"filenameAriaLabel\", \"browseButtonText\", \"clearButtonText\", \"isClearButtonDisabled\", \"containerRef\", \"allowEditingUploadedText\", \"hideDefaultPreview\", \"children\"]);\n\n  var onTextAreaChange = function onTextAreaChange(newValue, event) {\n    onChange(newValue, filename, event);\n    onTextChange === null || onTextChange === void 0 ? void 0 : onTextChange(newValue);\n  };\n\n  return React.createElement(\"div\", Object.assign({\n    className: css(styles.fileUpload, isDragActive && styles.modifiers.dragHover, isLoading && styles.modifiers.loading, className),\n    ref: containerRef\n  }, props), React.createElement(\"div\", {\n    className: styles.fileUploadFileSelect\n  }, React.createElement(InputGroup, null, React.createElement(TextInput, {\n    isReadOnly // Always read-only regardless of isReadOnly prop (which is just for the TextArea)\n    : true,\n    isDisabled: isDisabled,\n    id: \"\".concat(id, \"-filename\"),\n    name: \"\".concat(id, \"-filename\"),\n    \"aria-label\": filenameAriaLabel,\n    placeholder: filenamePlaceholder,\n    \"aria-describedby\": \"\".concat(id, \"-browse-button\"),\n    value: filename\n  }), React.createElement(Button, {\n    id: \"\".concat(id, \"-browse-button\"),\n    variant: ButtonVariant.control,\n    onClick: onBrowseButtonClick,\n    isDisabled: isDisabled\n  }, browseButtonText), React.createElement(Button, {\n    variant: ButtonVariant.control,\n    isDisabled: isDisabled || isClearButtonDisabled,\n    onClick: onClearButtonClick\n  }, clearButtonText))), React.createElement(\"div\", {\n    className: styles.fileUploadFileDetails\n  }, !hideDefaultPreview && type === fileReaderType.text && React.createElement(TextArea, {\n    readOnly: isReadOnly || !!filename && !allowEditingUploadedText,\n    disabled: isDisabled,\n    isRequired: isRequired,\n    resizeOrientation: TextAreResizeOrientation.vertical,\n    validated: validated,\n    id: id,\n    name: id,\n    \"aria-label\": ariaLabel,\n    value: value,\n    onChange: onTextAreaChange,\n    onClick: onTextAreaClick,\n    onBlur: onTextAreaBlur,\n    placeholder: textAreaPlaceholder\n  }), isLoading && React.createElement(\"div\", {\n    className: styles.fileUploadFileDetailsSpinner\n  }, React.createElement(Spinner, {\n    size: spinnerSize.lg,\n    \"aria-valuetext\": spinnerAriaValueText\n  }))), children);\n};\nFileUploadField.displayName = 'FileUploadField';","map":{"version":3,"mappings":"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","names":["React","styles","css","InputGroup","TextInput","Button","ButtonVariant","TextArea","TextAreResizeOrientation","Spinner","spinnerSize","fileReaderType","FileUploadField","_a","id","type","value","filename","onChange","onBrowseButtonClick","onClearButtonClick","onTextAreaClick","onTextChange","onTextAreaBlur","textAreaPlaceholder","className","isDisabled","isReadOnly","isLoading","spinnerAriaValueText","isRequired","isDragActive","validated","ariaLabel","filenamePlaceholder","filenameAriaLabel","browseButtonText","clearButtonText","isClearButtonDisabled","containerRef","allowEditingUploadedText","hideDefaultPreview","children","props","__rest","onTextAreaChange","newValue","event","fileUpload","modifiers","dragHover","loading","ref","fileUploadFileSelect","name","placeholder","variant","control","onClick","fileUploadFileDetails","text","readOnly","disabled","resizeOrientation","vertical","onBlur","fileUploadFileDetailsSpinner","size","lg","displayName"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/FileUpload/FileUploadField.tsx"],"sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/FileUpload/file-upload';\nimport { css } from '@patternfly/react-styles';\nimport { InputGroup } from '../InputGroup';\nimport { TextInput } from '../TextInput';\nimport { Button, ButtonVariant } from '../Button';\nimport { TextArea, TextAreResizeOrientation } from '../TextArea';\nimport { Spinner, spinnerSize } from '../Spinner';\nimport { fileReaderType } from '../../helpers/fileUtils';\n\nexport interface FileUploadFieldProps extends Omit<React.HTMLProps<HTMLDivElement>, 'value' | 'onChange'> {\n  /** Unique id for the TextArea, also used to generate ids for accessible labels */\n  id: string;\n  /** What type of file. Determines what is is expected by `value`\n   * (a string for 'text' and 'dataURL', or a File object otherwise). */\n  type?: 'text' | 'dataURL';\n  /** Value of the file's contents\n   * (string if text file, File object otherwise) */\n  value?: string | File;\n  /** Value to be shown in the read-only filename field. */\n  filename?: string;\n  /** A callback for when the TextArea value changes. */\n  onChange?: (\n    value: string,\n    filename: string,\n    event:\n      | React.ChangeEvent<HTMLTextAreaElement> // User typed in the TextArea\n      | React.MouseEvent<HTMLButtonElement, MouseEvent> // User clicked Clear button\n  ) => void;\n  /** Additional classes added to the FileUploadField container element. */\n  className?: string;\n  /** Flag to show if the field is disabled. */\n  isDisabled?: boolean;\n  /** Flag to show if the field is read only. */\n  isReadOnly?: boolean;\n  /** Flag to show if a file is being loaded. */\n  isLoading?: boolean;\n  /** Aria-valuetext for the loading spinner */\n  spinnerAriaValueText?: string;\n  /** Flag to show if the field is required. */\n  isRequired?: boolean;\n  /** Value to indicate if the field is modified to show that validation state.\n   * If set to success, field will be modified to indicate valid state.\n   * If set to error,  field will be modified to indicate error state.\n   */\n  validated?: 'success' | 'error' | 'default';\n  /** Aria-label for the TextArea. */\n  'aria-label'?: string;\n  /** Placeholder string to display in the empty filename field */\n  filenamePlaceholder?: string;\n  /** Aria-label for the read-only filename field */\n  filenameAriaLabel?: string;\n  /** Text for the Browse button */\n  browseButtonText?: string;\n  /** Text for the Clear button */\n  clearButtonText?: string;\n  /** Flag to disable the Clear button */\n  isClearButtonDisabled?: boolean;\n  /** Flag to hide the built-in preview of the file (where available).\n   * If true, you can use children to render an alternate preview. */\n  hideDefaultPreview?: boolean;\n  /** Flag to allow editing of a text file's contents after it is selected from disk */\n  allowEditingUploadedText?: boolean;\n  /** Additional children to render after (or instead of) the file preview. */\n  children?: React.ReactNode;\n\n  // Props available in FileUploadField but not FileUpload:\n\n  /** A callback for when the Browse button is clicked. */\n  onBrowseButtonClick?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  /** A callback for when the Clear button is clicked. */\n  onClearButtonClick?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  /** A callback from when the text area is clicked. Can also be set via the onClick property of FileUpload. */\n  onTextAreaClick?: (event: React.MouseEvent<HTMLTextAreaElement, MouseEvent>) => void;\n  /** Flag to show if a file is being dragged over the field */\n  isDragActive?: boolean;\n  /** A reference object to attach to the FileUploadField container element. */\n  containerRef?: React.Ref<HTMLDivElement>;\n  /** Text area text changed */\n  onTextChange?: (text: string) => void;\n  /** Callback for when focus is lost on the text area field */\n  onTextAreaBlur?: (event?: any) => void;\n  /** Placeholder string to display in the empty text area field */\n  textAreaPlaceholder?: string;\n}\n\nexport const FileUploadField: React.FunctionComponent<FileUploadFieldProps> = ({\n  id,\n  type,\n  value = '',\n  filename = '',\n  onChange = () => {},\n  onBrowseButtonClick = () => {},\n  onClearButtonClick = () => {},\n  onTextAreaClick,\n  onTextChange,\n  onTextAreaBlur,\n  textAreaPlaceholder = '',\n  className = '',\n  isDisabled = false,\n  isReadOnly = false,\n  isLoading = false,\n  spinnerAriaValueText,\n  isRequired = false,\n  isDragActive = false,\n  validated = 'default' as 'success' | 'error' | 'default',\n  'aria-label': ariaLabel = 'File upload',\n  filenamePlaceholder = 'Drag a file here or browse to upload',\n  filenameAriaLabel = filename ? 'Read only filename' : filenamePlaceholder,\n  browseButtonText = 'Browse...',\n  clearButtonText = 'Clear',\n  isClearButtonDisabled = !filename && !value,\n  containerRef = null as React.Ref<HTMLDivElement>,\n  allowEditingUploadedText = false,\n  hideDefaultPreview = false,\n  children = null,\n\n  ...props\n}: FileUploadFieldProps) => {\n  const onTextAreaChange = (newValue: string, event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    onChange(newValue, filename, event);\n    onTextChange?.(newValue);\n  };\n  return (\n    <div\n      className={css(\n        styles.fileUpload,\n        isDragActive && styles.modifiers.dragHover,\n        isLoading && styles.modifiers.loading,\n        className\n      )}\n      ref={containerRef}\n      {...props}\n    >\n      <div className={styles.fileUploadFileSelect}>\n        <InputGroup>\n          <TextInput\n            isReadOnly // Always read-only regardless of isReadOnly prop (which is just for the TextArea)\n            isDisabled={isDisabled}\n            id={`${id}-filename`}\n            name={`${id}-filename`}\n            aria-label={filenameAriaLabel}\n            placeholder={filenamePlaceholder}\n            aria-describedby={`${id}-browse-button`}\n            value={filename}\n          />\n          <Button\n            id={`${id}-browse-button`}\n            variant={ButtonVariant.control}\n            onClick={onBrowseButtonClick}\n            isDisabled={isDisabled}\n          >\n            {browseButtonText}\n          </Button>\n          <Button\n            variant={ButtonVariant.control}\n            isDisabled={isDisabled || isClearButtonDisabled}\n            onClick={onClearButtonClick}\n          >\n            {clearButtonText}\n          </Button>\n        </InputGroup>\n      </div>\n      <div className={styles.fileUploadFileDetails}>\n        {!hideDefaultPreview && type === fileReaderType.text && (\n          <TextArea\n            readOnly={isReadOnly || (!!filename && !allowEditingUploadedText)}\n            disabled={isDisabled}\n            isRequired={isRequired}\n            resizeOrientation={TextAreResizeOrientation.vertical}\n            validated={validated}\n            id={id}\n            name={id}\n            aria-label={ariaLabel}\n            value={value as string}\n            onChange={onTextAreaChange}\n            onClick={onTextAreaClick}\n            onBlur={onTextAreaBlur}\n            placeholder={textAreaPlaceholder}\n          />\n        )}\n        {isLoading && (\n          <div className={styles.fileUploadFileDetailsSpinner}>\n            <Spinner size={spinnerSize.lg} aria-valuetext={spinnerAriaValueText} />\n          </div>\n        )}\n      </div>\n      {children}\n    </div>\n  );\n};\nFileUploadField.displayName = 'FileUploadField';\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectSpread from\"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{ProjectsList}from'./../ProjectsList/ProjectsList';import{PageLayout}from'./../PageLayout/PageLayout';import{DataContainer}from'../../containers/DataContainer/DataContainer';import{useDataContainer}from'../../containers/DataContainer/useDataContainer';import{projectService}from'../../services/projectService';import{Label,ToolbarItem}from'@patternfly/react-core';import{Pagination}from'../Pagination/Pagination';import{useQueryParamsEffect}from'../../containers/useQueryParamsEffect';import{Filtering}from'../Filtering/Filtering';import{Toolbar}from'../Toolbar/Toolbar';import{useTitle}from'../../containers/useTitle';import{PageTitles}from'../../utils/PageTitles';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ProjectsPage=function ProjectsPage(_ref){var _dataContainer$data,_dataContainer$data2;var _ref$componentId=_ref.componentId,componentId=_ref$componentId===void 0?'p1':_ref$componentId;var dataContainer=useDataContainer(function(_ref2){var requestConfig=_ref2.requestConfig;return projectService.getProjects(requestConfig);});useTitle(PageTitles.projects);// keeping also not supported operations for testing purposes\nvar filterOptions={filterAttributes:{name:{id:'name',title:'Name',placeholder:'string | !string | s?ring | st*ng',operator:'=like='},description:{id:'description',title:'Description',operator:'=like='},customb:{id:'customb',title:'Custom',isCustomParam:true,operator:'=like='},status:{id:'status',title:'Status',filterValues:['SUCCESS','REJECTED','FAILED','CANCELLED','BUILDING','NO_REBUILD_REQUIRED','SYSTEM_ERROR'],operator:'=='}}};var ToolbarItemWidths={default:'100%'};useQueryParamsEffect(function(requestConfig){dataContainer.refresh({requestConfig:requestConfig});},componentId);return/*#__PURE__*/_jsxs(PageLayout,{title:\"Projects\",description:/*#__PURE__*/_jsxs(_Fragment,{children:[\"This page contains a standalone projects like \",/*#__PURE__*/_jsx(Label,{children:\"Hibernate\"}),\" or \",/*#__PURE__*/_jsx(Label,{children:\"JBoss Modules\"}),\", usually a project represents one SCM repository and one project may contain multiple Build Configs.\"]}),children:[/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(ToolbarItem,{widths:ToolbarItemWidths,children:/*#__PURE__*/_jsx(Filtering,{filterOptions:filterOptions,componentId:componentId})})}),/*#__PURE__*/_jsx(DataContainer,_objectSpread(_objectSpread({},dataContainer),{},{title:\"Projects List\",children:/*#__PURE__*/_jsx(ProjectsList,{projects:(_dataContainer$data=dataContainer.data)===null||_dataContainer$data===void 0?void 0:_dataContainer$data.content})})),/*#__PURE__*/_jsx(Pagination,{componentId:componentId,count:(_dataContainer$data2=dataContainer.data)===null||_dataContainer$data2===void 0?void 0:_dataContainer$data2.totalHits})]});};","map":{"version":3,"names":["ProjectsList","PageLayout","DataContainer","useDataContainer","projectService","Label","ToolbarItem","Pagination","useQueryParamsEffect","Filtering","Toolbar","useTitle","PageTitles","ProjectsPage","componentId","dataContainer","requestConfig","getProjects","projects","filterOptions","filterAttributes","name","id","title","placeholder","operator","description","customb","isCustomParam","status","filterValues","ToolbarItemWidths","default","refresh","data","content","totalHits"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/components/ProjectsPage/ProjectsPage.tsx"],"sourcesContent":["import { ProjectsList } from './../ProjectsList/ProjectsList';\nimport { PageLayout } from './../PageLayout/PageLayout';\nimport { DataContainer } from '../../containers/DataContainer/DataContainer';\nimport { IService, useDataContainer } from '../../containers/DataContainer/useDataContainer';\nimport { projectService } from '../../services/projectService';\nimport { Label, ToolbarItem } from '@patternfly/react-core';\nimport { Pagination } from '../Pagination/Pagination';\nimport { useQueryParamsEffect } from '../../containers/useQueryParamsEffect';\nimport { Filtering, IFilterOptions } from '../Filtering/Filtering';\nimport { Toolbar } from '../Toolbar/Toolbar';\nimport { useTitle } from '../../containers/useTitle';\nimport { PageTitles } from '../../utils/PageTitles';\n\ninterface IProjectPage {\n  componentId?: string;\n}\n\nexport const ProjectsPage = ({ componentId = 'p1' }: IProjectPage) => {\n  const dataContainer = useDataContainer(({ requestConfig }: IService) => projectService.getProjects(requestConfig));\n\n  useTitle(PageTitles.projects);\n\n  // keeping also not supported operations for testing purposes\n  const filterOptions: IFilterOptions = {\n    filterAttributes: {\n      name: {\n        id: 'name',\n        title: 'Name',\n        placeholder: 'string | !string | s?ring | st*ng',\n        operator: '=like=',\n      },\n      description: {\n        id: 'description',\n        title: 'Description',\n        operator: '=like=',\n      },\n      customb: {\n        id: 'customb',\n        title: 'Custom',\n        isCustomParam: true,\n        operator: '=like=',\n      },\n      status: {\n        id: 'status',\n        title: 'Status',\n        filterValues: ['SUCCESS', 'REJECTED', 'FAILED', 'CANCELLED', 'BUILDING', 'NO_REBUILD_REQUIRED', 'SYSTEM_ERROR'],\n        operator: '==',\n      },\n    },\n  };\n\n  const ToolbarItemWidths = {\n    default: '100%',\n  };\n\n  useQueryParamsEffect((requestConfig: Object) => {\n    dataContainer.refresh({ requestConfig });\n  }, componentId);\n\n  return (\n    <PageLayout\n      title=\"Projects\"\n      description={\n        <>\n          This page contains a standalone projects like <Label>Hibernate</Label> or <Label>JBoss Modules</Label>, usually a\n          project represents one SCM repository and one project may contain multiple Build Configs.\n        </>\n      }\n    >\n      <Toolbar>\n        <ToolbarItem widths={ToolbarItemWidths}>\n          <Filtering filterOptions={filterOptions} componentId={componentId} />\n        </ToolbarItem>\n      </Toolbar>\n\n      <DataContainer {...dataContainer} title=\"Projects List\">\n        <ProjectsList projects={dataContainer.data?.content} />\n      </DataContainer>\n      {/* Pagination need to be outside of DataContainer so that it can initialize Query Params */}\n      <Pagination componentId={componentId} count={dataContainer.data?.totalHits} />\n    </PageLayout>\n  );\n};\n"],"mappings":"oIAAA,OAASA,YAAT,KAA6B,gCAA7B,CACA,OAASC,UAAT,KAA2B,4BAA3B,CACA,OAASC,aAAT,KAA8B,8CAA9B,CACA,OAAmBC,gBAAnB,KAA2C,iDAA3C,CACA,OAASC,cAAT,KAA+B,+BAA/B,CACA,OAASC,KAAT,CAAgBC,WAAhB,KAAmC,wBAAnC,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,oBAAT,KAAqC,uCAArC,CACA,OAASC,SAAT,KAA0C,wBAA1C,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,OAASC,QAAT,KAAyB,2BAAzB,CACA,OAASC,UAAT,KAA2B,wBAA3B,C,6IAMA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,MAA0C,wEAAvCC,WAAuC,CAAvCA,WAAuC,2BAAzB,IAAyB,kBACpE,GAAMC,cAAa,CAAGZ,gBAAgB,CAAC,mBAAGa,cAAH,OAAGA,aAAH,OAAiCZ,eAAc,CAACa,WAAf,CAA2BD,aAA3B,CAAjC,EAAD,CAAtC,CAEAL,QAAQ,CAACC,UAAU,CAACM,QAAZ,CAAR,CAEA;AACA,GAAMC,cAA6B,CAAG,CACpCC,gBAAgB,CAAE,CAChBC,IAAI,CAAE,CACJC,EAAE,CAAE,MADA,CAEJC,KAAK,CAAE,MAFH,CAGJC,WAAW,CAAE,mCAHT,CAIJC,QAAQ,CAAE,QAJN,CADU,CAOhBC,WAAW,CAAE,CACXJ,EAAE,CAAE,aADO,CAEXC,KAAK,CAAE,aAFI,CAGXE,QAAQ,CAAE,QAHC,CAPG,CAYhBE,OAAO,CAAE,CACPL,EAAE,CAAE,SADG,CAEPC,KAAK,CAAE,QAFA,CAGPK,aAAa,CAAE,IAHR,CAIPH,QAAQ,CAAE,QAJH,CAZO,CAkBhBI,MAAM,CAAE,CACNP,EAAE,CAAE,QADE,CAENC,KAAK,CAAE,QAFD,CAGNO,YAAY,CAAE,CAAC,SAAD,CAAY,UAAZ,CAAwB,QAAxB,CAAkC,WAAlC,CAA+C,UAA/C,CAA2D,qBAA3D,CAAkF,cAAlF,CAHR,CAINL,QAAQ,CAAE,IAJJ,CAlBQ,CADkB,CAAtC,CA4BA,GAAMM,kBAAiB,CAAG,CACxBC,OAAO,CAAE,MADe,CAA1B,CAIAxB,oBAAoB,CAAC,SAACQ,aAAD,CAA2B,CAC9CD,aAAa,CAACkB,OAAd,CAAsB,CAAEjB,aAAa,CAAbA,aAAF,CAAtB,EACD,CAFmB,CAEjBF,WAFiB,CAApB,CAIA,mBACE,MAAC,UAAD,EACE,KAAK,CAAC,UADR,CAEE,WAAW,cACT,yFACgD,KAAC,KAAD,wBADhD,qBAC4E,KAAC,KAAD,4BAD5E,2GAHJ,wBASE,KAAC,OAAD,wBACE,KAAC,WAAD,EAAa,MAAM,CAAEiB,iBAArB,uBACE,KAAC,SAAD,EAAW,aAAa,CAAEZ,aAA1B,CAAyC,WAAW,CAAEL,WAAtD,EADF,EADF,EATF,cAeE,KAAC,aAAD,gCAAmBC,aAAnB,MAAkC,KAAK,CAAC,eAAxC,uBACE,KAAC,YAAD,EAAc,QAAQ,sBAAEA,aAAa,CAACmB,IAAhB,8CAAE,oBAAoBC,OAA5C,EADF,GAfF,cAmBE,KAAC,UAAD,EAAY,WAAW,CAAErB,WAAzB,CAAsC,KAAK,uBAAEC,aAAa,CAACmB,IAAhB,+CAAE,qBAAoBE,SAAjE,EAnBF,GADF,CAuBD,CAjEM"},"metadata":{},"sourceType":"module"}
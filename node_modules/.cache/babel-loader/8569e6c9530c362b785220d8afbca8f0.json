{"ast":null,"code":"var _jsxFileName = \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/components/ScmRepositoriesPage/ScmRepositoriesPage.tsx\";\nimport { ProjectsList } from './../ProjectsList/ProjectsList';\nimport { PageLayout } from './../PageLayout/PageLayout';\nimport { DataContainer } from '../../containers/DataContainer/DataContainer';\nimport { useDataContainer } from '../../containers/DataContainer/useDataContainer';\nimport { repositoryService } from '../../services/repositoryService';\nimport { Label, ToolbarItem } from '@patternfly/react-core';\nimport { Pagination } from '../Pagination/Pagination';\nimport { useQueryParamsEffect } from '../../containers/useQueryParamsEffect';\nimport { Filtering } from '../Filtering/Filtering';\nimport { Toolbar } from '../Toolbar/Toolbar';\nimport { useTitle } from '../../containers/useTitle';\nimport { PageTitles } from '../../utils/PageTitles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ScmRepositoriesPage = _ref => {\n  var _dataContainer$data, _dataContainer$data2;\n\n  let {\n    componentId = 'p1'\n  } = _ref;\n  const dataContainer = useDataContainer(_ref2 => {\n    let {\n      requestConfig\n    } = _ref2;\n    return repositoryService.getRepositories(requestConfig);\n  });\n  useTitle(PageTitles.repositories);\n  const filterOptions = {\n    filterAttributes: {\n      internalUrl: {\n        id: 'internalUrl',\n        title: 'Internal URL',\n        placeholder: 'string | !string | s?ring | st*ng',\n        operator: '=like='\n      },\n      externalUrl: {\n        externalUrl: 'externalUrl',\n        title: 'External URL',\n        operator: '=like='\n      }\n    }\n  };\n  const ToolbarItemWidths = {\n    default: '100%'\n  };\n  useQueryParamsEffect(requestConfig => {\n    dataContainer.refresh({\n      requestConfig\n    });\n  }, componentId);\n  return /*#__PURE__*/_jsxDEV(PageLayout, {\n    title: \"SCM Repositories\",\n    description: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"PNC works with 2 kinds of SCM servers - \", /*#__PURE__*/_jsxDEV(Label, {\n        children: \"Internal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 51\n      }, this), \" and \", /*#__PURE__*/_jsxDEV(Label, {\n        children: \"External\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 79\n      }, this), \". Internal server is a Gerrit server supported by Sys-ops. Any other SCM server except Gerrit is considered as External.\"]\n    }, void 0, true),\n    children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n      children: /*#__PURE__*/_jsxDEV(ToolbarItem, {\n        widths: ToolbarItemWidths,\n        children: /*#__PURE__*/_jsxDEV(Filtering, {\n          filterOptions: filterOptions,\n          componentId: componentId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataContainer, { ...dataContainer,\n      title: \"Projects List\",\n      children: /*#__PURE__*/_jsxDEV(ProjectsList, {\n        projects: (_dataContainer$data = dataContainer.data) === null || _dataContainer$data === void 0 ? void 0 : _dataContainer$data.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      componentId: componentId,\n      count: (_dataContainer$data2 = dataContainer.data) === null || _dataContainer$data2 === void 0 ? void 0 : _dataContainer$data2.totalHits\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};","map":{"version":3,"names":["ProjectsList","PageLayout","DataContainer","useDataContainer","repositoryService","Label","ToolbarItem","Pagination","useQueryParamsEffect","Filtering","Toolbar","useTitle","PageTitles","ScmRepositoriesPage","componentId","dataContainer","requestConfig","getRepositories","repositories","filterOptions","filterAttributes","internalUrl","id","title","placeholder","operator","externalUrl","ToolbarItemWidths","default","refresh","data","content","totalHits"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/components/ScmRepositoriesPage/ScmRepositoriesPage.tsx"],"sourcesContent":["import { ProjectsList } from './../ProjectsList/ProjectsList';\nimport { PageLayout } from './../PageLayout/PageLayout';\nimport { DataContainer } from '../../containers/DataContainer/DataContainer';\nimport { IService, useDataContainer } from '../../containers/DataContainer/useDataContainer';\nimport { repositoryService } from '../../services/repositoryService';\nimport { Label, ToolbarItem } from '@patternfly/react-core';\nimport { Pagination } from '../Pagination/Pagination';\nimport { useQueryParamsEffect } from '../../containers/useQueryParamsEffect';\nimport { Filtering, IFilterOptions } from '../Filtering/Filtering';\nimport { Toolbar } from '../Toolbar/Toolbar';\nimport { useTitle } from '../../containers/useTitle';\nimport { PageTitles } from '../../utils/PageTitles';\n\ninterface IScmRepositoriesPage {\n  componentId?: string;\n}\n\nexport const ScmRepositoriesPage = ({ componentId = 'p1' }: IScmRepositoriesPage) => {\n  const dataContainer = useDataContainer(({ requestConfig }: IService) => repositoryService.getRepositories(requestConfig));\n\n  useTitle(PageTitles.repositories);\n\n  const filterOptions: IFilterOptions = {\n    filterAttributes: {\n      internalUrl: {\n        id: 'internalUrl',\n        title: 'Internal URL',\n        placeholder: 'string | !string | s?ring | st*ng',\n        operator: '=like=',\n      },\n      externalUrl: {\n        externalUrl: 'externalUrl',\n        title: 'External URL',\n        operator: '=like=',\n      },\n    },\n  };\n\n  const ToolbarItemWidths = {\n    default: '100%',\n  };\n\n  useQueryParamsEffect((requestConfig: Object) => {\n    dataContainer.refresh({ requestConfig });\n  }, componentId);\n\n  return (\n    <PageLayout\n      title=\"SCM Repositories\"\n      description={\n        <>\n          PNC works with 2 kinds of SCM servers - <Label>Internal</Label> and <Label>External</Label>. Internal server is a Gerrit\n          server supported by Sys-ops. Any other SCM server except Gerrit is considered as External.\n        </>\n      }\n    >\n      <Toolbar>\n        <ToolbarItem widths={ToolbarItemWidths}>\n          <Filtering filterOptions={filterOptions} componentId={componentId} />\n        </ToolbarItem>\n      </Toolbar>\n\n      <DataContainer {...dataContainer} title=\"Projects List\">\n        <ProjectsList projects={dataContainer.data?.content} />\n      </DataContainer>\n      {/* Pagination need to be outside of DataContainer so that it can initialize Query Params */}\n      <Pagination componentId={componentId} count={dataContainer.data?.totalHits} />\n    </PageLayout>\n  );\n};\n"],"mappings":";AAAA,SAASA,YAAT,QAA6B,gCAA7B;AACA,SAASC,UAAT,QAA2B,4BAA3B;AACA,SAASC,aAAT,QAA8B,8CAA9B;AACA,SAAmBC,gBAAnB,QAA2C,iDAA3C;AACA,SAASC,iBAAT,QAAkC,kCAAlC;AACA,SAASC,KAAT,EAAgBC,WAAhB,QAAmC,wBAAnC;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,oBAAT,QAAqC,uCAArC;AACA,SAASC,SAAT,QAA0C,wBAA1C;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,QAAT,QAAyB,2BAAzB;AACA,SAASC,UAAT,QAA2B,wBAA3B;;;AAMA,OAAO,MAAMC,mBAAmB,GAAG,QAAkD;EAAA;;EAAA,IAAjD;IAAEC,WAAW,GAAG;EAAhB,CAAiD;EACnF,MAAMC,aAAa,GAAGZ,gBAAgB,CAAC;IAAA,IAAC;MAAEa;IAAF,CAAD;IAAA,OAAiCZ,iBAAiB,CAACa,eAAlB,CAAkCD,aAAlC,CAAjC;EAAA,CAAD,CAAtC;EAEAL,QAAQ,CAACC,UAAU,CAACM,YAAZ,CAAR;EAEA,MAAMC,aAA6B,GAAG;IACpCC,gBAAgB,EAAE;MAChBC,WAAW,EAAE;QACXC,EAAE,EAAE,aADO;QAEXC,KAAK,EAAE,cAFI;QAGXC,WAAW,EAAE,mCAHF;QAIXC,QAAQ,EAAE;MAJC,CADG;MAOhBC,WAAW,EAAE;QACXA,WAAW,EAAE,aADF;QAEXH,KAAK,EAAE,cAFI;QAGXE,QAAQ,EAAE;MAHC;IAPG;EADkB,CAAtC;EAgBA,MAAME,iBAAiB,GAAG;IACxBC,OAAO,EAAE;EADe,CAA1B;EAIApB,oBAAoB,CAAEQ,aAAD,IAA2B;IAC9CD,aAAa,CAACc,OAAd,CAAsB;MAAEb;IAAF,CAAtB;EACD,CAFmB,EAEjBF,WAFiB,CAApB;EAIA,oBACE,QAAC,UAAD;IACE,KAAK,EAAC,kBADR;IAEE,WAAW,eACT;MAAA,oEAC0C,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAD1C,wBACsE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADtE;IAAA,gBAHJ;IAAA,wBASE,QAAC,OAAD;MAAA,uBACE,QAAC,WAAD;QAAa,MAAM,EAAEa,iBAArB;QAAA,uBACE,QAAC,SAAD;UAAW,aAAa,EAAER,aAA1B;UAAyC,WAAW,EAAEL;QAAtD;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QATF,eAeE,QAAC,aAAD,OAAmBC,aAAnB;MAAkC,KAAK,EAAC,eAAxC;MAAA,uBACE,QAAC,YAAD;QAAc,QAAQ,yBAAEA,aAAa,CAACe,IAAhB,wDAAE,oBAAoBC;MAA5C;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAfF,eAmBE,QAAC,UAAD;MAAY,WAAW,EAAEjB,WAAzB;MAAsC,KAAK,0BAAEC,aAAa,CAACe,IAAhB,yDAAE,qBAAoBE;IAAjE;MAAA;MAAA;MAAA;IAAA,QAnBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAuBD,CApDM"},"metadata":{},"sourceType":"module"}
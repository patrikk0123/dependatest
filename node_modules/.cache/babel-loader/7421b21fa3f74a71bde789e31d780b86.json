{"ast":null,"code":"import { __rest } from \"tslib\";\n/* eslint-disable no-console */\n\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Tooltip/tooltip';\nimport { css } from '@patternfly/react-styles';\nimport { TooltipContent } from './TooltipContent';\nimport { TooltipArrow } from './TooltipArrow';\nimport { KEY_CODES } from '../../helpers/constants';\nimport tooltipMaxWidth from '@patternfly/react-tokens/dist/esm/c_tooltip_MaxWidth';\nimport { Popper, getOpacityTransition } from '../../helpers/Popper/Popper';\nexport var TooltipPosition;\n\n(function (TooltipPosition) {\n  TooltipPosition[\"auto\"] = \"auto\";\n  TooltipPosition[\"top\"] = \"top\";\n  TooltipPosition[\"bottom\"] = \"bottom\";\n  TooltipPosition[\"left\"] = \"left\";\n  TooltipPosition[\"right\"] = \"right\";\n  TooltipPosition[\"topStart\"] = \"top-start\";\n  TooltipPosition[\"topEnd\"] = \"top-end\";\n  TooltipPosition[\"bottomStart\"] = \"bottom-start\";\n  TooltipPosition[\"bottomEnd\"] = \"bottom-end\";\n  TooltipPosition[\"leftStart\"] = \"left-start\";\n  TooltipPosition[\"leftEnd\"] = \"left-end\";\n  TooltipPosition[\"rightStart\"] = \"right-start\";\n  TooltipPosition[\"rightEnd\"] = \"right-end\";\n})(TooltipPosition || (TooltipPosition = {})); // id for associating trigger with the content aria-describedby or aria-labelledby\n\n\nlet pfTooltipIdCounter = 1;\nexport const Tooltip = _a => {\n  var {\n    content: bodyContent,\n    position = 'top',\n    trigger = 'mouseenter focus',\n    isVisible = false,\n    isContentLeftAligned = false,\n    enableFlip = true,\n    className = '',\n    entryDelay = 300,\n    exitDelay = 300,\n    appendTo = () => document.body,\n    zIndex = 9999,\n    maxWidth = tooltipMaxWidth.value,\n    distance = 15,\n    aria = 'describedby',\n    // For every initial starting position, there are 3 escape positions\n    flipBehavior = ['top', 'right', 'bottom', 'left', 'top', 'right', 'bottom'],\n    id = `pf-tooltip-${pfTooltipIdCounter++}`,\n    children,\n    animationDuration = 300,\n    reference,\n    'aria-live': ariaLive = reference ? 'polite' : 'off',\n    boundary,\n    isAppLauncher,\n    tippyProps\n  } = _a,\n      rest = __rest(_a, [\"content\", \"position\", \"trigger\", \"isVisible\", \"isContentLeftAligned\", \"enableFlip\", \"className\", \"entryDelay\", \"exitDelay\", \"appendTo\", \"zIndex\", \"maxWidth\", \"distance\", \"aria\", \"flipBehavior\", \"id\", \"children\", \"animationDuration\", \"reference\", 'aria-live', \"boundary\", \"isAppLauncher\", \"tippyProps\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    boundary !== undefined && console.warn('The Tooltip boundary prop has been deprecated. If you want to constrain the popper to a specific element use the appendTo prop instead.');\n    isAppLauncher !== undefined && console.warn('The Tooltip isAppLauncher prop has been deprecated and is no longer used.');\n    tippyProps !== undefined && console.warn('The Tooltip tippyProps prop has been deprecated and is no longer used.');\n  } // could make this a prop in the future (true | false | 'toggle')\n\n\n  const hideOnClick = true;\n  const triggerOnMouseenter = trigger.includes('mouseenter');\n  const triggerOnFocus = trigger.includes('focus');\n  const triggerOnClick = trigger.includes('click');\n  const triggerManually = trigger === 'manual';\n  const [visible, setVisible] = React.useState(false);\n  const [opacity, setOpacity] = React.useState(0);\n  const transitionTimerRef = React.useRef(null);\n  const showTimerRef = React.useRef(null);\n  const hideTimerRef = React.useRef(null);\n\n  const clearTimeouts = timeoutRefs => {\n    timeoutRefs.forEach(ref => {\n      if (ref.current) {\n        clearTimeout(ref.current);\n      }\n    });\n  }; // Cancel all timers on unmount\n\n\n  React.useEffect(() => () => {\n    clearTimeouts([transitionTimerRef, hideTimerRef, showTimerRef]);\n  }, []);\n\n  const onDocumentKeyDown = event => {\n    if (!triggerManually) {\n      if (event.keyCode === KEY_CODES.ESCAPE_KEY && visible) {\n        hide();\n      }\n    }\n  };\n\n  const onTriggerEnter = event => {\n    if (event.keyCode === KEY_CODES.ENTER) {\n      if (!visible) {\n        show();\n      } else {\n        hide();\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    if (isVisible) {\n      show();\n    } else {\n      hide();\n    }\n  }, [isVisible]);\n\n  const show = () => {\n    clearTimeouts([transitionTimerRef, hideTimerRef]);\n    showTimerRef.current = setTimeout(() => {\n      setVisible(true);\n      setOpacity(1);\n    }, entryDelay);\n  };\n\n  const hide = () => {\n    clearTimeouts([showTimerRef]);\n    hideTimerRef.current = setTimeout(() => {\n      setOpacity(0);\n      transitionTimerRef.current = setTimeout(() => setVisible(false), animationDuration);\n    }, exitDelay);\n  };\n\n  const positionModifiers = {\n    top: styles.modifiers.top,\n    bottom: styles.modifiers.bottom,\n    left: styles.modifiers.left,\n    right: styles.modifiers.right,\n    'top-start': styles.modifiers.topLeft,\n    'top-end': styles.modifiers.topRight,\n    'bottom-start': styles.modifiers.bottomLeft,\n    'bottom-end': styles.modifiers.bottomRight,\n    'left-start': styles.modifiers.leftTop,\n    'left-end': styles.modifiers.leftBottom,\n    'right-start': styles.modifiers.rightTop,\n    'right-end': styles.modifiers.rightBottom\n  };\n  const hasCustomMaxWidth = maxWidth !== tooltipMaxWidth.value;\n  const content = React.createElement(\"div\", Object.assign({\n    \"aria-live\": ariaLive,\n    className: css(styles.tooltip, className),\n    role: \"tooltip\",\n    id: id,\n    style: {\n      maxWidth: hasCustomMaxWidth ? maxWidth : null,\n      opacity,\n      transition: getOpacityTransition(animationDuration)\n    }\n  }, rest), React.createElement(TooltipArrow, null), React.createElement(TooltipContent, {\n    isLeftAligned: isContentLeftAligned\n  }, bodyContent));\n\n  const onDocumentClick = (event, triggerElement) => {\n    // event.currentTarget = document\n    // event.target could be triggerElement or something else\n    if (hideOnClick === true) {\n      // hide on inside the toggle as well as on outside clicks\n      if (visible) {\n        hide();\n      } else if (event.target === triggerElement) {\n        show();\n      }\n    } else if (hideOnClick === 'toggle' && event.target === triggerElement) {\n      // prevent outside clicks from hiding but allow it to still be toggled on toggle click\n      if (visible) {\n        hide();\n      } else {\n        show();\n      }\n    } else if (hideOnClick === false && !visible && event.target === triggerElement) {\n      show();\n    }\n  };\n\n  const addAriaToTrigger = () => {\n    if (aria === 'describedby' && children && children.props && !children.props['aria-describedby']) {\n      return React.cloneElement(children, {\n        'aria-describedby': id\n      });\n    } else if (aria === 'labelledby' && children.props && !children.props['aria-labelledby']) {\n      return React.cloneElement(children, {\n        'aria-labelledby': id\n      });\n    }\n\n    return children;\n  };\n\n  return React.createElement(Popper, {\n    trigger: aria !== 'none' && visible ? addAriaToTrigger() : children,\n    reference: reference,\n    popper: content,\n    popperMatchesTriggerWidth: false,\n    appendTo: appendTo,\n    isVisible: visible,\n    positionModifiers: positionModifiers,\n    distance: distance,\n    placement: position,\n    onMouseEnter: triggerOnMouseenter && show,\n    onMouseLeave: triggerOnMouseenter && hide,\n    onPopperMouseEnter: triggerOnMouseenter && show,\n    onPopperMouseLeave: triggerOnMouseenter && hide,\n    onFocus: triggerOnFocus && show,\n    onBlur: triggerOnFocus && hide,\n    onDocumentClick: triggerOnClick && onDocumentClick,\n    onDocumentKeyDown: triggerManually ? null : onDocumentKeyDown,\n    onTriggerEnter: triggerManually ? null : onTriggerEnter,\n    enableFlip: enableFlip,\n    zIndex: zIndex,\n    flipBehavior: flipBehavior\n  });\n};\nTooltip.displayName = 'Tooltip';","map":{"version":3,"mappings":";AAAA;;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,MAAP,MAAmB,yDAAnB;AACA,SAASC,GAAT,QAAoB,0BAApB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,OAAOC,eAAP,MAA4B,sDAA5B;AAEA,SAASC,MAAT,EAAiBC,oBAAjB,QAA6C,6BAA7C;AAGA,WAAYC,eAAZ;;AAAA,WAAYA,eAAZ,EAA2B;EACzBA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;AACD,CAdD,EAAYA,eAAe,KAAfA,eAAe,MAA3B,E,CAkIA;;;AACA,IAAIC,kBAAkB,GAAG,CAAzB;AAEA,OAAO,MAAMC,OAAO,GAA2CC,EAAD,IA0B3C;MA1B4C;IAC7DC,OAAO,EAAEC,WADoD;IAE7DC,QAAQ,GAAG,KAFkD;IAG7DC,OAAO,GAAG,kBAHmD;IAI7DC,SAAS,GAAG,KAJiD;IAK7DC,oBAAoB,GAAG,KALsC;IAM7DC,UAAU,GAAG,IANgD;IAO7DC,SAAS,GAAG,EAPiD;IAQ7DC,UAAU,GAAG,GARgD;IAS7DC,SAAS,GAAG,GATiD;IAU7DC,QAAQ,GAAG,MAAMC,QAAQ,CAACC,IAVmC;IAW7DC,MAAM,GAAG,IAXoD;IAY7DC,QAAQ,GAAGrB,eAAe,CAACsB,KAZkC;IAa7DC,QAAQ,GAAG,EAbkD;IAc7DC,IAAI,GAAG,aAdsD;IAe7D;IACAC,YAAY,GAAG,CAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,MAA3B,EAAmC,KAAnC,EAA0C,OAA1C,EAAmD,QAAnD,CAhB8C;IAiB7DC,EAAE,GAAG,cAActB,kBAAkB,EAAE,EAjBsB;IAkB7DuB,QAlB6D;IAmB7DC,iBAAiB,GAAG,GAnByC;IAoB7DC,SApB6D;IAqB7D,aAAaC,QAAQ,GAAGD,SAAS,GAAG,QAAH,GAAc,KArBc;IAsB7DE,QAtB6D;IAuB7DC,aAvB6D;IAwB7DC;EAxB6D,IAwBnD3B;MACP4B,IAAI,cAzBsD,+SAyBtD;;EAEP,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;IACzCN,QAAQ,KAAKO,SAAb,IACEC,OAAO,CAACC,IAAR,CACE,yIADF,CADF;IAIAR,aAAa,KAAKM,SAAlB,IACEC,OAAO,CAACC,IAAR,CAAa,2EAAb,CADF;IAEAP,UAAU,KAAKK,SAAf,IAA4BC,OAAO,CAACC,IAAR,CAAa,wEAAb,CAA5B;EACD,CATgB,CAUjB;;;EACA,MAAMC,WAAW,GAAG,IAApB;EACA,MAAMC,mBAAmB,GAAGhC,OAAO,CAACiC,QAAR,CAAiB,YAAjB,CAA5B;EACA,MAAMC,cAAc,GAAGlC,OAAO,CAACiC,QAAR,CAAiB,OAAjB,CAAvB;EACA,MAAME,cAAc,GAAGnC,OAAO,CAACiC,QAAR,CAAiB,OAAjB,CAAvB;EACA,MAAMG,eAAe,GAAGpC,OAAO,KAAK,QAApC;EACA,MAAM,CAACqC,OAAD,EAAUC,UAAV,IAAwBtD,KAAK,CAACuD,QAAN,CAAe,KAAf,CAA9B;EACA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBzD,KAAK,CAACuD,QAAN,CAAe,CAAf,CAA9B;EACA,MAAMG,kBAAkB,GAAG1D,KAAK,CAAC2D,MAAN,CAAa,IAAb,CAA3B;EACA,MAAMC,YAAY,GAAG5D,KAAK,CAAC2D,MAAN,CAAa,IAAb,CAArB;EACA,MAAME,YAAY,GAAG7D,KAAK,CAAC2D,MAAN,CAAa,IAAb,CAArB;;EAEA,MAAMG,aAAa,GAAIC,WAAD,IAAwC;IAC5DA,WAAW,CAACC,OAAZ,CAAoBC,GAAG,IAAG;MACxB,IAAIA,GAAG,CAACC,OAAR,EAAiB;QACfC,YAAY,CAACF,GAAG,CAACC,OAAL,CAAZ;MACD;IACF,CAJD;EAKD,CAND,CAtBiB,CA8BjB;;;EACAlE,KAAK,CAACoE,SAAN,CACE,MAAM,MAAK;IACTN,aAAa,CAAC,CAACJ,kBAAD,EAAqBG,YAArB,EAAmCD,YAAnC,CAAD,CAAb;EACD,CAHH,EAIE,EAJF;;EAOA,MAAMS,iBAAiB,GAAIC,KAAD,IAAyB;IACjD,IAAI,CAAClB,eAAL,EAAsB;MACpB,IAAIkB,KAAK,CAACC,OAAN,KAAkBlE,SAAS,CAACmE,UAA5B,IAA0CnB,OAA9C,EAAuD;QACrDoB,IAAI;MACL;IACF;EACF,CAND;;EAOA,MAAMC,cAAc,GAAIJ,KAAD,IAAyB;IAC9C,IAAIA,KAAK,CAACC,OAAN,KAAkBlE,SAAS,CAACsE,KAAhC,EAAuC;MACrC,IAAI,CAACtB,OAAL,EAAc;QACZuB,IAAI;MACL,CAFD,MAEO;QACLH,IAAI;MACL;IACF;EACF,CARD;;EASAzE,KAAK,CAACoE,SAAN,CAAgB,MAAK;IACnB,IAAInD,SAAJ,EAAe;MACb2D,IAAI;IACL,CAFD,MAEO;MACLH,IAAI;IACL;EACF,CAND,EAMG,CAACxD,SAAD,CANH;;EAOA,MAAM2D,IAAI,GAAG,MAAK;IAChBd,aAAa,CAAC,CAACJ,kBAAD,EAAqBG,YAArB,CAAD,CAAb;IACAD,YAAY,CAACM,OAAb,GAAuBW,UAAU,CAAC,MAAK;MACrCvB,UAAU,CAAC,IAAD,CAAV;MACAG,UAAU,CAAC,CAAD,CAAV;IACD,CAHgC,EAG9BpC,UAH8B,CAAjC;EAID,CAND;;EAOA,MAAMoD,IAAI,GAAG,MAAK;IAChBX,aAAa,CAAC,CAACF,YAAD,CAAD,CAAb;IACAC,YAAY,CAACK,OAAb,GAAuBW,UAAU,CAAC,MAAK;MACrCpB,UAAU,CAAC,CAAD,CAAV;MACAC,kBAAkB,CAACQ,OAAnB,GAA6BW,UAAU,CAAC,MAAMvB,UAAU,CAAC,KAAD,CAAjB,EAA0BpB,iBAA1B,CAAvC;IACD,CAHgC,EAG9BZ,SAH8B,CAAjC;EAID,CAND;;EAOA,MAAMwD,iBAAiB,GAAG;IACxBC,GAAG,EAAE9E,MAAM,CAAC+E,SAAP,CAAiBD,GADE;IAExBE,MAAM,EAAEhF,MAAM,CAAC+E,SAAP,CAAiBC,MAFD;IAGxBC,IAAI,EAAEjF,MAAM,CAAC+E,SAAP,CAAiBE,IAHC;IAIxBC,KAAK,EAAElF,MAAM,CAAC+E,SAAP,CAAiBG,KAJA;IAKxB,aAAalF,MAAM,CAAC+E,SAAP,CAAiBI,OALN;IAMxB,WAAWnF,MAAM,CAAC+E,SAAP,CAAiBK,QANJ;IAOxB,gBAAgBpF,MAAM,CAAC+E,SAAP,CAAiBM,UAPT;IAQxB,cAAcrF,MAAM,CAAC+E,SAAP,CAAiBO,WARP;IASxB,cAActF,MAAM,CAAC+E,SAAP,CAAiBQ,OATP;IAUxB,YAAYvF,MAAM,CAAC+E,SAAP,CAAiBS,UAVL;IAWxB,eAAexF,MAAM,CAAC+E,SAAP,CAAiBU,QAXR;IAYxB,aAAazF,MAAM,CAAC+E,SAAP,CAAiBW;EAZN,CAA1B;EAcA,MAAMC,iBAAiB,GAAGjE,QAAQ,KAAKrB,eAAe,CAACsB,KAAvD;EACA,MAAMf,OAAO,GACXb;IAAA,aACaoC,QADb;IAEEhB,SAAS,EAAElB,GAAG,CAACD,MAAM,CAAC4F,OAAR,EAAiBzE,SAAjB,CAFhB;IAGE0E,IAAI,EAAC,SAHP;IAIE9D,EAAE,EAAEA,EAJN;IAKE+D,KAAK,EAAE;MACLpE,QAAQ,EAAEiE,iBAAiB,GAAGjE,QAAH,GAAc,IADpC;MAEL6B,OAFK;MAGLwC,UAAU,EAAExF,oBAAoB,CAAC0B,iBAAD;IAH3B;EALT,GAUMM,IAVN,GAYExC,oBAACI,YAAD,EAAa,IAAb,CAZF,EAaEJ,oBAACG,cAAD,EAAe;IAAC8F,aAAa,EAAE/E;EAAhB,CAAf,EAAsDJ,WAAtD,CAbF,CADF;;EAkBA,MAAMoF,eAAe,GAAG,CAAC5B,KAAD,EAAoB6B,cAApB,KAAmD;IACzE;IACA;IACA,IAAIpD,WAAW,KAAK,IAApB,EAA0B;MACxB;MACA,IAAIM,OAAJ,EAAa;QACXoB,IAAI;MACL,CAFD,MAEO,IAAIH,KAAK,CAAC8B,MAAN,KAAiBD,cAArB,EAAqC;QAC1CvB,IAAI;MACL;IACF,CAPD,MAOO,IAAI7B,WAAW,KAAK,QAAhB,IAA4BuB,KAAK,CAAC8B,MAAN,KAAiBD,cAAjD,EAAiE;MACtE;MACA,IAAI9C,OAAJ,EAAa;QACXoB,IAAI;MACL,CAFD,MAEO;QACLG,IAAI;MACL;IACF,CAPM,MAOA,IAAI7B,WAAW,KAAK,KAAhB,IAAyB,CAACM,OAA1B,IAAqCiB,KAAK,CAAC8B,MAAN,KAAiBD,cAA1D,EAA0E;MAC/EvB,IAAI;IACL;EACF,CApBD;;EAsBA,MAAMyB,gBAAgB,GAAG,MAAK;IAC5B,IAAIvE,IAAI,KAAK,aAAT,IAA0BG,QAA1B,IAAsCA,QAAQ,CAACqE,KAA/C,IAAwD,CAACrE,QAAQ,CAACqE,KAAT,CAAe,kBAAf,CAA7D,EAAiG;MAC/F,OAAOtG,KAAK,CAACuG,YAAN,CAAmBtE,QAAnB,EAA6B;QAAE,oBAAoBD;MAAtB,CAA7B,CAAP;IACD,CAFD,MAEO,IAAIF,IAAI,KAAK,YAAT,IAAyBG,QAAQ,CAACqE,KAAlC,IAA2C,CAACrE,QAAQ,CAACqE,KAAT,CAAe,iBAAf,CAAhD,EAAmF;MACxF,OAAOtG,KAAK,CAACuG,YAAN,CAAmBtE,QAAnB,EAA6B;QAAE,mBAAmBD;MAArB,CAA7B,CAAP;IACD;;IACD,OAAOC,QAAP;EACD,CAPD;;EASA,OACEjC,oBAACO,MAAD,EAAO;IACLS,OAAO,EAAEc,IAAI,KAAK,MAAT,IAAmBuB,OAAnB,GAA6BgD,gBAAgB,EAA7C,GAAkDpE,QADtD;IAELE,SAAS,EAAEA,SAFN;IAGLqE,MAAM,EAAE3F,OAHH;IAIL4F,yBAAyB,EAAE,KAJtB;IAKLlF,QAAQ,EAAEA,QALL;IAMLN,SAAS,EAAEoC,OANN;IAOLyB,iBAAiB,EAAEA,iBAPd;IAQLjD,QAAQ,EAAEA,QARL;IASL6E,SAAS,EAAE3F,QATN;IAUL4F,YAAY,EAAE3D,mBAAmB,IAAI4B,IAVhC;IAWLgC,YAAY,EAAE5D,mBAAmB,IAAIyB,IAXhC;IAYLoC,kBAAkB,EAAE7D,mBAAmB,IAAI4B,IAZtC;IAaLkC,kBAAkB,EAAE9D,mBAAmB,IAAIyB,IAbtC;IAcLsC,OAAO,EAAE7D,cAAc,IAAI0B,IAdtB;IAeLoC,MAAM,EAAE9D,cAAc,IAAIuB,IAfrB;IAgBLyB,eAAe,EAAE/C,cAAc,IAAI+C,eAhB9B;IAiBL7B,iBAAiB,EAAEjB,eAAe,GAAG,IAAH,GAAUiB,iBAjBvC;IAkBLK,cAAc,EAAEtB,eAAe,GAAG,IAAH,GAAUsB,cAlBpC;IAmBLvD,UAAU,EAAEA,UAnBP;IAoBLO,MAAM,EAAEA,MApBH;IAqBLK,YAAY,EAAEA;EArBT,CAAP,CADF;AAyBD,CA9LM;AA+LPpB,OAAO,CAACsG,WAAR,GAAsB,SAAtB","names":["React","styles","css","TooltipContent","TooltipArrow","KEY_CODES","tooltipMaxWidth","Popper","getOpacityTransition","TooltipPosition","pfTooltipIdCounter","Tooltip","_a","content","bodyContent","position","trigger","isVisible","isContentLeftAligned","enableFlip","className","entryDelay","exitDelay","appendTo","document","body","zIndex","maxWidth","value","distance","aria","flipBehavior","id","children","animationDuration","reference","ariaLive","boundary","isAppLauncher","tippyProps","rest","process","env","NODE_ENV","undefined","console","warn","hideOnClick","triggerOnMouseenter","includes","triggerOnFocus","triggerOnClick","triggerManually","visible","setVisible","useState","opacity","setOpacity","transitionTimerRef","useRef","showTimerRef","hideTimerRef","clearTimeouts","timeoutRefs","forEach","ref","current","clearTimeout","useEffect","onDocumentKeyDown","event","keyCode","ESCAPE_KEY","hide","onTriggerEnter","ENTER","show","setTimeout","positionModifiers","top","modifiers","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom","hasCustomMaxWidth","tooltip","role","style","transition","isLeftAligned","onDocumentClick","triggerElement","target","addAriaToTrigger","props","cloneElement","popper","popperMatchesTriggerWidth","placement","onMouseEnter","onMouseLeave","onPopperMouseEnter","onPopperMouseLeave","onFocus","onBlur","displayName"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/Tooltip/Tooltip.tsx"],"sourcesContent":["/* eslint-disable no-console */\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Tooltip/tooltip';\nimport { css } from '@patternfly/react-styles';\nimport { TooltipContent } from './TooltipContent';\nimport { TooltipArrow } from './TooltipArrow';\nimport { KEY_CODES } from '../../helpers/constants';\nimport tooltipMaxWidth from '@patternfly/react-tokens/dist/esm/c_tooltip_MaxWidth';\nimport { ReactElement } from 'react';\nimport { Popper, getOpacityTransition } from '../../helpers/Popper/Popper';\nimport { Props as TippyProps } from '../../helpers/Popper/DeprecatedTippyTypes';\n\nexport enum TooltipPosition {\n  auto = 'auto',\n  top = 'top',\n  bottom = 'bottom',\n  left = 'left',\n  right = 'right',\n  topStart = 'top-start',\n  topEnd = 'top-end',\n  bottomStart = 'bottom-start',\n  bottomEnd = 'bottom-end',\n  leftStart = 'left-start',\n  leftEnd = 'left-end',\n  rightStart = 'right-start',\n  rightEnd = 'right-end'\n}\n\nexport interface TooltipProps extends Omit<React.HTMLProps<HTMLDivElement>, 'content'> {\n  /** The element to append the tooltip to, defaults to body */\n  appendTo?: HTMLElement | ((ref?: HTMLElement) => HTMLElement);\n  /**\n   * aria-labelledby or aria-describedby for tooltip.\n   * The trigger will be cloned to add the aria attribute, and the corresponding id in the form of 'pf-tooltip-#' is added to the content container.\n   * If you don't want that or prefer to add the aria attribute yourself on the trigger, set aria to 'none'.\n   */\n  aria?: 'describedby' | 'labelledby' | 'none';\n  /**\n   * Determines whether the tooltip is an aria-live region. If the reference prop is passed in the\n   * default behavior is 'polite' in order to ensure the tooltip contents is announced to\n   * assistive technologies. Otherwise the default behavior is 'off'.\n   */\n  'aria-live'?: 'off' | 'polite';\n  /**\n   * The reference element to which the Tooltip is relatively placed to.\n   * If you cannot wrap the reference with the Tooltip, you can use the reference prop instead.\n   * Usage: <Tooltip><Button>Reference</Button></Tooltip>\n   */\n  children?: ReactElement<any>;\n  /**\n   * The reference element to which the Tooltip is relatively placed to.\n   * If you can wrap the reference with the Tooltip, you can use the children prop instead.\n   * Usage: <Tooltip reference={() => document.getElementById('reference-element')} />\n   */\n  reference?: HTMLElement | (() => HTMLElement) | React.RefObject<any>;\n  /** Tooltip additional class */\n  className?: string;\n  /** Tooltip content */\n  content: React.ReactNode;\n  /** Distance of the tooltip to its target, defaults to 15 */\n  distance?: number;\n  /** If true, tries to keep the tooltip in view by flipping it if necessary */\n  enableFlip?: boolean;\n  /** Delay in ms before the tooltip appears */\n  entryDelay?: number;\n  /** Delay in ms before the tooltip disappears, Avoid passing in a value of \"0\", as users should\n   * be given ample time to move their mouse from the trigger to the tooltip content without the content\n   * being hidden.\n   */\n  exitDelay?: number;\n  /**\n   * The desired position to flip the tooltip to if the initial position is not possible.\n   * By setting this prop to 'flip' it attempts to flip the tooltip to the opposite side if there is no space.\n   * You can also pass an array of positions that determines the flip order. It should contain the initial position\n   * followed by alternative positions if that position is unavailable.\n   * Example: Initial position is 'top'. Button with tooltip is in the top right corner. 'flipBehavior' is set to\n   * ['top', 'right', 'left']. Since there is no space to the top, it checks if right is available. There's also no\n   * space to the right, so it finally shows the tooltip on the left.\n   */\n  flipBehavior?:\n    | 'flip'\n    | (\n        | 'top'\n        | 'bottom'\n        | 'left'\n        | 'right'\n        | 'top-start'\n        | 'top-end'\n        | 'bottom-start'\n        | 'bottom-end'\n        | 'left-start'\n        | 'left-end'\n        | 'right-start'\n        | 'right-end'\n      )[];\n  /** Maximum width of the tooltip (default 18.75rem) */\n  maxWidth?: string;\n  /**\n   * Tooltip position. Note: With 'enableFlip' set to true,\n   * it will change the position if there is not enough space for the starting position.\n   * The behavior of where it flips to can be controlled through the flipBehavior prop.\n   * The 'auto' position chooses the side with the most space.\n   * The 'auto' position requires the 'enableFlip' prop to be true.\n   */\n  position?:\n    | TooltipPosition\n    | 'auto'\n    | 'top'\n    | 'bottom'\n    | 'left'\n    | 'right'\n    | 'top-start'\n    | 'top-end'\n    | 'bottom-start'\n    | 'bottom-end'\n    | 'left-start'\n    | 'left-end'\n    | 'right-start'\n    | 'right-end';\n  /**\n   * Tooltip trigger: click, mouseenter, focus, manual\n   * Set to manual to trigger tooltip programmatically (through the isVisible prop)\n   */\n  trigger?: string;\n  /** Flag to indicate that the text content is left aligned */\n  isContentLeftAligned?: boolean;\n  /** value for visibility when trigger is 'manual' */\n  isVisible?: boolean;\n  /** z-index of the tooltip */\n  zIndex?: number;\n  /** id of the tooltip */\n  id?: string;\n  /** CSS fade transition animation duration */\n  animationDuration?: number;\n  /** @deprecated - no longer used. if you want to constrain the popper to a specific element use the appendTo prop instead */\n  boundary?: 'scrollParent' | 'window' | 'viewport' | HTMLElement;\n  /** @deprecated - no longer used */\n  isAppLauncher?: boolean;\n  /** @deprecated - no longer used */\n  tippyProps?: Partial<TippyProps>;\n}\n\n// id for associating trigger with the content aria-describedby or aria-labelledby\nlet pfTooltipIdCounter = 1;\n\nexport const Tooltip: React.FunctionComponent<TooltipProps> = ({\n  content: bodyContent,\n  position = 'top',\n  trigger = 'mouseenter focus',\n  isVisible = false,\n  isContentLeftAligned = false,\n  enableFlip = true,\n  className = '',\n  entryDelay = 300,\n  exitDelay = 300,\n  appendTo = () => document.body,\n  zIndex = 9999,\n  maxWidth = tooltipMaxWidth.value,\n  distance = 15,\n  aria = 'describedby',\n  // For every initial starting position, there are 3 escape positions\n  flipBehavior = ['top', 'right', 'bottom', 'left', 'top', 'right', 'bottom'],\n  id = `pf-tooltip-${pfTooltipIdCounter++}`,\n  children,\n  animationDuration = 300,\n  reference,\n  'aria-live': ariaLive = reference ? 'polite' : 'off',\n  boundary,\n  isAppLauncher,\n  tippyProps,\n  ...rest\n}: TooltipProps) => {\n  if (process.env.NODE_ENV !== 'production') {\n    boundary !== undefined &&\n      console.warn(\n        'The Tooltip boundary prop has been deprecated. If you want to constrain the popper to a specific element use the appendTo prop instead.'\n      );\n    isAppLauncher !== undefined &&\n      console.warn('The Tooltip isAppLauncher prop has been deprecated and is no longer used.');\n    tippyProps !== undefined && console.warn('The Tooltip tippyProps prop has been deprecated and is no longer used.');\n  }\n  // could make this a prop in the future (true | false | 'toggle')\n  const hideOnClick = true;\n  const triggerOnMouseenter = trigger.includes('mouseenter');\n  const triggerOnFocus = trigger.includes('focus');\n  const triggerOnClick = trigger.includes('click');\n  const triggerManually = trigger === 'manual';\n  const [visible, setVisible] = React.useState(false);\n  const [opacity, setOpacity] = React.useState(0);\n  const transitionTimerRef = React.useRef(null);\n  const showTimerRef = React.useRef(null);\n  const hideTimerRef = React.useRef(null);\n\n  const clearTimeouts = (timeoutRefs: React.RefObject<any>[]) => {\n    timeoutRefs.forEach(ref => {\n      if (ref.current) {\n        clearTimeout(ref.current);\n      }\n    });\n  };\n\n  // Cancel all timers on unmount\n  React.useEffect(\n    () => () => {\n      clearTimeouts([transitionTimerRef, hideTimerRef, showTimerRef]);\n    },\n    []\n  );\n\n  const onDocumentKeyDown = (event: KeyboardEvent) => {\n    if (!triggerManually) {\n      if (event.keyCode === KEY_CODES.ESCAPE_KEY && visible) {\n        hide();\n      }\n    }\n  };\n  const onTriggerEnter = (event: KeyboardEvent) => {\n    if (event.keyCode === KEY_CODES.ENTER) {\n      if (!visible) {\n        show();\n      } else {\n        hide();\n      }\n    }\n  };\n  React.useEffect(() => {\n    if (isVisible) {\n      show();\n    } else {\n      hide();\n    }\n  }, [isVisible]);\n  const show = () => {\n    clearTimeouts([transitionTimerRef, hideTimerRef]);\n    showTimerRef.current = setTimeout(() => {\n      setVisible(true);\n      setOpacity(1);\n    }, entryDelay);\n  };\n  const hide = () => {\n    clearTimeouts([showTimerRef]);\n    hideTimerRef.current = setTimeout(() => {\n      setOpacity(0);\n      transitionTimerRef.current = setTimeout(() => setVisible(false), animationDuration);\n    }, exitDelay);\n  };\n  const positionModifiers = {\n    top: styles.modifiers.top,\n    bottom: styles.modifiers.bottom,\n    left: styles.modifiers.left,\n    right: styles.modifiers.right,\n    'top-start': styles.modifiers.topLeft,\n    'top-end': styles.modifiers.topRight,\n    'bottom-start': styles.modifiers.bottomLeft,\n    'bottom-end': styles.modifiers.bottomRight,\n    'left-start': styles.modifiers.leftTop,\n    'left-end': styles.modifiers.leftBottom,\n    'right-start': styles.modifiers.rightTop,\n    'right-end': styles.modifiers.rightBottom\n  };\n  const hasCustomMaxWidth = maxWidth !== tooltipMaxWidth.value;\n  const content = (\n    <div\n      aria-live={ariaLive}\n      className={css(styles.tooltip, className)}\n      role=\"tooltip\"\n      id={id}\n      style={{\n        maxWidth: hasCustomMaxWidth ? maxWidth : null,\n        opacity,\n        transition: getOpacityTransition(animationDuration)\n      }}\n      {...rest}\n    >\n      <TooltipArrow />\n      <TooltipContent isLeftAligned={isContentLeftAligned}>{bodyContent}</TooltipContent>\n    </div>\n  );\n\n  const onDocumentClick = (event: MouseEvent, triggerElement: HTMLElement) => {\n    // event.currentTarget = document\n    // event.target could be triggerElement or something else\n    if (hideOnClick === true) {\n      // hide on inside the toggle as well as on outside clicks\n      if (visible) {\n        hide();\n      } else if (event.target === triggerElement) {\n        show();\n      }\n    } else if (hideOnClick === 'toggle' && event.target === triggerElement) {\n      // prevent outside clicks from hiding but allow it to still be toggled on toggle click\n      if (visible) {\n        hide();\n      } else {\n        show();\n      }\n    } else if (hideOnClick === false && !visible && event.target === triggerElement) {\n      show();\n    }\n  };\n\n  const addAriaToTrigger = () => {\n    if (aria === 'describedby' && children && children.props && !children.props['aria-describedby']) {\n      return React.cloneElement(children, { 'aria-describedby': id });\n    } else if (aria === 'labelledby' && children.props && !children.props['aria-labelledby']) {\n      return React.cloneElement(children, { 'aria-labelledby': id });\n    }\n    return children;\n  };\n\n  return (\n    <Popper\n      trigger={aria !== 'none' && visible ? addAriaToTrigger() : children}\n      reference={reference}\n      popper={content}\n      popperMatchesTriggerWidth={false}\n      appendTo={appendTo}\n      isVisible={visible}\n      positionModifiers={positionModifiers}\n      distance={distance}\n      placement={position}\n      onMouseEnter={triggerOnMouseenter && show}\n      onMouseLeave={triggerOnMouseenter && hide}\n      onPopperMouseEnter={triggerOnMouseenter && show}\n      onPopperMouseLeave={triggerOnMouseenter && hide}\n      onFocus={triggerOnFocus && show}\n      onBlur={triggerOnFocus && hide}\n      onDocumentClick={triggerOnClick && onDocumentClick}\n      onDocumentKeyDown={triggerManually ? null : onDocumentKeyDown}\n      onTriggerEnter={triggerManually ? null : onTriggerEnter}\n      enableFlip={enableFlip}\n      zIndex={zIndex}\n      flipBehavior={flipBehavior}\n    />\n  );\n};\nTooltip.displayName = 'Tooltip';\n"]},"metadata":{},"sourceType":"module"}
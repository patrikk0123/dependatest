{"ast":null,"code":"var _jsxFileName = \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/components/Filtering/Filtering.tsx\";\nimport { Button, Chip, ChipGroup, Flex, FlexItem, InputGroup, Select, SelectOption, SelectVariant, TextInput } from '@patternfly/react-core';\nimport { SortAmountDownAltIcon, SortAmountDownIcon } from '@patternfly/react-icons';\nimport { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { constructCustomFilterParam } from '../../utils/customParamHelper';\nimport { addQParamItem, parseQParamDeep, removeQParamItem } from '../../utils/qParamHelper';\nimport { getComponentQueryParamValue, updateQueryParamsInURL } from '../../utils/queryParamsHelper';\nimport styles from './Filtering.module.css';\n/**\n * All Query params except:\n *  - pagination\n *  - sorting\n *\n * Typically Q params and other custom params.\n *\n * @example\n * {\n *   status: ['REJECTED', 'FAILED']\n *   buildConfigName: ['%customA%']\n * }\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\n/**\n * @example\n  const filterOptions: IFilterOptions = {\n    filterAttributes: {\n      name: {\n        id: 'name',\n        title: 'Name',\n        placeholder: 'string | !string | s?ring | st*ng',\n        operator: '=like=',\n      },\n      description: {\n        id: 'description',\n        title: 'Description',\n        operator: '=like=',\n      },\n      customb: {\n        id: 'customb',\n        title: 'Custom Param',\n        isCustomParam: true,\n        operator: '=like=',\n      },\n      status: {\n        id: 'status',\n        title: 'Status',\n        filterValues: ['SUCCESS', 'REJECTED', 'FAILED'],\n        operator: '==',\n      },\n    },\n  };\n */\nexport const Filtering = _ref => {\n  var _filterAttribute$filt;\n\n  let {\n    filterOptions,\n    componentId\n  } = _ref;\n  const location = useLocation();\n  const navigate = useNavigate();\n  /**\n   * FILTER ATTRIBUTE\n   */\n  // first key\n\n  const defaultAttributeKey = Object.keys(filterOptions.filterAttributes)[0];\n  const [filterAttribute, setFilterAttribute] = useState(filterOptions.filterAttributes[defaultAttributeKey]);\n  const [isFilterAttributeOpen, setIsFilterAttributeOpen] = useState(false);\n  /**\n   * FILTER VALUE\n   */\n\n  const [filterValue, setFilterValue] = useState('');\n  const [isFilterValueOpen, setIsFilterValueOpen] = useState(false);\n  /**\n   * APPLIED FILTERS\n   */\n\n  const [appliedFilters, setAppliedFilters] = useState();\n  /**\n   * Generate user friendly chip title representing applied filter (Q param or custom filter param).\n   */\n\n  const generateChipTitle = (filterAttribute, filterValue) => {\n    if (filterAttribute.operator === '=like=') {\n      let isNegated = false; // !\"%abc%\" -> \"%abc%\" when negated\n\n      if (filterValue.startsWith('!')) {\n        filterValue = filterValue.substring(1);\n        isNegated = true;\n      } // %abc% -> abc (custom param is not wrapped by \" characters)\n\n\n      if (filterAttribute.isCustomParam) {\n        filterValue = filterValue.substring(1, filterValue.length - 1);\n      } // \"%abc%\" -> abc\n      else {\n        filterValue = filterValue.substring(2, filterValue.length - 2);\n      } // abc -> !abc when negated\n\n\n      return (isNegated ? '!' : '') + filterValue;\n    }\n\n    return filterValue;\n  };\n  /**\n   * Add filter by updating URL.\n   */\n\n\n  const addFilter = (filterAttribute, filterValue) => {\n    // custom query param (not Q param)\n    if (filterAttribute.isCustomParam) {\n      const adjustedFilterValue = constructCustomFilterParam(filterAttribute, filterValue);\n      updateQueryParamsInURL({\n        [filterAttribute.id]: adjustedFilterValue\n      }, componentId, location, navigate);\n    } // Q param\n    else {\n      const currentQParam = getComponentQueryParamValue(location.search, 'q', componentId) || '';\n      const q = addQParamItem(filterAttribute.id, filterValue, filterAttribute.operator, currentQParam);\n      /**\n       * Update Query Params only if some new meaningful q param is returned.\n       */\n\n      if (q) {\n        // update Q param and reset pageIndex\n        updateQueryParamsInURL({\n          q,\n          pageIndex: 1\n        }, componentId, location, navigate);\n      }\n    }\n  };\n  /**\n   * Remove filter by updating URL.\n   */\n\n\n  const removeFilter = (filterAttributeKey, filterValue) => {\n    if (filterOptions.filterAttributes[filterAttributeKey].isCustomParam) {\n      updateQueryParamsInURL({\n        [filterAttributeKey]: ''\n      }, componentId, location, navigate);\n    } else {\n      const currentQParam = getComponentQueryParamValue(location.search, 'q', componentId) || '';\n      const q = removeQParamItem(filterAttributeKey, filterValue, filterOptions.filterAttributes[filterAttributeKey].operator, currentQParam);\n      updateQueryParamsInURL({\n        q\n      }, componentId, location, navigate);\n    }\n  };\n  /**\n   * Reset all filtering parameters to empty '' string and update Query Params in URL, they will be removed if empty.\n   *\n   * Non filtering parameters (like pagination and sorting) are untouched.\n   */\n\n\n  const removeAllFilters = () => {\n    // reset q parameter\n    const zeroedFilteringParameters = {\n      q: ''\n    }; // reset all custom filtering parameters\n\n    for (const [key, value] of Object.entries(filterOptions.filterAttributes)) {\n      if (value.isCustomParam) {\n        zeroedFilteringParameters[key] = '';\n      }\n    }\n\n    updateQueryParamsInURL(zeroedFilteringParameters, componentId, location, navigate);\n  };\n  /**\n   * Synchronize filters from URL to appliedFilters react hook.\n   */\n\n\n  useEffect(() => {\n    var _currentSortParam$spl, _currentSortParam$spl2;\n\n    const currentQParam = getComponentQueryParamValue(location.search, 'q', componentId) || '';\n    const appliedFilters = parseQParamDeep(currentQParam);\n    const currentSortParam = getComponentQueryParamValue(location.search, 'sort', componentId) || '';\n\n    if (!currentSortParam) {\n      addSortFilter(defaultAttributeKey, 'asc', true);\n    }\n\n    const sortOrder = (_currentSortParam$spl = currentSortParam.split('=')) === null || _currentSortParam$spl === void 0 ? void 0 : _currentSortParam$spl[1];\n    const sortParam = (_currentSortParam$spl2 = currentSortParam.split('=')) === null || _currentSortParam$spl2 === void 0 ? void 0 : _currentSortParam$spl2[2];\n\n    for (const [key, value] of Object.entries(filterOptions.filterAttributes)) {\n      // check filter attributes validity\n      if (key !== value.id) {\n        console.error('filterAttributes: ', filterOptions.filterAttributes);\n        throw new Error(`filterAttributes have invalid format, object key (${key}) has to match id field (${value.id})!`);\n      }\n\n      if (value.isCustomParam) {\n        const customParamValue = getComponentQueryParamValue(location.search, key, componentId);\n\n        if (customParamValue) {\n          appliedFilters[key] = [customParamValue];\n        }\n      }\n    }\n\n    setAppliedFilters(appliedFilters);\n\n    if (currentSortParam) {\n      setAscending(sortOrder === 'asc');\n      setSortAttribute(filterOptions.filterAttributes[sortParam]);\n    } else {\n      setAscending(null);\n      setSortAttribute(filterOptions.filterAttributes[defaultAttributeKey]);\n    }\n  }, [location.search, location, componentId, navigate, filterOptions.filterAttributes, defaultAttributeKey, addSortFilter]); // primary: history.location.search\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      children: [/*#__PURE__*/_jsxDEV(FlexItem, {\n        children: /*#__PURE__*/_jsxDEV(InputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            width: \"170px\",\n            variant: SelectVariant.single,\n            onToggle: isOpen => {\n              setIsFilterAttributeOpen(isOpen);\n            },\n            onSelect: (event, selection, isPlaceholder) => {\n              if (!isPlaceholder) {\n                setFilterAttribute(selection);\n                setIsFilterAttributeOpen(false);\n              }\n            },\n            selections: filterAttribute,\n            isOpen: isFilterAttributeOpen,\n            children: Object.keys(filterOptions.filterAttributes).map(filterAttributeKey => {\n              const filterAttribute = filterOptions.filterAttributes[filterAttributeKey]; // use 'title' attribute as default\n\n              filterAttribute.toString = () => {\n                return filterAttribute.title;\n              };\n\n              return /*#__PURE__*/_jsxDEV(SelectOption, {\n                value: filterAttribute\n              }, filterAttribute.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 24\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), (_filterAttribute$filt = filterAttribute.filterValues) !== null && _filterAttribute$filt !== void 0 && _filterAttribute$filt.length ? /*#__PURE__*/_jsxDEV(Select, {\n            className: styles['form-input'],\n            variant: SelectVariant.single,\n            onToggle: isOpen => {\n              setIsFilterValueOpen(isOpen);\n            },\n            onSelect: (event, selection, isPlaceholder) => {\n              addFilter(filterAttribute, selection);\n              setIsFilterValueOpen(false);\n            },\n            isOpen: isFilterValueOpen,\n            children: filterAttribute.filterValues.map(filterValue => {\n              return /*#__PURE__*/_jsxDEV(SelectOption, {\n                value: filterValue\n              }, filterValue, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 26\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(TextInput, {\n            className: styles['form-input'],\n            type: \"text\",\n            id: \"filter-text\",\n            placeholder: filterAttribute.placeholder || `Filter by ${filterAttribute}`,\n            onChange: value => {\n              setFilterValue(value);\n            },\n            onKeyPress: event => {\n              if (event.key === 'Enter' && filterValue && filterValue.trim().length > 0) {\n                addFilter(filterAttribute, filterValue);\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FlexItem, {\n        children: /*#__PURE__*/_jsxDEV(InputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            variant: SelectVariant.single,\n            onToggle: isOpen => {\n              setIsSortAttributeOpen(isOpen);\n            },\n            onSelect: (event, selection, isPlaceholder) => {\n              if (!isPlaceholder) {\n                setIsSortAttributeOpen(false);\n                addSortFilter(selection === null || selection === void 0 ? void 0 : selection.id, ascending ? 'asc' : 'desc');\n              }\n            },\n            selections: sortAttribute,\n            isOpen: isSortAttributeOpen,\n            children: Object.keys(filterOptions.filterAttributes).filter(filterAttributeKey => {\n              var _filterOptions$filter;\n\n              return (_filterOptions$filter = filterOptions.filterAttributes[filterAttributeKey]) === null || _filterOptions$filter === void 0 ? void 0 : _filterOptions$filter.sorted;\n            }).map(filterAttributeKey => {\n              const filterAttribute = filterOptions.filterAttributes[filterAttributeKey]; // use 'title' attribute as default\n\n              filterAttribute.toString = () => {\n                return filterAttribute.title;\n              };\n\n              return /*#__PURE__*/_jsxDEV(SelectOption, {\n                value: filterAttribute\n              }, filterAttribute.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 26\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              addSortFilter(sortAttribute.id, ascending === null || !ascending ? 'asc' : 'desc');\n            },\n            variant: \"plain\",\n            icon: ascending === null || ascending ? /*#__PURE__*/_jsxDEV(SortAmountDownAltIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 55\n            }, this) : /*#__PURE__*/_jsxDEV(SortAmountDownIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 83\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles['applied-filters'],\n      children: appliedFilters && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [Object.keys(appliedFilters).map(filterAttributeKey => /*#__PURE__*/_jsxDEV(ChipGroup, {\n          className: styles['chip-group'],\n          categoryName: filterOptions.filterAttributes[filterAttributeKey].title,\n          children: appliedFilters[filterAttributeKey].map(filterValueItem => /*#__PURE__*/_jsxDEV(Chip, {\n            onClick: () => {\n              removeFilter(filterAttributeKey, filterValueItem);\n            },\n            children: generateChipTitle(filterOptions.filterAttributes[filterAttributeKey], filterValueItem)\n          }, filterValueItem, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 19\n          }, this))\n        }, filterAttributeKey, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 15\n        }, this)), Object.keys(appliedFilters).length !== 0 && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            removeAllFilters();\n          },\n          variant: \"link\",\n          children: \"Clear all filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};","map":{"version":3,"names":["Button","Chip","ChipGroup","Flex","FlexItem","InputGroup","Select","SelectOption","SelectVariant","TextInput","SortAmountDownAltIcon","SortAmountDownIcon","useEffect","useState","useLocation","useNavigate","constructCustomFilterParam","addQParamItem","parseQParamDeep","removeQParamItem","getComponentQueryParamValue","updateQueryParamsInURL","styles","Filtering","filterOptions","componentId","location","navigate","defaultAttributeKey","Object","keys","filterAttributes","filterAttribute","setFilterAttribute","isFilterAttributeOpen","setIsFilterAttributeOpen","filterValue","setFilterValue","isFilterValueOpen","setIsFilterValueOpen","appliedFilters","setAppliedFilters","generateChipTitle","operator","isNegated","startsWith","substring","isCustomParam","length","addFilter","adjustedFilterValue","id","currentQParam","search","q","pageIndex","removeFilter","filterAttributeKey","removeAllFilters","zeroedFilteringParameters","key","value","entries","currentSortParam","addSortFilter","sortOrder","split","sortParam","console","error","Error","customParamValue","setAscending","setSortAttribute","single","isOpen","event","selection","isPlaceholder","map","toString","title","filterValues","placeholder","trim","setIsSortAttributeOpen","ascending","sortAttribute","isSortAttributeOpen","filter","sorted","filterValueItem"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/src/components/Filtering/Filtering.tsx"],"sourcesContent":["import {\n  Button,\n  Chip,\n  ChipGroup,\n  Flex,\n  FlexItem,\n  InputGroup,\n  Select,\n  SelectOption,\n  SelectVariant,\n  TextInput,\n} from '@patternfly/react-core';\nimport { SortAmountDownAltIcon, SortAmountDownIcon } from '@patternfly/react-icons';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { constructCustomFilterParam } from '../../utils/customParamHelper';\nimport { IQParamOperators, addQParamItem, parseQParamDeep, removeQParamItem } from '../../utils/qParamHelper';\nimport { getComponentQueryParamValue, updateQueryParamsInURL } from '../../utils/queryParamsHelper';\n\nimport styles from './Filtering.module.css';\n\n/**\n * All Query params except:\n *  - pagination\n *  - sorting\n *\n * Typically Q params and other custom params.\n *\n * @example\n * {\n *   status: ['REJECTED', 'FAILED']\n *   buildConfigName: ['%customA%']\n * }\n */\nexport interface IAppliedFilters {\n  [key: string]: string[];\n}\n\n/**\n * Not all possible combinations are valid.\n *\n * @example\n * {\n *   id: 'name',\n *   title: 'Name',\n *   placeholder: 'string | !string | s?ring | st*ng',\n *   operator: '=like='\n * }\n *\n * @example\n * {\n *   id: 'status',\n *   title: 'Status',\n *   filterValues: ['SUCCESS', 'REJECTED', 'FAILED'],\n *   operator: '=='\n * }\n *\n * @example\n * {\n *   id: 'customParam',\n *   title: 'Custom Param',\n *   isCustomParam: true,\n *   operator: '=like='\n * }\n */\nexport interface IFilterAttribute {\n  /**\n   * ID has to match object key {@link IFilterObject}, there is automatic checker throwing errors if they don't match.\n   */\n  id: string;\n  /**\n   * Title will be displayed to the user.\n   */\n  title: string;\n  /**\n   * Placeholder when text input is displayed.\n   */\n  placeholder?: string;\n  /**\n   * Select instead of text input will be displayed.\n   */\n  filterValues?: string[];\n  /**\n   * Additional operators (see IQParamOperators):\n   *  - '=like=' valid only when filterValues are not defined ('=notlike=' is determined automatically when filter value starts with ! character)\n   *  - '==' valid only when filterValues are defined\n   *  - '!=' valid only when filterValues are defined\n   */\n  operator: IQParamOperators;\n  /**\n   * When true, custom id based Query Param (not Q) will be used.\n   */\n  isCustomParam?: boolean;\n  /**\n   * Should be included in sort select?\n   */\n  sorted?: boolean;\n}\n\n/**\n * @example\n * {\n *   name: {IFilterAttribute},\n *   status: {IFilterAttribute},\n *   customParam: {IFilterAttribute}\n * }\n */\ninterface IFilterObject {\n  [key: string]: IFilterAttribute;\n}\n\nexport interface IFilterOptions {\n  filterAttributes: IFilterObject;\n}\n\ninterface IFilteringProps {\n  filterOptions: IFilterOptions;\n  componentId: string;\n}\n\n/**\n * @example\n  const filterOptions: IFilterOptions = {\n    filterAttributes: {\n      name: {\n        id: 'name',\n        title: 'Name',\n        placeholder: 'string | !string | s?ring | st*ng',\n        operator: '=like=',\n      },\n      description: {\n        id: 'description',\n        title: 'Description',\n        operator: '=like=',\n      },\n      customb: {\n        id: 'customb',\n        title: 'Custom Param',\n        isCustomParam: true,\n        operator: '=like=',\n      },\n      status: {\n        id: 'status',\n        title: 'Status',\n        filterValues: ['SUCCESS', 'REJECTED', 'FAILED'],\n        operator: '==',\n      },\n    },\n  };\n */\nexport const Filtering = ({ filterOptions, componentId }: IFilteringProps) => {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  /**\n   * FILTER ATTRIBUTE\n   */\n\n  // first key\n  const defaultAttributeKey = Object.keys(filterOptions.filterAttributes)[0];\n\n  const [filterAttribute, setFilterAttribute] = useState<IFilterAttribute>(filterOptions.filterAttributes[defaultAttributeKey]);\n  const [isFilterAttributeOpen, setIsFilterAttributeOpen] = useState<boolean>(false);\n\n  /**\n   * FILTER VALUE\n   */\n  const [filterValue, setFilterValue] = useState<string>('');\n  const [isFilterValueOpen, setIsFilterValueOpen] = useState<boolean>(false);\n\n  /**\n   * APPLIED FILTERS\n   */\n  const [appliedFilters, setAppliedFilters] = useState<IAppliedFilters>();\n\n  /**\n   * Generate user friendly chip title representing applied filter (Q param or custom filter param).\n   */\n  const generateChipTitle = (filterAttribute: IFilterAttribute, filterValue: string): string => {\n    if (filterAttribute.operator === '=like=') {\n      let isNegated = false;\n\n      // !\"%abc%\" -> \"%abc%\" when negated\n      if (filterValue.startsWith('!')) {\n        filterValue = filterValue.substring(1);\n        isNegated = true;\n      }\n\n      // %abc% -> abc (custom param is not wrapped by \" characters)\n      if (filterAttribute.isCustomParam) {\n        filterValue = filterValue.substring(1, filterValue.length - 1);\n      }\n      // \"%abc%\" -> abc\n      else {\n        filterValue = filterValue.substring(2, filterValue.length - 2);\n      }\n\n      // abc -> !abc when negated\n      return (isNegated ? '!' : '') + filterValue;\n    }\n    return filterValue;\n  };\n\n  /**\n   * Add filter by updating URL.\n   */\n  const addFilter = (filterAttribute: IFilterAttribute, filterValue: string) => {\n    // custom query param (not Q param)\n    if (filterAttribute.isCustomParam) {\n      const adjustedFilterValue = constructCustomFilterParam(filterAttribute, filterValue);\n      updateQueryParamsInURL({ [filterAttribute.id]: adjustedFilterValue }, componentId, location, navigate);\n    }\n\n    // Q param\n    else {\n      const currentQParam = getComponentQueryParamValue(location.search, 'q', componentId) || '';\n      const q = addQParamItem(filterAttribute.id, filterValue, filterAttribute.operator, currentQParam);\n\n      /**\n       * Update Query Params only if some new meaningful q param is returned.\n       */\n      if (q) {\n        // update Q param and reset pageIndex\n        updateQueryParamsInURL({ q, pageIndex: 1 }, componentId, location, navigate);\n      }\n    }\n  };\n\n  /**\n   * Remove filter by updating URL.\n   */\n  const removeFilter = (filterAttributeKey: string, filterValue: string) => {\n    if (filterOptions.filterAttributes[filterAttributeKey].isCustomParam) {\n      updateQueryParamsInURL({ [filterAttributeKey]: '' }, componentId, location, navigate);\n    } else {\n      const currentQParam = getComponentQueryParamValue(location.search, 'q', componentId) || '';\n      const q = removeQParamItem(\n        filterAttributeKey,\n        filterValue,\n        filterOptions.filterAttributes[filterAttributeKey].operator,\n        currentQParam\n      );\n      updateQueryParamsInURL({ q }, componentId, location, navigate);\n    }\n  };\n\n  /**\n   * Reset all filtering parameters to empty '' string and update Query Params in URL, they will be removed if empty.\n   *\n   * Non filtering parameters (like pagination and sorting) are untouched.\n   */\n  const removeAllFilters = () => {\n    // reset q parameter\n    const zeroedFilteringParameters: { [key: string]: string } = { q: '' };\n\n    // reset all custom filtering parameters\n    for (const [key, value] of Object.entries(filterOptions.filterAttributes)) {\n      if (value.isCustomParam) {\n        zeroedFilteringParameters[key] = '';\n      }\n    }\n\n    updateQueryParamsInURL(zeroedFilteringParameters, componentId, location, navigate);\n  };\n\n  /**\n   * Synchronize filters from URL to appliedFilters react hook.\n   */\n  useEffect(() => {\n    const currentQParam = getComponentQueryParamValue(location.search, 'q', componentId) || '';\n    const appliedFilters: IAppliedFilters = parseQParamDeep(currentQParam);\n\n    const currentSortParam = getComponentQueryParamValue(location.search, 'sort', componentId) || '';\n    if (!currentSortParam) {\n      addSortFilter(defaultAttributeKey, 'asc', true);\n    }\n\n    const sortOrder = currentSortParam.split('=')?.[1];\n    const sortParam = currentSortParam.split('=')?.[2];\n\n    for (const [key, value] of Object.entries(filterOptions.filterAttributes)) {\n      // check filter attributes validity\n      if (key !== value.id) {\n        console.error('filterAttributes: ', filterOptions.filterAttributes);\n        throw new Error(`filterAttributes have invalid format, object key (${key}) has to match id field (${value.id})!`);\n      }\n\n      if (value.isCustomParam) {\n        const customParamValue = getComponentQueryParamValue(location.search, key, componentId);\n        if (customParamValue) {\n          appliedFilters[key] = [customParamValue];\n        }\n      }\n    }\n\n    setAppliedFilters(appliedFilters);\n    if (currentSortParam) {\n      setAscending(sortOrder === 'asc');\n      setSortAttribute(filterOptions.filterAttributes[sortParam]);\n    } else {\n      setAscending(null);\n      setSortAttribute(filterOptions.filterAttributes[defaultAttributeKey]);\n    }\n  }, [location.search, location, componentId, navigate, filterOptions.filterAttributes, defaultAttributeKey, addSortFilter]); // primary: history.location.search\n\n  return (\n    <>\n      <Flex>\n        <FlexItem>\n          {/* FILTER INPUTS */}\n          <InputGroup>\n            {/* filter attribute */}\n            <Select\n              width=\"170px\"\n              variant={SelectVariant.single}\n              onToggle={(isOpen) => {\n                setIsFilterAttributeOpen(isOpen);\n              }}\n              onSelect={(event, selection, isPlaceholder) => {\n                if (!isPlaceholder) {\n                  setFilterAttribute(selection as IFilterAttribute);\n                  setIsFilterAttributeOpen(false);\n                }\n              }}\n              selections={filterAttribute}\n              isOpen={isFilterAttributeOpen}\n            >\n              {Object.keys(filterOptions.filterAttributes).map((filterAttributeKey: string) => {\n                const filterAttribute = filterOptions.filterAttributes[filterAttributeKey];\n                // use 'title' attribute as default\n                filterAttribute.toString = () => {\n                  return filterAttribute.title;\n                };\n\n                return <SelectOption key={filterAttribute.id} value={filterAttribute} />;\n              })}\n            </Select>\n\n            {/* filter value */}\n            {filterAttribute.filterValues?.length ? (\n              <Select\n                className={styles['form-input']}\n                variant={SelectVariant.single}\n                onToggle={(isOpen) => {\n                  setIsFilterValueOpen(isOpen);\n                }}\n                onSelect={(event, selection, isPlaceholder) => {\n                  addFilter(filterAttribute, selection as string);\n                  setIsFilterValueOpen(false);\n                }}\n                isOpen={isFilterValueOpen}\n              >\n                {filterAttribute.filterValues.map((filterValue: string) => {\n                  return <SelectOption key={filterValue} value={filterValue} />;\n                })}\n              </Select>\n            ) : (\n              <TextInput\n                className={styles['form-input']}\n                type=\"text\"\n                id=\"filter-text\"\n                placeholder={filterAttribute.placeholder || `Filter by ${filterAttribute}`}\n                onChange={(value) => {\n                  setFilterValue(value);\n                }}\n                onKeyPress={(event) => {\n                  if (event.key === 'Enter' && filterValue && filterValue.trim().length > 0) {\n                    addFilter(filterAttribute, filterValue);\n                  }\n                }}\n              />\n            )}\n          </InputGroup>\n        </FlexItem>\n\n        <FlexItem>\n          {/* SORT INPUTS */}\n          <InputGroup>\n            <Select\n              variant={SelectVariant.single}\n              onToggle={(isOpen) => {\n                setIsSortAttributeOpen(isOpen);\n              }}\n              onSelect={(event, selection, isPlaceholder) => {\n                if (!isPlaceholder) {\n                  setIsSortAttributeOpen(false);\n                  addSortFilter((selection as IFilterAttribute)?.id, ascending ? 'asc' : 'desc');\n                }\n              }}\n              selections={sortAttribute}\n              isOpen={isSortAttributeOpen}\n            >\n              {Object.keys(filterOptions.filterAttributes)\n                .filter((filterAttributeKey: string) => {\n                  return filterOptions.filterAttributes[filterAttributeKey]?.sorted;\n                })\n                .map((filterAttributeKey: string) => {\n                  const filterAttribute = filterOptions.filterAttributes[filterAttributeKey];\n                  // use 'title' attribute as default\n                  filterAttribute.toString = () => {\n                    return filterAttribute.title;\n                  };\n\n                  return <SelectOption key={filterAttribute.id} value={filterAttribute} />;\n                })}\n            </Select>\n            <Button\n              onClick={() => {\n                addSortFilter(sortAttribute.id, ascending === null || !ascending ? 'asc' : 'desc');\n              }}\n              variant=\"plain\"\n              icon={ascending === null || ascending ? <SortAmountDownAltIcon /> : <SortAmountDownIcon />}\n            ></Button>\n          </InputGroup>\n        </FlexItem>\n      </Flex>\n\n      {/* APPLIED FILTERS */}\n      <div className={styles['applied-filters']}>\n        {appliedFilters && (\n          <>\n            {/* FILTER CHIPS */}\n            {Object.keys(appliedFilters).map((filterAttributeKey) => (\n              <ChipGroup\n                className={styles['chip-group']}\n                key={filterAttributeKey}\n                categoryName={filterOptions.filterAttributes[filterAttributeKey].title}\n              >\n                {appliedFilters[filterAttributeKey].map((filterValueItem) => (\n                  <Chip\n                    key={filterValueItem}\n                    onClick={() => {\n                      removeFilter(filterAttributeKey, filterValueItem);\n                    }}\n                  >\n                    {generateChipTitle(filterOptions.filterAttributes[filterAttributeKey], filterValueItem)}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            ))}\n\n            {/* CLEAR ALL */}\n            {Object.keys(appliedFilters).length !== 0 && (\n              <Button\n                onClick={() => {\n                  removeAllFilters();\n                }}\n                variant=\"link\"\n              >\n                Clear all filters\n              </Button>\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
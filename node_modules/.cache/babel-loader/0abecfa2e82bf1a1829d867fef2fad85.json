{"ast":null,"code":"import _slicedToArray from \"/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/DualListSelector/dual-list-selector';\nimport { css } from '@patternfly/react-styles';\nimport { Badge } from '../Badge';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport { flattenTree } from './treeUtils';\nimport { DualListSelectorListContext } from './DualListSelectorContext';\n\nvar DualListSelectorTreeItemBase = function DualListSelectorTreeItemBase(_a) {\n  var onOptionCheck = _a.onOptionCheck,\n      children = _a.children,\n      className = _a.className,\n      id = _a.id,\n      text = _a.text,\n      defaultExpanded = _a.defaultExpanded,\n      hasBadge = _a.hasBadge,\n      isChecked = _a.isChecked,\n      checkProps = _a.checkProps,\n      badgeProps = _a.badgeProps,\n      itemData = _a.itemData,\n      _a$isDisabled = _a.isDisabled,\n      isDisabled = _a$isDisabled === void 0 ? false : _a$isDisabled,\n      useMemo = _a.useMemo,\n      props = __rest(_a, [\"onOptionCheck\", \"children\", \"className\", \"id\", \"text\", \"defaultExpanded\", \"hasBadge\", \"isChecked\", \"checkProps\", \"badgeProps\", \"itemData\", \"isDisabled\", \"useMemo\"]);\n\n  var ref = React.useRef(null);\n\n  var _React$useState = React.useState(defaultExpanded || false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isExpanded = _React$useState2[0],\n      setIsExpanded = _React$useState2[1];\n\n  var _React$useContext = React.useContext(DualListSelectorListContext),\n      setFocusedOption = _React$useContext.setFocusedOption;\n\n  React.useEffect(function () {\n    setIsExpanded(defaultExpanded);\n  }, [defaultExpanded]);\n  return React.createElement(\"li\", Object.assign({\n    className: css(styles.dualListSelectorListItem, className, children && styles.modifiers.expandable, isExpanded && styles.modifiers.expanded, isDisabled && styles.modifiers.disabled),\n    id: id\n  }, props, {\n    \"aria-selected\": isChecked,\n    role: \"treeitem\"\n  }, isExpanded && {\n    'aria-expanded': 'true'\n  }), React.createElement(\"div\", {\n    className: css(styles.dualListSelectorListItemRow, isChecked && styles.modifiers.selected, styles.modifiers.check)\n  }, React.createElement(\"div\", {\n    className: css(styles.dualListSelectorItem),\n    ref: ref,\n    tabIndex: -1,\n    onClick: isDisabled ? undefined : function (evt) {\n      onOptionCheck && onOptionCheck(evt, !isChecked, itemData);\n      setFocusedOption(id);\n    }\n  }, React.createElement(\"span\", {\n    className: css(styles.dualListSelectorItemMain)\n  }, children && React.createElement(\"div\", {\n    className: css(styles.dualListSelectorItemToggle),\n    onClick: function onClick(e) {\n      if (children) {\n        setIsExpanded(!isExpanded);\n      }\n\n      e.stopPropagation();\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.key === ' ' || e.key === 'Enter') {\n        document.activeElement.click();\n        e.preventDefault();\n      }\n    },\n    tabIndex: -1\n  }, React.createElement(\"span\", {\n    className: css(styles.dualListSelectorItemToggleIcon)\n  }, React.createElement(AngleRightIcon, {\n    \"aria-hidden\": true\n  }))), React.createElement(\"span\", {\n    className: css(styles.dualListSelectorItemCheck)\n  }, React.createElement(\"input\", Object.assign({\n    type: \"checkbox\",\n    onChange: function onChange(evt) {\n      onOptionCheck && onOptionCheck(evt, !isChecked, itemData);\n      setFocusedOption(id);\n    },\n    onClick: function onClick(evt) {\n      return evt.stopPropagation();\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.key === ' ' || e.key === 'Enter') {\n        onOptionCheck && onOptionCheck(e, !isChecked, itemData);\n        setFocusedOption(id);\n        e.preventDefault();\n      }\n    },\n    ref: function ref(elem) {\n      return elem && (elem.indeterminate = isChecked === null);\n    },\n    checked: isChecked || false,\n    tabIndex: -1\n  }, checkProps))), React.createElement(\"span\", {\n    className: css(styles.dualListSelectorItemText)\n  }, text), hasBadge && children && React.createElement(\"span\", {\n    className: css(styles.dualListSelectorItemCount)\n  }, React.createElement(Badge, Object.assign({}, badgeProps), flattenTree(children.props.data).length))))), isExpanded && children);\n};\n\nexport var DualListSelectorTreeItem = React.memo(DualListSelectorTreeItemBase, function (prevProps, nextProps) {\n  if (!nextProps.useMemo) {\n    return false;\n  }\n\n  if (prevProps.className !== nextProps.className || prevProps.text !== nextProps.text || prevProps.id !== nextProps.id || prevProps.defaultExpanded !== nextProps.defaultExpanded || prevProps.checkProps !== nextProps.checkProps || prevProps.hasBadge !== nextProps.hasBadge || prevProps.badgeProps !== nextProps.badgeProps || prevProps.isChecked !== nextProps.isChecked || prevProps.itemData !== nextProps.itemData) {\n    return false;\n  }\n\n  return true;\n});\nDualListSelectorTreeItem.displayName = 'DualListSelectorTreeItem';","map":{"version":3,"mappings":"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","names":["React","styles","css","Badge","AngleRightIcon","flattenTree","DualListSelectorListContext","DualListSelectorTreeItemBase","_a","onOptionCheck","children","className","id","text","defaultExpanded","hasBadge","isChecked","checkProps","badgeProps","itemData","isDisabled","useMemo","props","__rest","ref","useRef","useState","isExpanded","setIsExpanded","useContext","setFocusedOption","useEffect","dualListSelectorListItem","modifiers","expandable","expanded","disabled","role","dualListSelectorListItemRow","selected","check","dualListSelectorItem","tabIndex","onClick","undefined","evt","dualListSelectorItemMain","dualListSelectorItemToggle","e","stopPropagation","onKeyDown","key","document","activeElement","click","preventDefault","dualListSelectorItemToggleIcon","dualListSelectorItemCheck","type","onChange","elem","indeterminate","checked","dualListSelectorItemText","dualListSelectorItemCount","Object","data","length","DualListSelectorTreeItem","memo","prevProps","nextProps","displayName"],"sources":["/home/pkorytar/Projects/RedHat/pnc-web-ui-react/node_modules/@patternfly/react-core/src/components/DualListSelector/DualListSelectorTreeItem.tsx"],"sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/DualListSelector/dual-list-selector';\nimport { css } from '@patternfly/react-styles';\nimport { DualListSelectorTreeItemData } from './DualListSelectorTree';\nimport { Badge } from '../Badge';\nimport AngleRightIcon from '@patternfly/react-icons/dist/esm/icons/angle-right-icon';\nimport { flattenTree } from './treeUtils';\nimport { DualListSelectorListContext } from './DualListSelectorContext';\n\nexport interface DualListSelectorTreeItemProps extends React.HTMLProps<HTMLLIElement> {\n  /** Content rendered inside the dual list selector. */\n  children?: React.ReactNode;\n  /** Additional classes applied to the dual list selector. */\n  className?: string;\n  /** Flag indicating this option is expanded by default. */\n  defaultExpanded?: boolean;\n  /** Flag indicating this option has a badge */\n  hasBadge?: boolean;\n  /** Callback fired when an option is checked */\n  onOptionCheck?: (\n    event: React.MouseEvent | React.ChangeEvent<HTMLInputElement> | React.KeyboardEvent,\n    isChecked: boolean,\n    itemData: DualListSelectorTreeItemData\n  ) => void;\n  /** ID of the option */\n  id: string;\n  /** Text of the option */\n  text: string;\n  /** Flag indicating if this open is checked. */\n  isChecked?: boolean;\n  /** Additional properties to pass to the option checkbox */\n  checkProps?: any;\n  /** Additional properties to pass to the option badge */\n  badgeProps?: any;\n  /** Raw data of the option */\n  itemData?: DualListSelectorTreeItemData;\n  /** Flag indicating whether the component is disabled. */\n  isDisabled?: boolean;\n  /** Flag indicating the DualListSelector tree should utilize memoization to help render large data sets. */\n  useMemo?: boolean;\n}\n\nconst DualListSelectorTreeItemBase: React.FunctionComponent<DualListSelectorTreeItemProps> = ({\n  onOptionCheck,\n  children,\n  className,\n  id,\n  text,\n  defaultExpanded,\n  hasBadge,\n  isChecked,\n  checkProps,\n  badgeProps,\n  itemData,\n  isDisabled = false,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  useMemo,\n  ...props\n}: DualListSelectorTreeItemProps) => {\n  const ref = React.useRef(null);\n  const [isExpanded, setIsExpanded] = React.useState(defaultExpanded || false);\n  const { setFocusedOption } = React.useContext(DualListSelectorListContext);\n\n  React.useEffect(() => {\n    setIsExpanded(defaultExpanded);\n  }, [defaultExpanded]);\n\n  return (\n    <li\n      className={css(\n        styles.dualListSelectorListItem,\n        className,\n        children && styles.modifiers.expandable,\n        isExpanded && styles.modifiers.expanded,\n        isDisabled && styles.modifiers.disabled\n      )}\n      id={id}\n      {...props}\n      aria-selected={isChecked}\n      role=\"treeitem\"\n      {...(isExpanded && { 'aria-expanded': 'true' })}\n    >\n      <div\n        className={css(\n          styles.dualListSelectorListItemRow,\n          isChecked && styles.modifiers.selected,\n          styles.modifiers.check\n        )}\n      >\n        <div\n          className={css(styles.dualListSelectorItem)}\n          ref={ref}\n          tabIndex={-1}\n          onClick={\n            isDisabled\n              ? undefined\n              : evt => {\n                  onOptionCheck && onOptionCheck(evt, !isChecked, itemData);\n                  setFocusedOption(id);\n                }\n          }\n        >\n          <span className={css(styles.dualListSelectorItemMain)}>\n            {children && (\n              <div\n                className={css(styles.dualListSelectorItemToggle)}\n                onClick={e => {\n                  if (children) {\n                    setIsExpanded(!isExpanded);\n                  }\n                  e.stopPropagation();\n                }}\n                onKeyDown={(e: React.KeyboardEvent) => {\n                  if (e.key === ' ' || e.key === 'Enter') {\n                    (document.activeElement as HTMLElement).click();\n                    e.preventDefault();\n                  }\n                }}\n                tabIndex={-1}\n              >\n                <span className={css(styles.dualListSelectorItemToggleIcon)}>\n                  <AngleRightIcon aria-hidden />\n                </span>\n              </div>\n            )}\n            <span className={css(styles.dualListSelectorItemCheck)}>\n              <input\n                type=\"checkbox\"\n                onChange={(evt: React.ChangeEvent<HTMLInputElement>) => {\n                  onOptionCheck && onOptionCheck(evt, !isChecked, itemData);\n                  setFocusedOption(id);\n                }}\n                onClick={(evt: React.MouseEvent) => evt.stopPropagation()}\n                onKeyDown={(e: React.KeyboardEvent) => {\n                  if (e.key === ' ' || e.key === 'Enter') {\n                    onOptionCheck && onOptionCheck(e, !isChecked, itemData);\n                    setFocusedOption(id);\n                    e.preventDefault();\n                  }\n                }}\n                ref={elem => elem && (elem.indeterminate = isChecked === null)}\n                checked={isChecked || false}\n                tabIndex={-1}\n                {...checkProps}\n              />\n            </span>\n\n            <span className={css(styles.dualListSelectorItemText)}>{text}</span>\n            {hasBadge && children && (\n              <span className={css(styles.dualListSelectorItemCount)}>\n                <Badge {...badgeProps}>{flattenTree((children as React.ReactElement).props.data).length}</Badge>\n              </span>\n            )}\n          </span>\n        </div>\n      </div>\n      {isExpanded && children}\n    </li>\n  );\n};\n\nexport const DualListSelectorTreeItem = React.memo(DualListSelectorTreeItemBase, (prevProps, nextProps) => {\n  if (!nextProps.useMemo) {\n    return false;\n  }\n\n  if (\n    prevProps.className !== nextProps.className ||\n    prevProps.text !== nextProps.text ||\n    prevProps.id !== nextProps.id ||\n    prevProps.defaultExpanded !== nextProps.defaultExpanded ||\n    prevProps.checkProps !== nextProps.checkProps ||\n    prevProps.hasBadge !== nextProps.hasBadge ||\n    prevProps.badgeProps !== nextProps.badgeProps ||\n    prevProps.isChecked !== nextProps.isChecked ||\n    prevProps.itemData !== nextProps.itemData\n  ) {\n    return false;\n  }\n\n  return true;\n});\n\nDualListSelectorTreeItem.displayName = 'DualListSelectorTreeItem';\n"]},"metadata":{},"sourceType":"module"}